define("modal",["module","page","utils","jquery"],function(t,e,r,s){const n={name:t.id,class:"."+t.id};r.broadcast(n.name,"loaded");var i={};return r.createModule(n.name,function(t){const a=this;this.$el=t,this.module=n,this.init=function(){a.broadcast("init"),a.getElements("close-button").on("click",function(t){e()}),a.broadcast("ready")};let o=null,l=!0;const e=()=>{i(),l&&a.broadcast("modalClosed",{_trackEvent:{event:"modalClosed",category:"modal",content_type:window.tegna.initialTracking.content_type,page_url:window.location.href,market:window.tegna.initialTracking.market,section:window.tegna.initialTracking.section,subsection:window.tegna.initialTracking.subsection,topic:window.tegna.initialTracking.topic,subtopic:window.tegna.initialTracking.subtopic,platform:window.tegna.initialTracking.platform,site_type:window.tegna.initialTracking.platform,canonical_url:window.tegna.initialTracking.canonical_url,page_type:window.tegna.initialTracking.page_type,original_headline:window.tegna.initialTracking.original_headline,call_letters:window.tegna.initialTracking.call_letters}}),"function"==typeof o&&o(),c(200)},c=t=>{o=null,l=!0;const e=a.getElements("content")[0],i=()=>{for(;e.firstChild;)e.removeChild(e.lastChild)};t&&0<t?window.setTimeout(()=>{i()},t):i()},d=()=>{a.broadcast("showing"),a.getBlock().setModifier("open","true")},i=()=>{a.getBlock().setModifier("open","false")};this.close=e,this.create=(t,e,i=!0)=>{if(a.broadcast("creating",{template:t}),c(),o=e,l=i,t)if("TEMPLATE"===t.tagName){e=t.content.cloneNode(!0);const n=a.getElements("content")[0];n.append(e),a.broadcast("showing",{el:e}),d(),window.setTimeout(()=>{let e=[];n.querySelectorAll("[data-module]").forEach(t=>{t=t.dataset.module;e.push(t)}),require(e,()=>{r.broadcast("grid","addedSection",{$el:s(n),el:s(n)[0]})})},500)}else a.getElements("content").append(t),d()}},t=>{i={create:t.create,close:t.close},window.modal=i}),i});
//# sourceMappingURL=modal_7.7.5.js.map