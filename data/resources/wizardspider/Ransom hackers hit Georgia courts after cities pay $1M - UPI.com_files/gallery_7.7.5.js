define("gallery",["module","page","utils","bem","byocarousel","tag"],function(e,o,m,t,u,g){const i={name:e.id,class:"."+e.id};m.broadcast(i.name,"loaded"),m.createModuleNoJQ(i.name,function(l){const s=this,r=new t(l,i.name);this.module=i;let c=!(this.init=function(){s.broadcast("init"),r.selectElements("more").currentEl[0].addEventListener("click",function(){r.selectElements("description").currentEl[0].style.height=r.selectElements("description-text").currentEl[0].scrollHeight+"px",r.selectElements("more").currentEl[0].setAttribute("disabled",""),r.selectElements("close").currentEl[0].removeAttribute("disabled")}),r.selectElements("close").currentEl[0].addEventListener("click",function(){d()});{const i=r.selectElements("slides").currentEl[0],n=r.selectElementsWithModifier("arrow","type","next").currentEl[0],a=r.selectElementsWithModifier("arrow","type","previous").currentEl[0],t=(e,t)=>{e?a.setAttribute("disabled","disabled"):a.removeAttribute("disabled"),t?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled")};i.addEventListener("initialPosition",e=>{t(e.detail.xAtStart,e.detail.xAtEnd)}),i.addEventListener("move",e=>{t(e.detail.xAtStart,e.detail.xAtEnd)}),i.addEventListener("init",e=>{const t=e.detail;r.selectElements("slides").setModifier("active",!0);e=parseInt(l.dataset.initialSlide)+1;t.slide=e,r.selectElements("current-slide-number").currentEl[0].textContent=e,n.addEventListener("click",()=>{t.nextPage()}),a.addEventListener("click",()=>{t.prevPage()}),i.addEventListener("visibilityChange",e=>{e=e.detail;e.visible&&e.index!==t.slide&&(d(),r.selectElements("current-slide-number").currentEl[0].textContent=e.index,r.selectElements("description-text-inner").currentEl[0].textContent=e.el.dataset.caption,r.selectElements("credit").currentEl[0].textContent=e.el.dataset.credit,45<r.selectElements("description-text").currentEl[0].scrollHeight?r.selectElements("more").currentEl[0].removeAttribute("disabled"):r.selectElements("more").currentEl[0].setAttribute("disabled",""),t.setSlide(e))}),i.addEventListener("change",e=>{var t={event:"media-gallery/arrowsClicked",asset_id:l.dataset.id,content_categories:l.dataset.categories,content_title:l.dataset.title,content_type:"gallery",page_url:window.location.href,item_number:e.detail.new.index,market:window.tegna.initialTracking.market,section:l.dataset.section,subsection:l.dataset.subsection,topic:l.dataset.topic,subtopic:l.dataset.subtopic,platform:window.tegna.initialTracking.platform,site_type:window.tegna.initialTracking.platform,canonical_url:window.tegna.initialTracking.canonical_url,page_type:window.tegna.initialTracking.page_type,cct_story:l.dataset.isCct,call_letters:window.tegna.initialTracking.call_letters,tracking_tags:l.dataset.trackingTags},i={event_name_ga4:"click_gallery",event_category_ga4:"gallery",event_label_ga4:l.dataset.title,asset_id:l.dataset.id,content_categories:l.dataset.categories,content_title:l.dataset.title,content_type:"gallery",item_number:e.detail.new.index,market:o.model.market,section:l.dataset.section,subsection:l.dataset.subsection,topic:l.dataset.topic,subtopic:l.dataset.subtopic,platform:"mobile"===o.model.platform?"mobile_web":o.model.platform,site_type:"mobile"===o.model.platform?"mobile_web":o.model.platform,canonical_url:o.model.canonical_url,page_type:window.tegna.initialTracking.page_type,cct_story:l.dataset.isCct,call_letters:o.model.callLetters,tracking_tags:l.dataset.trackingTags},n=m.clone(t);n.item_number=e.detail.old.index,c||(g.fire("ga4",i),s.broadcast("firstSlideChange",{slide:e.detail.old.index,_trackEvent:n}),c=!0),g.fire("ga4",i),s.broadcast("slideChanged",{slide:e.detail.new.index,_trackEvent:t})})}),new u(i)}});function d(){r.selectElements("description").currentEl[0].style.height="45px",r.selectElements("more").currentEl[0].removeAttribute("disabled"),r.selectElements("close").currentEl[0].setAttribute("disabled","")}})});
//# sourceMappingURL=gallery_7.7.5.js.map