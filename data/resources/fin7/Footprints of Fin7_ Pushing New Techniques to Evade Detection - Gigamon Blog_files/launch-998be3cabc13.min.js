// For license information, see `https://assets.adobedtm.com/c82e2088a759/3b64889e0c2d/launch-998be3cabc13.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2023-11-14T22:17:26Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"EN4840efa38ffa4e16b6c8e3dc7f6dadda",stage:"production"},dataElements:{project_engage_video1:{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"#animation_container"}},"project-engage-video2":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version2"}},"Video Title":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#player1"}},"6sense Annual Revenue":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.annual_revenue;return null==t&&""==t&&(t="Not Identified"),t}}},"6sense Industry":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.industry;return null==t&&""==t&&(t="Not Identified"),t}}},"document.title":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"title"}},"project-engage-video5":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version5"}},getCampaignData:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("CID"),t=_satellite.getVar("UTM_Source")+"|"+_satellite.getVar("UTM_Medium")+"|"+_satellite.getVar("UTM_Campaign")+"|"+_satellite.getVar("UTM_Content")+"|"+_satellite.getVar("UTM_Term");return e?t+"|"+e:("||||"===t&&(t="NONE"),t)}}},"project-engage-video6":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version6"}},"project-engage-video3":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version3"}},PreviousPage:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getToolsByType("sc")[0].getS();return e.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.getPreviousValue(e.pageName,"gpv_pn")}}},"lead: app name":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.form.appName"}},"6sense Company":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.name;return null==t&&""==t&&(t="Not Identified"),t}}},"6sense Confidence":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.confidence;return null==t&&""==t&&(t="Not Identified"),t}}},"search: number of results":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.onsiteSearchResults"}},filedownload:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"UNGATED_PDF_DOWNLOAD"}}},gclid:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"gclid",caseInsensitive:!0}},"6sense Employee Range":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.employee_range;return null==t&&""==t&&(t="Not Identified"),t}}},UTM_Content:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_content",caseInsensitive:!0}},"external campaign: id":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!0}},"project-engage-video7":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version7"}},"project-engage-video4":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version4"}},"page URL":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"url"}},"blog: page name":{defaultValue:"no page name found",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.pageName"}},UTM_Campaign:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_campaign",caseInsensitive:!0}},"Optanon Consent":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"OptanonConsent"}},"blog: page type":{defaultValue:"no page type found",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.pageType"}},"search: search term":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.onsiteSearchTerm"}},"content: page name":{defaultValue:"no page name found",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageName"}},UTM_Term:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_term",caseInsensitive:!0}},"6sense Employee Count":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.employee_count;return null==t&&""==t&&(t="Not Identified"),t}}},"6sense naics":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.naics;return null==t&&""==t&&(t="Not Identified"),t}}},"6sense Revenue Range":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.revenue_range;return null==t&&""==t&&(t="Not Identified"),t}}},"content: site section":{defaultValue:"no site section found",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.primaryCategory"}},"6sense Domain":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.domain;return null==t&&""==t&&(t="Not Identified"),t}}},"blog: site section":{defaultValue:"no site section found",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.siteTitle"}},FormId:{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"id",elementSelector:"form"}},CID:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!0}},"project-engage-video8":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"title",elementSelector:"video#animation_container_version8"}},"content: sub section 1":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory1"}},"Clearbit Company Name":{defaultValue:"(Non-Company)",storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"reveal.company.name"}},"content: sub section 2":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory2"}},"6sense sic":{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.sic;return null==t&&""==t&&(t="Not Identified"),t}}},UTM_Source:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_source",caseInsensitive:!0}},"lead: transactionID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.form.transactionID"}},"internal campaign: id":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"intcid",caseInsensitive:!0}},"6sense Country":{defaultValue:"Unspecified",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=localStorage.getItem("_6senseCompanyDetails");n=JSON.parse(e),console.log(n);var t=n.company.country;return null==t&&""==t&&(t="Not Identified"),t}}},UTM_Medium:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_medium",caseInsensitive:!0}},"content: page type":{defaultValue:"no page type found",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.pageType"}}},extensions:{"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP88bc9a95368c457498f7139d263446ba/",settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},modules:{"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,n,r){"use strict";r.getSharedModule("adobe-analytics","get-tracker")||r.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),r.getSharedModule("adobe-analytics","augment-tracker")((function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]}))}}}},linkedin:{displayName:"LinkedIn Insight Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP56446adda5514f21aa663f9e3635ddaa/",settings:{insightTagID:"3961252"},modules:{"linkedin/src/lib/actions/loadInsightTag.js":{name:"load-insight-tag",displayName:"Load Insight Tag",script:function(e,t,n,r){"use strict";e.exports=function(){var e=r.getExtensionSettings();if(e&&e.insightTagID){window._linkedin_data_partner_id=e.insightTagID;var t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(n,t)}}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP7571d820eba8455989d7d6caa62be12a/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.2.0",endpoint:"/rest/v1/delivery",imsOrgId:"39F6555A58A470C30A495EF7@AdobeOrg",clientCode:"gigamon",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"gigamon.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),a=n("./modules/load-target"),o=a.initLibrarySettings,s=a.overridePublicApi,c=n("./modules/optin"),u=c.shouldUseOptIn,l=c.isTargetApproved,d=n("./analyticsIntegration");e.exports=function(){var e=o();e&&e.enabled?((0,n("./modules/libs/at-launch").init)(r,i,e),u()&&!l()||d()):s(r)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,n,r){"use strict";function i(){return a.adobe&&a.adobe.target&&a.adobe.target.VERSION}var a=n("@adobe/reactor-window"),o=n("./modules/libs/at-launch"),s=o.initConfig,c=o.initDelivery,u=n("./modules/page-load"),l=n("./messages");e.exports=function(e){var t=u(e);i()?(s(t),c()):a.console&&r.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,n,r){"use strict";function i(e){var t=e.compatMode,n=e.documentMode;return t&&"CSS1Compat"===t&&(!n||n>=9)}function a(e){var t=function(){},n=function(){return l.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:n,applyOffer:t,applyOffers:n,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function o(){return c.adobe&&c.adobe.target&&void 0!==c.adobe.target.getOffer}function s(){return o()?(r.logger.warn(d.ALREADY_INITIALIZED),null):(g.mboxParams=h(),g.globalMboxParams=f(),m(g,c.targetGlobalSettings||{},y),m(g,_||{},["version"]),i(u)||(g.enabled=!1,r.logger.warn(d.DELIVERY_DISABLED)),g.timeout=v(g.timeout),g)}var c=n("@adobe/reactor-window"),u=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),d=n("../messages"),p=n("./params-store"),h=p.getParams,f=p.getPageLoadParams,g=n("../targetSettings").targetSettings,m=n("./object-override"),_=n("../librarySettings").TARGET_DEFAULT_SETTINGS,v=n("./validation").validTimeout,y=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:s,overridePublicApi:a}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,n){"use strict";function r(e){return"undefined"===(void 0===e?"undefined":l(e))||null===e}function i(e){var t=void 0===e?"undefined":l(e);return null!==e&&("object"===t||"function"===t)}function a(e){return i(e[g])&&i(e[p])}function o(e,t){return!!t&&!r(e)&&!r(e[f])&&a(e[f])}function s(e,t){return e[p](t)}function c(){var e=d[f];return s(e,e[m][_])}function u(){var e=v[h];return o(d,e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n("@adobe/reactor-window").adobe,p="isApproved",h="optinEnabled",f="optIn",g="fetchPermissions",m="Categories",_="TARGET",v=n("../targetSettings").targetSettings;e.exports={shouldUseOptIn:u,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,n,r){"use strict";function i(e,t){return new s((function(n){e?t.then((function(t){t&&(e.abort=!0),n()})):n()}))}function a(e){if(e){var t=new s((function(e){var t=setTimeout((function(){e(!1)}),d.targetSettings.timeout),n=function n(r){e(!1),clearTimeout(t),l(o,r,n)};u(o,h,(function n(r){r.detail&&!0===r.detail.redirect?e(!0):e(!1),clearTimeout(t),l(o,r,n)})),u(o,f,n)}));e((function(e){return i(e,t)}))}}var o=n("@adobe/reactor-document"),s=n("@adobe/reactor-promise"),c=n("./modules/event-util"),u=c.addEventListener,l=c.removeEventListener,d=n("./targetSettings").extensionSettings,p=r.getSharedModule("adobe-analytics","augment-tracker"),h="at-request-succeeded",f="at-request-failed";e.exports=function(){a(p)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return s(e)||c(e,t)||u(e,t)||d()}function s(e){if(Array.isArray(e))return e}function c(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return null==e}function h(e){return cd.call(e)}function f(e){return h(e)}function g(e){var t=i(e);return null!=e&&("object"===t||"function"===t)}function m(e){return!!g(e)&&f(e)===ud}function _(e){return e}function v(e){return m(e)?e:_}function y(e){return p(e)?[]:Object.keys(e)}function b(e,t){return p(t)?[]:(od(t)?pd:hd)(v(e),t)}function I(e){return e&&e.length?e[0]:void 0}function S(e){return p(e)?[]:[].concat.apply([],e)}function E(e){for(var t=this,n=e?e.length:0,r=n;r-=1;)if(!m(e[r]))throw new TypeError("Expected a function");return function(){for(var r=0,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=n?e[r].apply(t,a):a[0];(r+=1)<n;)s=e[r].call(t,s);return s}}function k(e,t){p(t)||(od(t)?ld:dd)(v(e),t)}function T(e){return null!=e&&"object"===i(e)}function A(e){return"string"==typeof e||!od(e)&&T(e)&&f(e)===fd}function w(e){if(!A(e))return-1;for(var t=0,n=e.length,r=0;r<n;r+=1)t=(t<<5)-t+e.charCodeAt(r)&4294967295;return t}function P(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=gd}function C(e){return null!=e&&P(e.length)&&!m(e)}function D(e,t){return md((function(e){return t[e]}),e)}function N(e){for(var t=0,n=e.length,r=Array(n);t<n;)r[t]=e[t],t+=1;return r}function M(e){return e.split("")}function O(e){return p(e)?[]:C(e)?A(e)?M(e):N(e):D(y(e),e)}function x(e){if(null==e)return!0;if(C(e)&&(od(e)||A(e)||m(e.splice)))return!e.length;for(var t in e)if(vd.call(e,t))return!1;return!0}function R(e){return p(e)?"":bd.call(e)}function L(e){return A(e)?!R(e):x(e)}function V(e){return"number"==typeof e||T(e)&&f(e)===Sd}function j(e){return Object.getPrototypeOf(Object(e))}function B(e){if(!T(e)||f(e)!==Ed)return!1;var t=j(e);if(null===t)return!0;var n=wd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ad.call(n)===Pd}function F(e,t){return od(t)?t.join(e||""):""}function U(e,t){return p(t)?[]:(od(t)?md:Cd)(v(e),t)}function q(){return(new Date).getTime()}function H(e,t,n){return p(n)?t:(od(n)?Dd:Nd)(v(e),t,n)}function Y(e){return null==e?e:Od.call(e)}function K(e,t){return L(t)?[]:t.split(e||"")}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function W(e){clearTimeout(e)}function z(e){return void 0===e}function Q(e){return!z(e)}function J(e){return!!e.execute&&!!e.execute.pageLoad}function $(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function X(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function Z(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function ee(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&V(e))return+e.toFixed(t)}function ne(){function e(e){r.push(e)}function t(){var e=r;return r=[],e}function n(){return r.length>0}var r=[];return{addEntry:e,getAndClearEntries:t,hasEntries:n}}function re(){function e(e){return e.edgeHost?Rd.EDGE:Rd.LOCAL}function t(e){var t={},n=J(e),r=$(e),i=X(e),a=Z(e),o=ee(e);return n&&(t.executePageLoad=n),r&&(t.executeMboxCount=r),i&&(t.prefetchPageLoad=i),a&&(t.prefetchMboxCount=a),o&&(t.prefetchViewCount=o),t}function n(e){var t={};return e.dns&&(t.dns=te(e.dns)),e.tls&&(t.tls=te(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=te(e.timeToFirstByte)),e.download&&(t.download=te(e.download)),e.responseSize&&(t.responseSize=te(e.responseSize)),t}function r(e){var t={};return e.execution&&(t.execution=te(e.execution)),e.parsing&&(t.parsing=te(e.parsing)),e.request&&(t.request=n(e.request)),td.default(e,t)}function i(e){g.addEntry(r(e))}function a(e){h&&i({requestId:e.requestId,timestamp:q()})}function o(e,t){h&&i({requestId:e,timestamp:q(),execution:t})}function s(e,t){i(td.default(t,{requestId:e,timestamp:q()}))}function c(e,t){h&&t&&s(e,t)}function u(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;if(h&&r){var o=n.requestId,c=td.default(t(n),{decisioningMethod:a}),u={mode:e(i),features:c};s(o,td.default(r,u))}}function l(){return g.getAndClearEntries()}function d(){return g.hasEntries()}function p(e){return d()?td.default(e,{telemetry:{entries:l()}}):e}var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xd.SERVER_SIDE,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne();return{addDeliveryRequestEntry:u,addArtifactRequestEntry:c,addRenderEntry:o,addServerStateEntry:a,getAndClearEntries:l,hasEntries:d,addTelemetryToDeliveryRequest:p}}function ie(e,t){return e(t={exports:{}},t.exports),t.exports}function ae(){function e(e){var t=(Q(a[e])?a[e]:0)+1;return a[e]=t,""+e+t}function t(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return z(o[n])&&(o[n]=Bd()),n}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(z(o[e]))return-1;var n=Bd()-o[e]-t;return s[e]=n,n}function r(e){delete a[e],delete o[e],delete s[e]}function i(){a={},o={},s={}}var a={},o={},s={};return{timeStart:t,timeEnd:n,getTimings:function(){return s},getTiming:function(e){return s[e]},clearTiming:r,reset:i}}function oe(){var e=window.crypto||window.msCrypto;return!p(e)&&e.getRandomValues&&m(e.getRandomValues)&&e.getRandomValues.bind(e)}function se(){return Hd(qd)}function ce(){
for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function ue(e){for(var t=[],n=0;n<16;n+=1)t.push(Yd[e[n]]);return F("",t).toLowerCase()}function le(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,ue(t)}function de(){return le(se)}function pe(e,t){e[zh]&&(p(t[tf])||(e[Rf]=t[tf]),k((function(n){p(t[n])||(e[n]=t[n])}),Dg))}function he(e){var t=e.documentMode;return!t||t>=10}function fe(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function ge(e){return wg.test(e)}function me(e){if(ge(e))return e;var t=Y(K(".",e)),n=t.length;return n>=3&&Pg.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===n?t[0]:t[1]+"."+t[0]}function _e(e,t,n){var r="";e.location.protocol===Ag||(r=me(e.location.hostname)),n[vf]=r,n[zh]=fe(t)&&he(t),pe(n,e[Df]||{})}function ve(e){_e(Tg,kg,e);var t=Tg.location.protocol===Ag;(Cg=td.default({},e))[sf]=e[sf]/1e3,Cg[cf]=e[cf]/1e3,Cg[_f]=Cg[ff]||t?"https:":""}function ye(){return Cg}function be(e){try{return Ng(e)}catch(e){return{}}}function Ie(e){try{return Mg(e)}catch(e){return""}}function Se(e){try{return decodeURIComponent(e)}catch(t){return e}}function Ee(e){try{return encodeURIComponent(e)}catch(t){return e}}function ke(e){if(xg[e])return xg[e];Og.href=e;var t=Ud(Og.href);return t.queryKey=be(t.query),xg[e]=t,xg[e]}function Te(e,t,n){return{name:e,value:t,expires:n}}function Ae(e){var t=K("#",e);return x(t)||t.length<3||isNaN(parseInt(t[2],10))?null:Te(Se(t[0]),Se(t[1]),Number(t[2]))}function we(e){return L(e)?[]:K("|",e)}function Pe(){var e=U(Ae,we(Rg(jg))),t=Math.ceil(q()/1e3);return H((function(e,t){return e[t.name]=t,e}),{},b((function(e){return g(e)&&t<=e.expires}),e))}function Ce(e){var t=Pe()[e];return g(t)?t.value:""}function De(e){return F("#",[Ee(e.name),Ee(e.value),e.expires])}function Ne(e){return e.expires}function Me(e){var t=U(Ne,e);return Math.max.apply(null,t)}function Oe(e,t,n){var r=O(e),i=Math.abs(1e3*Me(r)-q()),a=F("|",U(De,r)),o=new Date(q()+i),s=td.default({domain:t,expires:o,secure:n},n?{sameSite:vg}:{});Lg(jg,a,s)}function xe(e){var t=e.name,n=e.value,r=e.expires,i=e.domain,a=e.secure,o=Pe();o[t]=Te(t,n,Math.ceil(r+q()/1e3)),Oe(o,i,a)}function Re(e){return Id(Rg(e))}function Le(e,t){var n=be(e.location.search);return Id(n[t])}function Ve(e,t){var n=ke(e.referrer).queryKey;return!p(n)&&Id(n[t])}function je(e,t,n){return Re(n)||Le(e,n)||Ve(t,n)}function Be(){var e=ye(),t=e[vf],n=e[ff],r=td.default({domain:t,secure:n},n?{sameSite:vg}:{});Lg(Pp,Cp,r);var i=Rg(Pp)===Cp;return Vg(Pp),i}function Fe(){return je(Tg,kg,Ap)}function Ue(){return ye()[zh]&&Be()&&!Fe()}function qe(){return je(Tg,kg,Tp)}function He(){return je(Tg,kg,wp)}function Ye(e,t){var n=e.console;return!p(n)&&m(n[t])}function Ke(e,t){var n=e.console;Ye(e,"warn")&&n.warn.apply(n,[Bg].concat(t))}function Ge(e,t){var n=e.console;Ye(e,"debug")&&qe()&&n.debug.apply(n,[Bg].concat(t))}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ke(Tg,t)}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ge(Tg,t)}function Qe(e){return H((function(t,n){return t[n]=e[n],t}),{},Dg)}function Je(e,t,n){var r=e[Cf]||[];if(e[Cf]=r,n){var i=r.push;r[nf]=Fg,r[Af]=Qe(t),r[wf]=[],r[Pf]=[],r.push=function(e){r[Pf].push(td.default({timestamp:q()},e)),i.call(this,e)}}}function $e(e,t,n,r){t===Pf&&e[Cf].push(n),r&&t!==Pf&&e[Cf][t].push(td.default({timestamp:q()},n))}function Xe(){Je(Tg,ye(),qe())}function Ze(e){$e(Tg,Pf,e,qe())}function et(e){$e(Tg,wf,e,qe())}function tt(){return m(qg)}function nt(e){return new qg(e)}function rt(){var e=kg.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},n=[];return nt((function(){for(var e=n.length,t=0;t<e;t+=1)n[t]();n.splice(0,e)})).observe(e,{characterData:!0}),function(e){n.push(e),t()}}function it(){return function(e){var t=Ug("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),Ug(kg.documentElement).append(t)}}function at(){tt()?id.default._setImmediateFn(rt()):-1!==Tg.navigator.userAgent.indexOf("MSIE 10")&&id.default._setImmediateFn(it())}function ot(e){return new id.default(e)}function st(e){return id.default.resolve(e)}function ct(e){return id.default.reject(e)}function ut(e){return od(e)?id.default.race(e):ct(new TypeError(Hg))}function lt(e){return od(e)?id.default.all(e):ct(new TypeError(Hg))}function dt(e,t,n){var r=-1;return ut([e,ot((function(e,i){r=G((function(){return i(new Error(n))}),t)}))]).then((function(e){return W(r),e}),(function(e){throw W(r),e}))}function pt(e){if(p(e[ng]))return!1;var t=e[ng];if(p(t[rg]))return!1;var n=t[rg];return m(n[ag])&&m(n[ig])}function ht(e,t){return!!t&&pt(e)}function ft(e,t){if(!pt(e))return!0;var n=e[ng][rg],r=(e[ng][rg][og]||{})[t];return n[ig](r)}function gt(e,t){if(!pt(e))return st(!0);var n=e[ng][rg],r=(e[ng][rg][og]||{})[t];return ot((function(e,t){n[ag]((function(){n[ig](r)?e(!0):t(lg)}),!0)}))}function mt(){var e=ye()[ug];return ht(Tg,e)}function _t(){return ft(Tg,sg)}function vt(){return ft(Tg,cg)}function yt(){return gt(Tg,sg)}function bt(){return be(Tg.location.search)[If]}function It(e,t){xe({name:kf,value:e,expires:t[cf],domain:t[vf],secure:t[ff]})}function St(e){It(e,ye())}function Et(){if(mt()&&!_t())return Yg;var e=bt();if(Id(e))return St(e),Ce(kf);var t=Ce(kf);return L(t)?St(Yg):St(t),Ce(kf)}function kt(e){var t=ye();xe({name:Sf,value:e,expires:t[sf],domain:t[vf],secure:t[ff]})}function Tt(){return Ce(Sf)}function At(e){if(L(e))return"";var t=Kg.exec(e);return x(t)||2!==t.length?"":t[1]}function wt(){if(!ye()[df])return"";var e=Rg(Ef);return L(e)?"":e}function Pt(e){var t=ye();if(t[df]){var n=t[vf],r=new Date(q()+t[pf]),i=t[ff],a=Rg(Ef),o=td.default({domain:n,expires:r,secure:i},i?{sameSite:vg}:{});if(Id(a))Lg(Ef,a,o);else{var s=At(e);L(s)||Lg(Ef,s,o)}}}function Ct(e,t){function n(e,n){var r=t.createEvent("CustomEvent");return n=n||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}m(e.CustomEvent)||(n.prototype=e.Event.prototype,e.CustomEvent=n)}function Dt(e,t){var n=e(),r=t(),i={};return i.sessionId=n,Id(r)?(i.deviceId=r,i):i}function Nt(e,t,n,r){var i=new e.CustomEvent(n,{detail:r});t.dispatchEvent(i)}function Mt(e,t){var n=t.mbox,r=t.error,i=t.url,a=t.analyticsDetails,o=t.responseTokens,s=t.execution,c={type:e,tracking:Dt(Et,Tt)};return p(n)||(c.mbox=n),p(r)||(c.error=r),p(i)||(c.url=i),x(a)||(c.analyticsDetails=a),x(o)||(c.responseTokens=o),x(s)||(c.execution=s),c}function Ot(){var e=Mt(Wg,{});Nt(Tg,kg,Wg,e)}function xt(e){var t=Mt(zg,e);Nt(Tg,kg,zg,t)}function Rt(e,t){var n=Mt(Qg,e);n.redirect=t,Nt(Tg,kg,Qg,n)}function Lt(e){var t=Mt(Jg,e);Nt(Tg,kg,Jg,t)}function Vt(e){var t=Mt($g,e);Nt(Tg,kg,$g,t)}function jt(e){var t=Mt(Xg,e);Nt(Tg,kg,Xg,t)}function Bt(e){var t=Mt(Zg,e);Nt(Tg,kg,Zg,t)}function Ft(e){var t=Mt(em,e);Nt(Tg,kg,em,t)}function Ut(e){var t=Mt(tm,e);Nt(Tg,kg,tm,t)}function qt(e){return T(e)&&1===e.nodeType&&!B(e)}function Ht(e){var t=e.charAt(0),n=e.charAt(1),r=e.charAt(2),i={key:e};return i.val="-"===n?""+t+n+"\\3"+r+" ":t+"\\3"+n+" ",i}function Yt(e){var t=e.match(am);return x(t)?e:H((function(e,t){return e.replace(t.key,t.val)}),e,U(Ht,t))}function Kt(e){for(var t,n,r,i,a=[],o=R(e),s=o.indexOf(nm);-1!==s;)t=R(o.substring(0,s)),i=(n=R(o.substring(s))).indexOf(rm),r=R(n.substring(im,i)),s=(o=R(n.substring(i+1))).indexOf(nm),t&&r&&a.push({sel:t,eq:Number(r)});return o&&a.push({sel:o}),a}function Gt(e){if(qt(e))return Ug(e);if(!A(e))return Ug(e);var t=Yt(e);if(-1===t.indexOf(nm))return Ug(t);var n=Kt(t);return H((function(e,t){var n=t.sel,r=t.eq;return e=e.find(n),V(r)&&(e=e.eq(r)),e}),Ug(kg),n)}function Wt(e){return Gt(e).length>0}function zt(e){return Ug("<"+Kp+"/>").append(e)}function Qt(e){return Ug(e)}function Jt(e){return Gt(e).prev()}function $t(e){return Gt(e).next()}function Xt(e){return Gt(e).parent()}function Zt(e,t){return Gt(t).is(e)}function en(e,t){return Gt(t).find(e)}function tn(e){return Gt(e).children()}function nn(){Tg[cm]=Tg[cm]||{},Tg[cm].querySelectorAll=Gt}function rn(e){var t=e[Gf];Tg[cm][lm]=t}function an(){kg.addEventListener(Bp,(function(e){m(Tg[cm][um])&&Tg[cm][um](e)}),!0)}function on(){if(He()){nn();var e=ye()[mf],t=function(){return an()},n=function(){return We(om)};ze(sm),ad.default(e).then(t).catch(n)}}function sn(e){return parseInt(e,10)}function cn(e){var t=sn(e);return isNaN(t)?null:t}function un(e){return K(_m,e)}function ln(e){var t=K(_m,e),n=cn(t[0]);if(p(n))return null;var r={};r.activityIndex=n;var i=cn(t[1]);return p(i)||(r.experienceIndex=i),r}function dn(e){return b(vm,U(ln,e))}function pn(e){return od(e)?dn(e):dn([e])}function hn(e){var t=be(e),n=t[pm];if(L(n))return null;var r={};r.token=n;var i=t[fm];Id(i)&&i===Cp&&(r.listedActivitiesOnly=!0);var a=t[gm];Id(a)&&(r.evaluateAsTrueAudienceIds=un(a));var o=t[mm];Id(o)&&(r.evaluateAsFalseAudienceIds=un(o));var s=t[hm];return x(s)||(r.previewIndexes=pn(s)),r}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lg,n=hn(e.location.search);if(!p(n)){var r=new Date(q()+186e4),i=ye(),a=i[ff],o=i[vf],s=td.default({expires:r,secure:a,domain:o},a?{sameSite:vg}:{});t(dm,JSON.stringify(n),s)}}function gn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rg)(dm);if(L(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function mn(e){var t=be(e)[bm];return L(t)?null:{token:t}}function _n(e){var t=mn(e.location.search);if(!p(t)){var n=new Date(q()+186e4),r=ye()[ff],i=td.default({expires:n,secure:r},r?{sameSite:vg}:{});Lg(ym,JSON.stringify(t),i)}}function vn(){var e=Rg(ym);if(L(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function yn(e){return Gt(e).empty().remove()}function bn(e,t){return Gt(t).after(e)}function In(e,t){return Gt(t).before(e)}function Sn(e,t){return Gt(t).append(e)}function En(e,t){return Gt(t).prepend(e)}function kn(e,t){return Gt(t).html(e)}function Tn(e){return Gt(e).html()}function An(e,t){return Gt(t).text(e)}function wn(e,t){return"<"+qp+" "+Vp+'="'+e+'" '+jp+'="'+Kh+'">'+t+"</"+qp+">"}function Pn(e,t){return wn(Im+w(t),t+" {"+e+"}")}function Cn(e,t){return wn(km,t+" {"+e+"}")}function Dn(e){if(!0===e[of]&&!Wt(Em)){var t=e[af];Sn(wn(Sm,t),Fp)}}function Nn(e){!0===e[of]&&Wt(Em)&&yn(Em)}function Mn(e,t){if(!x(t)){var n=b((function(e){return!Wt("#"+(Im+w(e)))}),t);if(!x(n)){var r=e[rf];Sn(F("\n",U((function(e){return Pn(r,e)}),n)),Fp)}}}function On(e,t){x(t)||Wt("#"+km)||Sn(Cn(e[rf],F(", ",t)),Fp)}function xn(){Dn(ye())}function Rn(){Nn(ye())}function Ln(e){Mn(ye(),e)}function Vn(e){On(ye(),e)}function jn(e){yn("#"+(Im+w(e)))}function Bn(){var e="#"+km;Wt(e)&&yn(e)}function Fn(e){return!p(e[Vp])}function Un(e){return!p(e[Lf])}function qn(e){switch(e){case 0:default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Hn(e){return e[Bf]}function Yn(e){return Fn(e)||Un(e)}function Kn(e,t){return H((function(e,n,r){var i={};return i[jf]=r,Fn(n)&&(i[Vp]=n[Vp]),Un(n)&&(i[Vf]=qn(n[Lf])),i[Kd]=t,Hn(n)&&(i[Bf]=!0),e.push(i),e}),[],b(Yn,e))}function Gn(e){if(!e.nameSpaces&&!e.dataSources)return Kn(e,xm);var t=[];return e.nameSpaces&&t.push.apply(t,Kn(e.nameSpaces,Om)),e.dataSources&&t.push.apply(t,Kn(e.dataSources,xm)),t}function Wn(e){if(p(e))return[];if(!m(e[Nm]))return[];var t=e[Nm](Mm);return g(t)?Gn(t):[]}function zn(e,t){return p(e)?null:m(e[Dm])?e[Dm](t):null}function Qn(e,t){if(p(e))return null;var n=e[t];return p(n)?null:n}function Jn(e,t,n){if(L(t))return null;if(p(e[Vm]))return null;if(!m(e[Vm][jm]))return null;var r=e[Vm][jm](t,{sdidParamExpiry:n});return g(r)&&m(r[Bm])&&r[Bm]()?r:null}function $n(e,t){if(!m(e.getVisitorValues))return st({});var n=[Pm,Am,wm];return t&&n.push(Cm),ot((function(t){e.getVisitorValues((function(e){return t(e)}),n)}))}function Xn(e){return ze(Um,e),{}}function Zn(e,t,n){return p(e)?st({}):dt($n(e,n),t,Fm).catch(Xn)}function er(e,t){if(!m(e.getVisitorValues))return{};var n=[Pm,Am,wm];t&&n.push(Cm);var r={};return e.getVisitorValues((function(e){return td.default(r,e)}),n),r}function tr(e,t){return p(e)?{}:er(e,t)}function nr(){var e=ye(),t=e[Jh],n=e[gf];return Jn(Tg,t,n)}function rr(){var e=nr(),t=ye();return Zn(e,t[lf],t[hf])}function ir(){return tr(nr(),ye()[hf])}function ar(){return Wn(nr())}function or(e){return zn(nr(),e)}function sr(e){return Qn(nr(),e)}function cr(e,t){qm[e]=t}function ur(e){return qm[e]}function lr(e){var t=e[Df];if(p(t))return!1;var n=t[Mf];return!(!od(n)||x(n))}function dr(e){var t=e[Rh];if(!A(t)||x(t))return!1;var n=e[nf];if(!A(n)||x(n))return!1;var r=e[Zh];return!(!p(r)&&!V(r)||!m(e[Hh]))}function pr(e){return ot((function(t,n){e((function(e,r){p(e)?t(r):n(e)}))}))}function hr(e,t,n,r,i,a){var o={};o[e]=t,o[n]=r,o[i]=a;var s={};return s[Nf]=o,s}function fr(e){var t=e[Rh],n=e[nf],r=e[Zh]||Km;return dt(pr(e[Hh]),r,Ym).then((function(e){var r=hr(Rh,t,nf,n,Vh,e);return ze(Hm,Dh,r),et(r),e})).catch((function(e){var r=hr(Rh,t,nf,n,Ah,e);return ze(Hm,Ah,r),et(r),{}}))}function gr(e){var t=H((function(e,t){return td.default(e,t)}),{},e);return cr(Mf,t),t}function mr(e){return lr(e)?lt(U(fr,b(dr,e[Df][Mf]))).then(gr):st({})}function _r(){var e=ur(Mf);return p(e)?{}:e}function vr(){return mr(Tg)}function yr(){return _r()}function br(e){var t=be(e.location.search)[Gm];return L(t)?null:t}function Ir(){var e=Rg(Wm);return L(e)?null:e}function Sr(){var e=br(Tg),t=Ir();return e||t}function Er(e){return!x(e)&&2===e.length&&Id(e[0])}function kr(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function Tr(e,t,n,r){k((function(e,i){g(e)?(t.push(i),Tr(e,t,n,r),t.pop()):x(t)?n[r(i)]=e:n[r(F(".",t.concat(i)))]=e}),e)}function Ar(e){return b((function(e,t){return Id(t)}),be(e))}function wr(e){var t=H((function(e,t){return e.push(kr(t)),e}),[],b(Id,e));return H((function(e,t){return e[Se(R(t[0]))]=Se(R(t[1])),e}),{},b(Er,t))}function Pr(e,t){var n={};return p(t)?Tr(e,[],n,_):Tr(e,[],n,t),n}function Cr(e){if(!m(e))return{};var t=null;try{t=e()}catch(e){return{}}return p(t)?{}:od(t)?wr(t):A(t)&&Id(t)?Ar(t):g(t)?Pr(t):{}}function Dr(){return window.navigator.userAgentData}function Nr(e){return td.default({},e,Cr(Tg.targetPageParamsAll))}function Mr(e){return td.default({},e,Cr(Tg.targetPageParams))}function Or(e){var t=ye(),n=t[ef],r=t[yf],i=t[bf];return n!==e?Nr(r||{}):td.default(Nr(r||{}),Mr(i||{}))}function xr(){var e=kg.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(p(t))return null;var n=t.getExtension("WEBGL_debug_renderer_info");if(p(n))return null;var r=t.getParameter(n.UNMASKED_RENDERER_WEBGL);return p(r)?null:r}function Rr(){var e=Tg.devicePixelRatio;if(!p(e))return e;e=1;var t=Tg.screen,n=t.systemXDPI,r=t.logicalXDPI;return!p(n)&&!p(r)&&n>r&&(e=n/r),e}function Lr(e){if(!od(e)||0===e.length)return"";var t="";return e.forEach((function(n,r){var i=n.brand,a=n.version,o=r<e.length-1?", ":"";t+='"'+i+'";v="'+a+'"'+o})),t}function Vr(e){return{mobile:e.mobile,platform:e.platform,browserUAWithMajorVersion:Lr(e.brands)}}function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getHighEntropyValues(zm).then((function(e){var n=e.platformVersion,r=e.architecture,i=e.bitness,a=e.model,o=e.fullVersionList;return td.default({},t,{model:a,platformVersion:n,browserUAWithFullVersion:Lr(o),architecture:r,bitness:i})}))}catch(e){return st(t)}}function Br(e){return cr(Sg,e),e}function Fr(e){return st(e).then(Br)}function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ur(Sg);if(Q(n))return Fr(n);if(z(e))return Fr({});var r=Vr(e);return Fr(t?jr(e,r):r)}function qr(){var e=Tg.screen,t=e.orientation,n=e.width,r=e.height;if(p(t))return n>r?"landscape":"portrait";if(p(t.type))return null;var i=K("-",t.type);if(x(i))return null;var a=i[0];return p(a)?null:a}function Hr(){return Qm}function Yr(e){return e===$m}function Kr(e){return-1!==e.indexOf(Jm)}function Gr(e){return e===Xm}function Wr(e){return e===Zm}function zr(e){return e===e_}function Qr(e){return e===t_}function Jr(e){return e===n_}function $r(e){return e===r_}function Xr(e){return Kr(e)||Yr(e)||Gr(e)||Wr(e)||zr(e)||Qr(e)||Jr(e)||$r(e)}function Zr(e){return e.substring(Jm.length)}function ei(e){return e[$m]}function ti(e){return e[Xm]}function ni(e){return e[Zm]}function ri(e){return e[e_]}function ii(e){var t=U(R,K(",",e[t_]));return b(Id,t)}function ai(e){return e[n_]}function oi(e){return e[r_]}function si(){return H((function(e,t,n){return Xr(n)||(e[n]=p(t)?"":t),e}),{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return H((function(e,n,r){var i=t?Zr(r):r;return t&&!Kr(r)||L(i)||(e[i]=p(n)?"":n),e}),{},e)}function ui(e,t,n){return e.onload=function(){var r=1223===e.status?204:e.status;if(r<100||r>599)n(new Error(a_));else{var i;try{var a=Bd();(i=JSON.parse(e.responseText)).parsingTime=Bd()-a,i.responseSize=new Blob([e.responseText]).size}catch(e){return void n(new Error(s_))}var o=e.getAllResponseHeaders();t({status:r,headers:o,response:i})}},e}function li(e,t){return e.onerror=function(){t(new Error(a_))},e}function di(e,t,n){return e.timeout=t,e.ontimeout=function(){n(new Error(o_))},e}function pi(e){return k((function(t,n){od(t)&&k((function(t){e.setRequestHeader(n,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function hi(e){var t=e.url,n=e.headers,r=e.body,i=e.timeout,a=e.async;return ot((function(e,o){var s=new window.XMLHttpRequest;(s=li(s=ui(s,e,o),o)).open(i_,t,a),s.withCredentials=!0,s=pi(s,n),a&&(s=di(s,i,o)),s.send(JSON.stringify(r))})).then((function(e){var t=e.response,n=t.status,r=t.message;if(!p(n)&&!p(r))throw new Error(r);return t}))}function fi(e,t){if(!performance)return null;var n=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!n)return null;var r={};return n.domainLookupEnd&&n.domainLookupStart&&(r.dns=n.domainLookupEnd-n.domainLookupStart),n.secureConnectionStart&&n.connectEnd&&(r.tls=n.connectEnd-n.secureConnectionStart),n.responseStart&&(r.timeToFirstByte=n.responseStart-n.requestStart),n.responseEnd&&n.responseStart&&(r.download=n.responseEnd-n.responseStart),n.encodedBodySize?r.responseSize=n.encodedBodySize:t.responseSize&&(r.responseSize=t.responseSize,delete t.responseSize),r}function gi(e,t){return V(t)?t<0?e[Zh]:t:e[Zh]}function mi(e){var t=e[$h];if(!e[df])return t;var n=wt();return L(n)?t:""+c_+n+u_}function _i(e){return e[_f]+"//"+mi(e)+e[Of]+"?"+Ie({client:e[Qh],sessionId:Et(),version:e[nf]})}function vi(e,t,n){var r=ye(),i=_i(r),o=a({},zf,[Qf]),s=gi(r,t),c={url:i,headers:o,body:e,timeout:s,async:!0};return Fd.timeStart(e.requestId),hi(c).then((function(t){var r={execution:Fd.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var a=fi(i,t);return a&&(r.request=a),t.telemetryServerToken&&(r.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,r,t.status,n),td.default(t,{decisioningMethod:xd.SERVER_SIDE})}))}function yi(e){if(e[Cm])throw new Error(Tm);return e}function bi(){var e=rr(),t=vr();return lt([e.then(yi),t])}function Ii(){return[ir(),yr()]}function Si(e){var t=ye()[ef];return td.default({},e,Or(t))}function Ei(){return-(new Date).getTimezoneOffset()}function ki(){var e=Tg.screen;return{width:e.width,height:e.height,orientation:qr(),colorDepth:e.colorDepth,pixelRatio:Rr()}}function Ti(){var e=kg.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Ai(){return{host:Tg.location.hostname,webGLRenderer:Hr()}}function wi(){return{url:Tg.location.href,referringUrl:kg.referrer}}function Pi(e){if(!p(e)&&e.channel===Ig)return e;var t=ye(),n=ur(Sg)||{},r=(e||{}).beacon;return{userAgent:Tg.navigator.userAgent,clientHints:n,timeOffsetInMinutes:Ei(),channel:Ig,screen:ki(),window:Ti(),browser:Ai(),address:wi(),geo:e&&e.geo,crossDomain:t[Xh],beacon:r}}function Ci(e,t){if(!p(e))return e;var n={};if(x(t))return n;var r=t[wm],i=parseInt(r,10);isNaN(i)||(n.locationHint=i);var a=t[Am];return Id(a)&&(n.blob=a),n}function Di(e){var t=e.id,n=e.integrationCode,r=e.authenticatedState,i=e.type,a=e.primary,o={};return Id(t)&&(o.id=t),Id(n)&&(o.integrationCode=n),Id(r)&&(o.authenticatedState=r),Id(i)&&(o.type=i),a&&(o.primary=a),o}function Ni(e){return U(Di,e)}function Mi(e,t,n,r,i){var a={};Id(t)&&(a.tntId=t),Id(n)&&(a.thirdPartyId=n),Id(e.thirdPartyId)&&(a.thirdPartyId=e.thirdPartyId);var o=r[Pm];return Id(o)&&(a.marketingCloudVisitorId=o),Id(e.marketingCloudVisitorId)&&(a.marketingCloudVisitorId=e.marketingCloudVisitorId),x(e.customerIds)?(x(i)||(a.customerIds=Ni(i)),a):(a.customerIds=e.customerIds,a)}function Oi(e,t){var n={},r=Ci(e.audienceManager,t);return x(r)||(n.audienceManager=r),x(e.analytics)||(n.analytics=e.analytics),n}function xi(e,t){if(!p(e)&&Id(e.token))return e;var n={},r=ti(t);return Id(r)&&(n.token=r),n}function Ri(e){if(!p(e)&&Id(e.authorizationToken))return e;var t={},n=Sr();return Id(n)&&(t.authorizationToken=n),t}function Li(e){return p(e)?vn():e}function Vi(e){return p(e)?gn():e}function ji(e){var t={},n=ni(e);p(n)||(t.id=n);var r=ri(e),i=parseFloat(r);isNaN(i)||(t.total=i);var a=ii(e);return x(a)||(t.purchasedProductIds=a),t}function Bi(e){var t={},n=ai(e);p(n)||(t.id=n);var r=oi(e);return p(r)||(t.categoryId=r),t}function Fi(e,t){var n={},r=td.default({},si(t),si(e.parameters||{})),i=td.default({},ci(t),ci(e.profileParameters||{},!1)),a=td.default({},ji(t),e.order||{}),o=td.default({},Bi(t),e.product||{});return x(r)||(n.parameters=r),x(i)||(n.profileParameters=i),x(a)||(n.order=a),x(o)||(n.product=o),n}function Ui(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ye()[ef],i=e.index,a=e.name,o=e.address,s=Fi(e,td.default({},a===r?t:n,Or(a)));return p(i)||(s.index=i),Id(a)&&(s.name=a),x(o)||(s.address=o),s}function qi(e,t){var n=e.name,r=e.address,i=Fi(e,t);return Id(n)&&(i.name=n),x(r)||(i.address=r),i}function Hi(e,t,n){var r=e.execute,i=void 0===r?{}:r,a={};if(x(i))return a;var o=i.pageLoad;p(o)||(a.pageLoad=Fi(o,t));var s=i.mboxes;if(!p(s)&&od(s)&&!x(s)){var c=b(l_,U((function(e){return Ui(e,t,n)}),s));x(c)||(a.mboxes=c)}return a}function Yi(e,t,n){var r=e.prefetch,i=void 0===r?{}:r,a={};if(x(i))return a;var o=i.mboxes;p(o)||!od(o)||x(o)||(a.mboxes=U((function(e){return Ui(e,t,n)}),o));var s=i.views;return p(s)||!od(s)||x(s)||(a.views=U((function(e){return qi(e,t)}),s)),a}function Ki(e,t){if(mt()&&!vt())return null;var n=ye(),r=or(e),i=sr(Rm),a=sr(Lm),o=t.experienceCloud,s=(void 0===o?{}:o).analytics,c=void 0===s?{}:s,u=c.logging,l=c.supplementalDataId,d=c.trackingServer,h=c.trackingServerSecure,f={};return p(u)?f.logging=n[dg]:f.logging=u,p(l)||(f.supplementalDataId=l),Id(r)&&(f.supplementalDataId=r),p(d)||(f.trackingServer=d),Id(i)&&(f.trackingServer=i),p(h)||(f.trackingServerSecure=h),Id(a)&&(f.trackingServerSecure=a),x(f)?null:f}function Gi(e,t,n){var r=Si(n),i=Tt(),a=ei(r),o=ar(),s=Mi(e.id||{},i,a,t,o),c=xi(e.property,r),u=Oi(e.experienceCloud||{},t),l=Ri(e.trace),d=Li(e.preview),p=Vi(e.qaMode),h=Hi(e,r,n),f=Yi(e,r,n),g=e.notifications,m={};return m.requestId=de(),m.context=Pi(e.context),x(s)||(m.id=s),x(c)||(m.property=c),x(l)||(m.trace=l),x(u)||(m.experienceCloud=u),x(d)||(m.preview=d),x(p)||(m.qaMode=p),x(h)||(m.execute=h),x(f)||(m.prefetch=f),x(g)||(m.notifications=g),m=Tg.__target_telemetry.addTelemetryToDeliveryRequest(m)}function Wi(e,t,n){var r=n[0],i=n[1];return Gi(e,r,td.default({},i,t))}function zi(e,t){var n=ye();return lt([bi(),Ur(Dr(),n[Eg])]).then((function(n){var r=o(n,1)[0];return Wi(e,t,r)}))}function Qi(e,t){return Wi(e,t,Ii())}function Ji(e,t){return ze(qh,e),et({request:e}),vi(e,t,xd.SERVER_SIDE).then((function(t){return ze(Uh,t),et({response:t}),{request:e,response:t}}))}function $i(e){return!e&&Gg?Gg:Gg=de()}function Xi(e,t){return{status:Dh,type:e,data:t}}function Zi(e,t){return{status:Ah,type:e,data:t}}function ea(e){return g(e)}function ta(e){return!!ea(e)&&Id(e.eventToken)}function na(e){return!x(e)&&!L(e.type)&&Id(e.eventToken)}function ra(e){return!!na(e)&&Id(e.selector)}function ia(e){var t=e.id;return g(t)&&Id(t.tntId)}function aa(e){var t=e.response;return ia(t)&&kt(t.id.tntId),e}function oa(e){var t=e.response;return ia(t)&&Pt(t.id.tntId),Pt(null),e}function sa(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;x(e)||Ze(e)}function ca(e){var t=e.response,n=t.execute,r=void 0===n?{}:n,i=t.prefetch,a=void 0===i?{}:i,o=t.notifications,s=void 0===o?{}:o,c=r.pageLoad,u=void 0===c?{}:c,l=r.mboxes,d=void 0===l?[]:l,p=a.mboxes,h=void 0===p?[]:p,f=a.views,g=void 0===f?[]:f;return sa(u),k(sa,d),k(sa,h),k(sa,g),k(sa,s),e}function ua(e){var t=e.queryKey,n=t[O_];if(!A(n))return t;if(L(n))return t;var r=Math.round(q()/1e3);return t[O_]=n.replace(/\|TS=\d+/,"|TS="+r),t}function la(e){return e.queryKey}function da(e,t,n){var r=ke(e),i=r.protocol,a=r.host,o=r.path,s=""===r.port?"":":"+r.port,c=L(r.anchor)?"":"#"+r.anchor,u=n(r),l=Ie(td.default({},u,t));return i+"://"+a+s+o+(L(l)?"":"?"+l)+c}function pa(e,t){return da(e,t,ua)}function ha(e,t){return da(e,t,la)}function fa(e){var t=e.content;if(L(t))return ze(mh,e),null;var n=td.default({},e);return n.content=pa(t,{}),n}function ga(e){throw new Error(e)}function ma(e){var t=e[B_]||V_,n=e[F_]||ga(L_),r=e[U_]||{},i=e[q_]||null,a=e[H_]||!1,o=e[Y_]||3e3,s=!!p(e[K_])||!0===e[K_],c={};return c[B_]=t,c[F_]=n,c[U_]=r,c[q_]=i,c[H_]=a,c[Y_]=o,c[K_]=s,c}function _a(e,t,n){return e.onload=function(){var r=1223===e.status?204:e.status;if(r<100||r>599)n(new Error(x_));else{var i=e.responseText,a=e.getAllResponseHeaders();t({status:r,headers:a,response:i})}},e}function va(e,t){return e.onerror=function(){t(new Error(x_))},e}function ya(e,t,n){return e.timeout=t,e.ontimeout=function(){n(new Error(R_))},e}function ba(e,t){return!0===t&&(e.withCredentials=t),e}function Ia(e,t){return k((function(t,n){k((function(t){return e.setRequestHeader(n,t)}),t)}),t),e}function Sa(e,t){var n=ma(t),r=n[B_],i=n[F_],a=n[U_],o=n[q_],s=n[H_],c=n[Y_],u=n[K_];return ot((function(t,n){var l=new e.XMLHttpRequest;(l=va(l=_a(l,t,n),n)).open(r,i,u),l=Ia(l=ba(l,s),a),u&&(l=ya(l,c,n)),l.send(o)}))}function Ea(e){return Sa(Tg,e)}function ka(e,t,n){var r={};return r[B_]=V_,r[F_]=ha(e,t),r[Y_]=n,r}function Ta(e){return e>=200&&e<300||304===e}function Aa(e){if(!Ta(e.status))return null;var t=e.response;if(L(t))return null;var n={};return n.type=Op,n.content=t,n}function wa(e){return Ea(ka(e.content,{},ye()[Y_])).then(Aa).catch((function(){return null}))}function Pa(e){var t=e[ep];if(L(t))return"";var n=G_.exec(t);return x(n)||2!==n.length?"":n[1]}function Ca(e,t){var n=document.createElement(Kp);n.innerHTML=t;var r=n.firstElementChild;return p(r)?t:(r.id=e,r.outerHTML)}function Da(e){var t=e[Gd],n=Pa(e);if(L(n)||L(t))return e;var r=e[ep];return e[ep]=r.replace(W_,""),e[Gd]=Ca(n,t),e}function Na(e){return!p(e.selector)}function Ma(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function Oa(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function xa(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function Ra(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function La(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function Va(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function ja(e){if(!Na(e))return null;var t=Da(e);return A(t[Gd])?t:(ze(lh,t),null)}function Ba(e){return Na(e)?A(e[Gd])?e:(ze(lh,e),null):null}function Fa(e){return Na(e)?g(e[Gd])?e:(ze(dh,e),null):null}function Ua(e){return Na(e)?A(e[Gd])?e:(ze(_h,e),null):null}function qa(e){return Na(e)?g(e[Gd])?e:(ze(ph,e),null):null}function Ha(e){return Na(e)?g(e[Gd])?e:(ze(hh,e),null):null}function Ya(e){return Na(e)?g(e[Gd])?e:(ze(fh,e),null):null}function Ka(e){return Na(e)?e:null}function Ga(e){return Na(e)?g(e[Gd])?e:(ze(gh,e),null):null}function Wa(e){var t=e.content;return L(t)?(ze(mh,e),null):(e.content=pa(t,{}),e)}function za(e){var t=e[Kd];if(L(t))return null;switch(t){case np:return Ma(e);case ip:return Oa(e);case yp:return xa(e);case Ip:return Ra(e);case Ep:return La(e);case _p:return Va(e);case vp:return ja(e);case hp:return Ba(e);case op:return Fa(e);case sp:return Ua(e);case cp:return qa(e);case lp:return Ha(e);case dp:return Ya(e);case pp:return Ka(e);case up:return Ga(e);case fp:return Wa(e);default:return null}}function Qa(e){var t=e[Gd];if(!od(t))return null;if(x(t))return null;var n=b(z_,U(za,t));if(x(n))return null;var r=td.default({},e);return r.content=n,r}function Ja(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return od(e)?x(e)?[]:y_(U(k_,e)):[]}function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,n=void 0===t?{}:t,r=e.prefetch,i=void 0===r?{}:r,a=n.pageLoad,o=void 0===a?{}:a,s=n.mboxes,c=void 0===s?[]:s,u=i.mboxes,l=void 0===u?[]:u,d=i.views,p=void 0===d?[]:d,h=Ja(o),f=S(U(Ja,c)),g=S(U(Ja,l)),m=S(U(Ja,p));return S([h,f,g,m])}function Xa(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,n=t.pageLoad,r=void 0===n?{}:n,i=t.mboxes,a=void 0===i?[]:i,o=I_(r)||[],s=S(y_(U(I_,a))),c=S([o,s]),u=S(U(S_,b(__,c))),l=b(v_,c),d=b(v_,u),p=l.concat(d),h={};if(x(p))return h;var f=p[0].content;return L(f)||(h.url=f),h}function Za(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return x(e)?[]:[e]}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,n=void 0===t?{}:t,r=e.prefetch,i=void 0===r?{}:r,a=n.pageLoad,o=void 0===a?{}:a,s=n.mboxes,c=void 0===s?[]:s,u=i.mboxes,l=void 0===u?[]:u,d=i.views,p=void 0===d?[]:d,h=i.metrics,f=void 0===h?[]:h,g=Za(o),m=S(U(Za,c)),_=S(U(Za,l)),v=S(U(Za,p)),y=S(U(Za,f));return S([g,m,_,v,y])}function to(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function no(e,t){var n=t[0],r=t[1],i=!x(n),a=!x(r);return i||a?(i&&(e.options=n),a&&(e.metrics=r),e):e}function ro(e){switch(e.type){case fp:return st(fa(e));case xp:return wa(e);case jh:return st(Qa(e));default:return st(e)}}function io(e,t){if(!od(e))return st([]);if(x(e))return st([]);var n=b(t,e);return x(n)?st([]):lt(U((function(e){return ro(e)}),n)).then(y_)}function ao(e,t){return od(e)?x(e)?st([]):st(b(t,e)):st([])}function oo(e){var t=e.response.execute;if(!g(t))return st(null);var n=t.pageLoad;if(!g(n))return st(null);var r=n.analytics,i=n.options,a=n.metrics,o={analytics:r};return lt([io(i,ea),ao(a,ra)]).then((function(e){return no(o,e)}))}function so(e){var t=e.name,n=e.analytics,r=e.options,i=e.metrics,a={name:t,analytics:n};return lt([io(r,ea),ao(i,na)]).then((function(e){return no(a,e)}))}function co(e){var t=e.response.execute;if(!g(t))return st([]);var n=t.mboxes;return!od(n)||x(n)?st([]):lt(U(so,b(w_,n))).then(y_)}function uo(e,t,n){return e.index===t&&e.name===n}function lo(e,t,n){var r=e.prefetch,i=(void 0===r?{}:r).mboxes,a=void 0===i?[]:i;return x(a)?null:I(b((function(e){return uo(e,t,n)}),a))}function po(e,t){var n=t.index,r=t.name,i=t.state,a=t.analytics,o=t.options,s=t.metrics,c=lo(e,n,r),u={name:r,state:i,analytics:a};return p(c)||to(u,c),lt([io(o,ta),ao(s,na)]).then((function(e){return no(u,e)}))}function ho(e){var t=e.request,n=e.response.prefetch;if(!g(n))return st([]);var r=n.mboxes;return!od(r)||x(r)?st([]):lt(U((function(e){return po(t,e)}),b(P_,r))).then(y_)}function fo(e){var t=e.prefetch,n=(void 0===t?{}:t).views,r=void 0===n?[]:n;return x(r)?null:r[0]}function go(e,t){var n=t.name,r=t.state,i=t.analytics,a=t.options,o=t.metrics,s=fo(e),c={name:n.toLowerCase(),state:r,analytics:i};return p(s)||to(c,s),lt([io(a,ta),ao(o,ra)]).then((function(e){return no(c,e)}))}function mo(e){var t=e.request,n=e.response.prefetch;if(!g(n))return st([]);var r=n.views;return!od(r)||x(r)?st([]):lt(U((function(e){return go(t,e)}),b(C_,r))).then(y_)}function _o(e){var t=e.response.prefetch;return g(t)?ao(t.metrics,ra):st([])}function vo(e){var t=e.response,n=t.remoteMboxes,r=t.remoteViews,i=t.decisioningMethod,a={};return g(n)&&(a.remoteMboxes=n),g(r)&&(a.remoteViews=r),A(i)&&(a.decisioningMethod=i),st(a)}function yo(e){return p(e)||L(e.id)?st(null):st({id:e.id})}function bo(e){var t=e.response.notifications;return od(t)?lt(U(yo,t)).then(y_):st([])}function Io(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c={},u={};g(t)&&(u.pageLoad=t),x(n)||(u.mboxes=n);var l={};return x(r)||(l.mboxes=r),x(i)||(l.views=i),x(a)||(l.metrics=a),x(u)||(c.execute=u),x(l)||(c.prefetch=l),x(o)||(c.meta=o),x(s)||(c.notifications=s),c}function So(e){var t=E([ca,aa,oa])(e);return lt([oo(t),co(t),ho(t),mo(t),_o(t),vo(t),bo(t)]).then(Io)}function Eo(e){
return!x(Xa(e))}function ko(e){var t=$a(e),n={};return x(t)||(n.responseTokens=t),n}function To(e){var t=ko(e),n=eo(e);return x(n)||(t.analyticsDetails=n),ze(sh,e),Rt(t,Eo(e)),st(e)}function Ao(e,t){var n=ko(t);n.mbox=e;var r=eo(t);return x(r)||(n.analyticsDetails=r),ze(sh,t),Rt(n,Eo(t)),st(t)}function wo(e){return We(oh,e),Lt({error:e}),ct(e)}function Po(e,t){return We(oh,t),Lt({mbox:e,error:t}),ct(t)}function Co(e){var t=ye()[ef],n=e.mbox,r=e.timeout,i=g(e.params)?e.params:{},a=function(e){return Ao(n,e)},o=function(e){return Po(n,e)},s={},c={};n===t?c.pageLoad={}:c.mboxes=[{index:0,name:n}],s.execute=c;var u=Ki(n,s);if(!x(u)){var l={};l.analytics=u,s.experienceCloud=l}return xt({mbox:n}),zi(s,i).then((function(e){return Ji(e,r)})).then(So).then(a).catch(o)}function Do(e){var t=ye()[ef],n=e.consumerId,r=void 0===n?t:n,i=e.request,a=e.timeout,o=e.page,s=void 0===o||o,c=Ki(r,i),u=function(e){return To(e)},l=function(e){return wo(e)};if(i.impressionId=i.impressionId||$i(s),!x(c)){var d=i.experienceCloud||{};d.analytics=c,i.experienceCloud=d}return xt({}),zi(i,{}).then((function(e){return Ji(e,a)})).then(So).then(u).catch(l)}function No(e,t){return Gt(t).addClass(e)}function Mo(e,t){return Gt(t).css(e)}function Oo(e,t){return Gt(t).attr(e)}function xo(e,t,n){return Gt(n).attr(e,t)}function Ro(e,t){return Gt(t).removeAttr(e)}function Lo(e,t,n){var r=Oo(e,n);Id(r)&&(Ro(e,n),xo(t,r,n))}function Vo(e,t){return Id(Oo(e,t))}function jo(e){return new Error("Could not find: "+e)}function Bo(e,t,n){return ot((function(r,i){var a=nt((function(){var t=n(e);x(t)||(a.disconnect(),r(t))}));G((function(){a.disconnect(),i(jo(e))}),t),a.observe(kg,{childList:!0,subtree:!0})}))}function Fo(){return kg[Q_]===J_}function Uo(e,t,n){return ot((function(r,i){function a(){var t=n(e);x(t)?Tg.requestAnimationFrame(a):r(t)}a(),G((function(){i(jo(e))}),t)}))}function qo(e,t,n){return ot((function(r,i){function a(){var t=n(e);x(t)?G(a,$_):r(t)}a(),G((function(){i(jo(e))}),t)}))}function Ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye()[uf],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt,r=n(e);return x(r)?tt()?Bo(e,t,n):Fo()?Uo(e,t,n):qo(e,t,n):st(r)}function Yo(e){return Oo(Np,e)}function Ko(e){return Vo(Np,e)}function Go(e){return k((function(e){return Lo(Lp,Np,e)}),O(en(Yp,e))),e}function Wo(e){return k((function(e){return Lo(Np,Lp,e)}),O(en(Yp,e))),e}function zo(e){return ze(bh,e),Oo(Lp,xo(Lp,e,Qt("<"+Yp+"/>")))}function Qo(e){var t=b(Ko,O(en(Yp,e)));return x(t)||k(zo,U(Yo,t)),e}function Jo(e){return E([Go,Qo,Wo])(e)}function $o(e){var t=Oo(Lp,e);return Id(t)?t:null}function Xo(e){return b(Id,U($o,O(en(Rp,e))))}function Zo(e){return H((function(e,t){return e.then((function(){return ze(Th,t),et({remoteScript:t}),ad.default(t)}))}),st(),e)}function es(e){return e}function ts(e,t){return We(ah,t),et({action:e,error:t}),e}function ns(e,t){var n,r=Gt(t[ep]),i=Jo(zt(t[Gd])),a=Xo(i);try{n=st(e(r,i))}catch(e){return ct(ts(t,e))}return x(a)?n.then((function(){return es(t)})).catch((function(e){return ts(t,e)})):n.then((function(){return Zo(a)})).then((function(){return es(t)})).catch((function(e){return ts(t,e)}))}function rs(e){var t=zt(e);return F("",H((function(e,t){return e.push(Tn(zt(t))),e}),[],O(en(X_,t))))}function is(e){var t=td.default({},e),n=t[Gd];if(L(n))return t;var r=Gt(t[ep]);return Zt(Fp,r)?(t[Kd]=yp,t[Gd]=rs(n),t):t}function as(e){return e.indexOf("px")===e.length-2?e:e+"px"}function os(e,t){return kn(Tn(t),e)}function ss(e){return ze(uh,e),ns(os,e)}function cs(e){var t=Gt(e[ep]),n=e[Gd];return ze(uh,e),et({action:e}),An(n,t),st(e)}function us(e,t){return Sn(Tn(t),e)}function ls(e){return ze(uh,e),ns(us,e)}function ds(e,t){return En(Tn(t),e)}function ps(e){return ze(uh,e),ns(ds,e)}function hs(e,t){var n=Xt(e);return yn(In(Tn(t),e)),n}function fs(e){return ze(uh,e),ns(hs,e)}function gs(e,t){return Jt(In(Tn(t),e))}function ms(e){return ze(uh,e),ns(gs,e)}function _s(e,t){return $t(bn(Tn(t),e))}function vs(e){return ze(uh,e),ns(_s,e)}function ys(e,t){return Xt(In(Tn(t),e))}function bs(e){return ze(uh,e),ns(ys,e)}function Is(e){var t=e[Gd],n=Gt(e[ep]);return ze(uh,e),et({action:e}),Ro(Lp,n),xo(Lp,zo(t),n),st(e)}function Ss(e){var t=e[Gd],n=Gt(e[ep]);return ze(uh,e),et({action:e}),k((function(e,t){return xo(t,e,n)}),t),st(e)}function Es(e,t,n){k((function(e){k((function(t,r){return e.style.setProperty(r,t,n)}),t)}),O(e))}function ks(e){var t=Gt(e[ep]),n=e[Gd],r=n[Zd];return ze(uh,e),et({action:e}),L(r)?Mo(n,t):Es(t,n,r),st(e)}function Ts(e){var t=Gt(e[ep]),n=e[Gd];return n[zd]=as(n[zd]),n[Wd]=as(n[Wd]),ze(uh,e),et({action:e}),Mo(n,t),st(e)}function As(e){var t=Gt(e[ep]),n=e[Gd];return n[Qd]=as(n[Qd]),n[Jd]=as(n[Jd]),ze(uh,e),et({action:e}),Mo(n,t),st(e)}function ws(e){var t=Gt(e[ep]);return ze(uh,e),et({action:e}),yn(t),st(e)}function Ps(e){var t=Gt(e[ep]),n=e[Gd],r=Number(n[$d]),i=Number(n[Xd]);if(isNaN(r)&&isNaN(i))return ze(yh,e),ct(e);var a=O(tn(t)),o=a[r],s=a[i];return Wt(o)&&Wt(s)?(ze(uh,e),et({action:e}),r<i?bn(o,s):In(o,s),st(e)):(ze(vh,e),ct(e))}function Cs(e){var t=is(e);switch(t[Kd]){case np:return ss(t);case ip:return cs(t);case yp:return ls(t);case Ip:return ps(t);case Ep:return fs(t);case _p:return ms(t);case vp:return vs(t);case hp:return bs(t);case op:return Ss(t);case sp:return Is(t);case cp:return ks(t);case lp:return Ts(t);case dp:return As(t);case pp:return ws(t);case up:return Ps(t);default:return st(t)}}function Ds(e){return e[Kd]===gp||e[Kd]===mp}function Ns(e){var t=e[ep];return Id(t)||qt(t)}function Ms(e){var t=e.key;if(!L(t)&&Ns(e)){var n=e[ep];xo(Z_,t,n)}}function Os(e){var t=e[tp];L(t)||jn(t)}function xs(e){if(Ns(e)){var t=e[ep];Ds(e)?No(Wh,t):(No(Gh,t),Os(e))}else Os(e)}function Rs(e){k(xs,e)}function Ls(e){var t=e.key;if(L(t))return!0;if(e[Kd]===hp)return e[Ff];var n=e[ep],r=Oo(Z_,n);return r!==t||r===t&&!e[Ff]}function Vs(e){return Ls(e)?Cs(e).then((function(){return ze(ch,e),et({action:e}),Ms(e),xs(e),e})).catch((function(t){We(ah,t),et({action:e,error:t}),xs(e);var n=td.default({},e);return n[Ah]=!0,n})):(xs(e),e)}function js(e){var t=b((function(e){return!0===e[Ah]}),e);return x(t)?st():(Rs(t),ct(e))}function Bs(e){return Ho(e[ep]).then((function(){return e})).catch((function(){var t=td.default({},e);return t[Ah]=!0,t}))}function Fs(e){return Bs(e).then(Vs)}function Us(e){return lt(U(Fs,e)).then(js)}function qs(e,t,n){return Gt(n).on(e,t)}function Hs(e,t,n){return Gt(n).off(e,t)}function Ys(e){return Ho(e[ep]).then((function(){return et({metric:e}),td.default({found:!0},e)})).catch((function(){return We(ev,e),et({metric:e,message:ev}),e}))}function Ks(e){var t=e.name,n=ur(qf)||{};n[t]=e,cr(qf,n)}function Gs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.page,r=void 0===n||n,i=(ur(qf)||{})[e];if(p(i))return i;var a=t.impressionId;return p(a)?i:td.default({page:r,impressionId:a},i)}function Ws(e){k(Ks,e)}function zs(e,t,n){return e[tv][nv](t,n)}function Qs(e,t,n){var r={};r[zf]=[Qf];var i={};i[B_]=j_,i[F_]=t,i[q_]=n,i[H_]=!0,i[K_]=!1,i[U_]=r;try{e(i)}catch(e){return!1}return!0}function Js(e){return tv in e&&nv in e[tv]}function $s(e,t){return Js(Tg)?zs(Tg,e,t):Qs(Ea,e,t)}function Xs(e){var t=Ki(e,{}),n={context:{beacon:!0}};if(!x(t)){var r={};r.analytics=t,n.experienceCloud=r}return n}function Zs(e,t,n){var r=Qi(Xs(e),t);return r.notifications=n,r}function ec(e,t,n){return zi(Xs(e),t).then((function(e){return e.notifications=n,e}))}function tc(e,t,n){var r={id:de(),type:t,timestamp:q(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return x(n)||(r.tokens=n),r}function nc(e,t,n){var r=e.name,i=e.state,a=tc(e,t,n);return a.mbox={name:r,state:i},a}function rc(e,t,n){var r=e.name,i=e.state,a=tc(e,t,n);return a.view={name:r,state:i},a}function ic(e){return new Promise((function(t,n){var r=_i(ye());if($s(r,JSON.stringify(e)))return ze(rv,r,e),void t();We(iv,r,e),n()}))}function ac(e,t,n){var r=Or(ye()[ef]),i=tc(Fi({},r),t,[n]),a=Zs(de(),r,[i]);ze(cv,e,i),et({source:e,event:t,request:a}),ic(a)}function oc(e,t,n){var r=Or(e),i=tc(Fi({},r),t,[n]);i.mbox={name:e};var a=Zs(de(),r,[i]);ze(uv,e,i),et({mbox:e,event:t,request:a}),ic(a)}function sc(e){var t=ye()[ef],n=[],r=Wf;if(k((function(e){var t=e.mbox,i=e.data;if(!p(i)){var a=i.eventTokens,o=void 0===a?[]:a;x(o)||n.push(nc(t,r,o))}}),e),!x(n)){var i=Zs(t,{},n);ze(sv,n),et({source:dv,event:pv,request:i}),ic(i)}}function cc(e,t,n){var r=Or(ye()[ef]),i=tc(Fi({},r),t,[n]);i.view={name:e};var a=Zs(de(),r,[i]);ze(lv,e,i),et({view:e,event:t,request:a}),ic(a)}function uc(e){var t=e.viewName,n=e.impressionId,r=Or(ye()[ef]),i=tc(Fi({},r),Wf,[]);i.view={name:t},ze(av,t),ec(t,r,[i]).then((function(e){e.impressionId=n,et({view:t,event:hv,request:e}),ic(e)}))}function lc(e){if(!p(e)){var t=e.view,n=e.data,r=(void 0===n?{}:n).eventTokens,i=void 0===r?[]:r,a=t.name,o=t.impressionId,s=Gs(a);if(!p(s)){var c=Zs(a,{},[rc(s,Wf,i)]);c.impressionId=o,ze(ov,a,i),et({view:a,event:pv,request:c}),ic(c)}}}function dc(e,t){e===Bp&&No(Wh,t)}function pc(e,t){return!p(fv[e])&&!p(fv[e][t])}function hc(e,t,n){if(p(fv[e])){var r=y(fv);x(r)||k((function(e){k((function(r){var i=fv[e][r];Hs(t,i,n)}),y(fv[e])),delete fv[e]}),r)}}function fc(e,t,n){fv[e]=fv[e]||{},fv[e][t]=n}function gc(e,t,n,r){var i=n.type,a=n.selector,o=n.eventToken,s=w(i+":"+a+":"+o),c=function(){return r(e,i,o)};dc(i,a),t?pc(e,s)||(hc(e,i,a),fc(e,s,c),qs(i,c,a)):qs(i,c,a)}function mc(e,t,n,r){return Ys(n).then((function(n){n.found&&gc(e,t,n,r)}))}function _c(e,t,n,r){return lt(U((function(n){return mc(e,t,n,r)}),n)).then(vv).catch(yv)}function vc(e){return _c(e.name,!1,_v(e),oc)}function yc(e){return _c(e.name,!0,_v(e),cc)}function bc(e){return _c(gv,!1,_v(e),ac)}function Ic(e){return _c(mv,!1,_v(e),ac)}function Sc(e){var t=U(Iv,e);Ln(b_(t))}function Ec(e){var t=U(Iv,e);Vn(y_(t))}function kc(e){var t=b(__,I_(e));return S(U(bv,t))}function Tc(e){return g(e)&&e.type!==ap}function Ac(e,t,n){return U((function(e){return td.default({key:t,page:n},e)}),b(Tc,e))}function wc(e,t,n){var r=e.eventToken,i=e.responseTokens;return Us(Ac(e.content,t,n)).then((function(){return Sv({eventToken:r,responseTokens:i})})).catch(Ev)}function Pc(e){return g(e)&&e.type!==Mp}function Cc(e,t){return U(e,b(Pc,I_(t)))}function Dc(e,t,n){var r=a({status:Dh},e,t),i=U(N_,b(m_,n)),o={};return x(i)||(r.status=Ah,o.errors=i),x(o)||(r.data=o),r}function Nc(e,t,n){var r=a({status:Dh},e,t),i=U(N_,b(m_,n)),o=U(N_,b(kv,n)),s=y_(U(E_,o)),c=y_(U(k_,o)),u={};return x(i)||(r.status=Ah,u.errors=i),x(s)||(u.eventTokens=s),x(c)||(u.responseTokens=c),x(u)||(r.data=u),r}function Mc(e,t,n){return lt(Cc((function(e){return wc(e,!0)}),e)).then(t).then((function(t){return n(e),t}))}function Oc(e,t,n,r){var i=t.name;return lt(Cc((function(e){return wc(e,i,n)}),t)).then((function(n){return Nc(e,t,n)})).then((function(e){return r(t),e}))}function xc(e){return Mc(e,(function(t){return Dc(Oh,e,t)}),vc)}function Rc(e){return Oc(Oh,e,!0,vc)}function Lc(e){Sc(kc(e))}function Vc(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,n=(void 0===t?{}:t).pageLoad,r=void 0===n?{}:n;x(r)||Lc(r)}}function jc(e){var t=e.prefetch,n=(void 0===t?{}:t).views,r=void 0===n?[]:n;x(r)||Ec(S(U(kc,r)))}function Bc(e){Sc(kc(e)),Bn()}function Fc(e){return Mc(e,(function(t){return Dc(Yh,e,t)}),bc)}function Uc(e){return lt(U(xc,e))}function qc(e){return lt(U(Rc,e))}function Hc(e){return lt([Ic(e)]).then(Dc)}function Yc(e){var t=e.page;return Oc(Uf,e,t,yc)}function Kc(){}function Gc(){return new Av}function Wc(e,t,n){e.emit(t,n)}function zc(e,t,n){e.on(t,n)}function Qc(e,t){Wc(wv,e,t)}function Jc(e,t){zc(wv,e,t)}function $c(e){return{type:fp,content:e.url}}function Xc(e){var t={};return t.type=np,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Zc(e){var t={};return t.type=ip,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function eu(e){var t={};return t.type=yp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function tu(e){var t={};return t.type=Ip,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nu(e){var t={};return t.type=Ep,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ru(e){var t={};return t.type=_p,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function iu(e){var t={};return t.type=vp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function au(e){var t={};return t.type=hp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ou(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Lp)return t.type=sp,t.content=e.value,t;t.type=op;var n={};return n[e.attribute]=e.value,t.content=n,t}function su(e){var t=e.style,n=void 0===t?{}:t,r={};return r.selector=e.selector,r.cssSelector=e.cssSelector,p(n.left)||p(n.top)?p(n.width)||p(n.height)?(r.type=cp,r.content=n,r):(r.type=lp,r.content=n,r):(r.type=dp,r.content=n,r)}function cu(e){var t={};return t.type=pp,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function uu(e){var t={};t.from=e.from,t.to=e.to;var n={};return n.type=up,n.selector=e.selector,n.cssSelector=e.cssSelector,n.content=t,n}function lu(e){return Id(e.selector)&&Id(e.cssSelector)}function du(e){var t={};if(x(e))return t;var n=[],r=[],i=[];k((function(e){switch(e.action){case rp:lu(e)?i.push(Xc(e)):n.push({type:Op,content:e.content});break;case ap:x(e.content)||k((function(e){return n.push({type:Mp,content:e})}),e.content);break;case ip:i.push(Zc(e));break;case bp:i.push(eu(e));break;case Sp:i.push(tu(e));break;case kp:i.push(nu(e));break;case _p:i.push(ru(e));break;case vp:i.push(iu(e));break;case hp:i.push(au(e));break;case op:i.push(ou(e));break;case cp:i.push(su(e));break;case pp:i.push(cu(e));break;case up:i.push(uu(e));break;case fp:n.push($c(e));break;case gp:r.push({type:Bp,selector:e.selector,eventToken:e.clickTrackId})}}),e);var a={};if(!x(i)&&n.push({type:jh,content:i}),!x(n)&&(a.options=n),!x(r)&&(a.metrics=r),x(a))return t;var o={};return o.pageLoad=a,t.execute=o,t}function pu(e,t){var n={};if(x(t))return n;var r=[],i=[];k((function(e){switch(e.action){case rp:r.push({type:Op,content:e.content});break;case ap:x(e.content)||k((function(e){return r.push({type:Mp,content:e})}),e.content);break;case fp:r.push($c(e));break;case mp:i.push({type:Bp,eventToken:e.clickTrackId})}}),t);var a={name:e};if(!x(r)&&(a.options=r),!x(i)&&(a.metrics=i),x(a))return n;var o={},s=[a];return o.mboxes=s,n.execute=o,n}function hu(e,t,n){return n?du(t):pu(e,t)}function fu(e){var t=e.status,n=e.data,r={status:t,pageLoad:!0};return p(n)||(r.data=n),r}function gu(e){var t=e.status,n=e.mbox,r=e.data,i={status:t,mbox:n.name};return p(r)||(i.data=r),i}function mu(e){var t=e.status,n=e.view,r=e.data,i={status:t,view:n.name};return p(r)||(i.data=r),i}function _u(e){var t=e.status,n=e.data,r={status:t,prefetchMetrics:!0};return p(n)||(r.data=n),r}function vu(e){if(p(e))return[null];var t=U(fu,[e]);return Mv(t)&&We(Pv,e),t}function yu(e){if(p(e))return[null];var t=U(gu,e);return Mv(t)&&We(Cv,e),t}function bu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sc;if(p(e))return[null];var n=U(gu,e);return Mv(n)&&We(Cv,e),t(e),n}function Iu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lc;if(p(e))return[null];var n=U(mu,[e]);return Mv(n)&&We(Dv,e),e.view.page?(t(e),n):n}function Su(e){if(p(e))return[null];var t=U(_u,[e]);return Mv(t)&&We(Nv,e),t}function Eu(e){var t=S([vu(e[0]),yu(e[1]),bu(e[2]),Su(e[3])]),n=b(h_,t),r=b(m_,n);return x(r)?st(n):ct(r)}function ku(e){return ct(e)}function Tu(e,t){if(!x(t)){var n=t.options;x(n)||k((function(t){if(t.type===Op){var n=np,r=t.content;t.type=jh,t.content=[{type:n,selector:e,content:r}]}}),n)}}function Au(e,t){var n=t.metrics;if(!x(n)){var r=t.name;k((function(t){t.name=r,t.selector=t.selector||e}),n)}}function wu(e,t){var n=td.default({},t),r=n.execute,i=void 0===r?{}:r,a=n.prefetch,o=void 0===a?{}:a,s=i.pageLoad,c=void 0===s?{}:s,u=i.mboxes,l=void 0===u?[]:u,d=o.mboxes,p=void 0===d?[]:d;return Tu(e,c),k((function(t){return Tu(e,t)}),l),k((function(t){return Au(e,t)}),l),k((function(t){return Tu(e,t)}),p),k((function(t){return Au(e,t)}),p),n}function Pu(e){var t=e.prefetch,n=(void 0===t?{}:t).views,r=void 0===n?[]:n;x(r)||Ws(r)}function Cu(e){var t=[],n=e.execute,r=void 0===n?{}:n,i=r.pageLoad,a=void 0===i?{}:i,o=r.mboxes,s=void 0===o?[]:o;x(a)?t.push(st(null)):t.push(Fc(a)),x(s)?t.push(st(null)):t.push(Uc(s));var c=e.prefetch,u=void 0===c?{}:c,l=u.mboxes,d=void 0===l?[]:l,p=u.metrics,h=void 0===p?[]:p;return x(d)?t.push(st(null)):t.push(qc(d)),od(h)&&!x(h)?t.push(Hc(u)):t.push(st(null)),Rn(),lt(t).then(Eu).catch(ku)}function Du(e,t){G((function(){return e.location.replace(t)}))}function Nu(e){return Id(e)||qt(e)?e:Fp}function Mu(e){No(Gh,e)}function Ou(e){var t=e.mbox,n=e.selector,r=e.offer,i=ye(),a=t===i[ef];if(x(r))return ze(Eh),Mu(n),Rn(),void Ft({mbox:t});var o=wu(n,hu(t,r,a)),s=Xa(o);if(!x(s)){var c=s.url;return ze(kh,s),Ut({url:c}),void Du(Tg,c)}Vt({mbox:t}),Vc(o),Cu(o).then((function(e){x(e)||jt({mbox:t,execution:e})})).catch((function(e){return Bt({error:e})}))}function xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,n=void 0===t?{}:t,r=e.execute,i=void 0===r?{}:r,a=i.pageLoad,o=void 0===a?{}:a,s=i.mboxes,c=void 0===s?[]:s,u=n.pageLoad,l=void 0===u?{}:u,d=n.views,p=void 0===d?[]:d,h=n.mboxes,f=void 0===h?[]:h;return x(o)&&x(c)&&x(l)&&x(p)&&x(f)}function Ru(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.selector,r=e.response;if(xu(r))return ze(Eh),Mu(n),Rn(),Ft({}),Qc(mg),st();var i=wu(n,r),a=Xa(i);if(!x(a)){var o=a.url;return ze(kh,a),Ut({url:o}),Qc(_g),Du(Tg,o),st()}return Vt({}),Pu(i),Qc(gg),Vc(i,t),Cu(i).then((function(e){x(e)||jt({execution:e})})).catch((function(e){return Bt({error:e})}))}function Lu(e){var t=e[pg];if(x(t))return!1;var n=t.request,r=t.response;return!x(n)&&!x(r)}function Vu(e){return e[pg]}function ju(e){window.__target_telemetry.addServerStateEntry(e)}function Bu(e){We(Ov,$f,e),Qc(mg),et({source:Ov,error:e}),Rn()}function Fu(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={selector:Fp,response:e};ze(Ov,Uh,e),et({source:Ov,response:e}),Ru(n,t).catch(Bu)}function Uu(e,t){var n=td.default({},t),r=n.execute,i=n.prefetch,a=e[Rf],o=e[xf];return r&&(n.execute.mboxes=void 0),r&&!a&&(n.execute.pageLoad=void 0),i&&(n.prefetch.mboxes=void 0),i&&!o&&(n.prefetch.views=void 0),n}function qu(e){var t=Vu(e),n=t.request,r=t.response,i=!0;ze(Ov,tg),et({source:Ov,serverState:t});var a=Uu(e,r);Vc(a),jc(a),ju(n),So({request:n,response:a}).then((function(e){return Fu(e,i)})).catch(Bu)}function Hu(){if(!Ue())return We(Ov,Gp),void et({source:Ov,error:Gp});var e=ye();if(Lu(e))qu(e);else{var t=e[Rf],n=e[xf];if(!t&&!n)return ze(Ov,eg),void et({source:Ov,error:eg});xn();var r={};if(t){var i={pageLoad:{}};r.execute=i}if(n){var a={views:[{}]};r.prefetch=a}var o=e[Zh];ze(Ov,qh,r),et({source:Ov,request:r});var s={request:r,timeout:o};mt()&&!_t()?yt().then((function(){Do(s).then(Fu).catch(Bu)})).catch(Bu):Do(s).then(Fu).catch(Bu)}}function Yu(){var e={};return e[Ch]=!0,e}function Ku(e){var t={};return t[Ch]=!1,t[Ah]=e,t}function Gu(e){return L(e)?Ku(eh):e.length>Dp?Ku(th):Yu()}function Wu(e){if(!g(e))return Ku(zp);var t=Gu(e[Oh]);return t[Ch]?m(e[Dh])?m(e[Ah])?Yu():Ku(rh):Ku(nh):t}function zu(e){if(!g(e))return Ku(zp);var t=e.request;if(!g(t))return Ku(Qp);var n=t.execute,r=t.prefetch;return g(n)||g(r)?Yu():Ku($p)}function Qu(e){if(!g(e))return Ku(zp);var t=e.request;if(!g(t))return Ku(Qp);var n=t.execute,r=t.prefetch,i=t.notifications;return g(n)||g(r)?Ku(Xp):od(i)?Yu():Ku(Zp)}function Ju(e){if(!g(e))return Ku(zp);var t=Gu(e[Oh]);if(!t[Ch])return t;var n=e[xh];return od(n)?Yu():Ku(ih)}function $u(e){return g(e)?g(e.response)?Yu():Ku(Jp):Ku(zp)}function Xu(e){if(!g(e))return Ku(zp);var t=Gu(e[Oh]);return t[Ch]?Yu():t}function Zu(e){return{action:fp,url:e.content}}function el(e){var t={};return t.action=rp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function tl(e){var t={};return t.action=ip,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nl(e){var t={};return t.action=bp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rl(e){var t={};return t.action=Sp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function il(e){var t={};return t.action=kp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function al(e){var t={};return t.action=_p,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ol(e){var t={};return t.action=vp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sl(e){var t={};return t.action=hp,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cl(e){var t=y(e.content)[0],n={};return n.action=op,n.attribute=t,n.value=e.content[t],n.selector=e.selector,n.cssSelector=e.cssSelector,n}function ul(e){var t={};return t.action=op,t.attribute=Lp,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ll(e){var t={};return t.action=cp,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function dl(e){var t={};return t.action=cp,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pl(e){var t={};return t.action=cp,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hl(e){var t={};return t.action=pp,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fl(e){var t={};return t.action=up,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gl(e){var t=[];return k((function(e){switch(e.type){case np:t.push(el(e));break;case ip:t.push(tl(e));break;case yp:t.push(nl(e));break;case Ip:t.push(rl(e));break;case Ep:t.push(il(e));break;case _p:t.push(al(e));break;case vp:t.push(ol(e));break;case hp:t.push(sl(e));break;case op:t.push(cl(e));break;case sp:t.push(ul(e));break;case cp:t.push(ll(e));break;case lp:t.push(dl(e));break;case dp:t.push(pl(e));break;case pp:t.push(hl(e));break;case up:t.push(fl(e));break;case fp:t.push(Zu(e))}}),e),t}function ml(e){if(x(e))return[];var t=[];return k((function(e){e.type===Bp&&(D_(e)?t.push({action:gp,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:mp,clickTrackId:e.eventToken}))}),e),t}function _l(e){if(x(e))return[];var t=[],n=[],r=[],i=e.options,a=void 0===i?[]:i,o=e.metrics,s=void 0===o?[]:o;k((function(e){switch(e.type){case Op:t.push(e.content);break;case Mp:n.push(e.content);break;case fp:r.push(Zu(e));break;case jh:r.push.apply(r,gl(e.content))}}),a),x(t)||r.push({action:rp,content:t.join("")}),x(n)||r.push({action:ap,content:n});var c=ml(s);return x(c)||r.push.apply(r,c),r}function vl(e){var t=e.execute,n=void 0===t?{}:t,r=n.pageLoad,i=void 0===r?{}:r,a=n.mboxes,o=void 0===a?[]:a,s=[];return s.push.apply(s,_l(i)),s.push.apply(s,S(U(_l,o))),s}function yl(e,t){var n=vl(t);e[Dh](n)}function bl(e,t){var n=t[Lh]||Ph;e[Ah](n,t)}function Il(e){var t=Wu(e),n=t[Ah];if(!t[Ch])return We(xv,n),void et({source:xv,options:e,error:n});if(!Ue())return G(e[Ah](wh,Gp)),We(xv,Gp),void et({source:xv,options:e,error:Gp});var r=function(t){return yl(e,t)},i=function(t){return bl(e,t)};ze(xv,e),et({source:xv,options:e}),mt()&&!_t()?yt().then((function(){Co(e).then(r).catch(i)})):Co(e).then(r).catch(i)}function Sl(e){var t=zu(e),n=t[Ah];return t[Ch]?Ue()?(ze(Rv,e),et({source:Rv,options:e}),!mt()||_t()?Do(e):yt().then((function(){return Do(e)}))):(We(Rv,Gp),et({source:Rv,options:e,error:Gp}),ct(new Error(Gp))):(We(Rv,n),et({source:Rv,options:e,error:n}),ct(t))}function El(e){var t=Nu(e.selector),n=w(t);Fd.timeStart(n);var r=Ju(e),i=r[Ah];if(!r[Ch])return We(Lv,e,i),et({source:Lv,options:e,error:i}),void Mu(t);if(!Ue())return We(Lv,Gp),et({source:Lv,options:e,error:Gp}),void Mu(t);e.selector=t,ze(Lv,e),et({source:Lv,options:e}),Ou(e);var a=Fd.timeEnd(n);Fd.clearTiming(n),window.__target_telemetry.addRenderEntry(n,a)}function kl(e){var t=Nu(e.selector),n=w(t);Fd.timeStart(n);var r=$u(e),i=r[Ah];return r[Ch]?Ue()?(e.selector=t,ze(Vv,e),et({source:Vv,options:e}),Ru(e).then((function(){var e=Fd.timeEnd(n);Fd.clearTiming(n),window.__target_telemetry.addRenderEntry(n,e)}))):(We(Vv,Gp),et({source:Vv,options:e,error:Gp}),Mu(t),ct(new Error(Gp))):(We(Vv,e,i),et({source:Vv,options:e,error:i}),Mu(t),ct(r))}function Tl(e){var t=ye()[ef],n=e.consumerId,r=void 0===n?t:n,i=e.request,a=Qu(e),o=a[Ah];if(!a[Ch])return We(jv,o),void et({source:jv,options:e,error:o});if(!Ue())return We(jv,Gp),void et({source:jv,options:e,error:Gp});ze(jv,e),et({source:jv,options:e});var s=Zs(r,{},i.notifications);!mt()||_t()?ic(s):We(jv,lg)}function Al(e,t){var n=t[Oh],r=td.default({},t),i=g(t.params)?t.params:{};return r[Vh]=td.default({},Or(n),i),r[Zh]=gi(e,t[Zh]),r[Dh]=m(t[Dh])?t[Dh]:Ld,r[Ah]=m(t[Ah])?t[Ah]:Ld,r}function wl(e){var t=e[Kd],n=e[ep];return Id(t)&&(Id(n)||qt(n))}function Pl(e){var t=e.mbox,n=e.type,r=void 0===n?Wf:n,i=g(e.params)?e.params:{},a=td.default({},Or(t),i),o=tc(Fi({},a),r,[]);o.mbox={name:t},ic(Zs(t,a,[o])).then((function(){ze(Ih,e),e[Dh]()})).catch((function(){We(Sh,e),e[Ah](Ph,Sh)}))}function Cl(e){if(mt()&&!_t())return We(Sh,lg),void e[Ah](Ah,lg);Pl(e)}function Dl(e){return Cl(e),!e.preventDefault}function Nl(e){var t=e[ep],n=e[Kd],r=O(Gt(t)),i=function(){return Dl(e)};k((function(e){return qs(n,i,e)}),r)}function Ml(e){var t=Xu(e),n=t[Ah];if(!t[Ch])return We(Bv,n),void et({source:Bv,options:e,error:n});var r=Al(ye(),e);if(!Ue())return We(Bv,Gp),G(r[Ah](wh,Gp)),void et({source:Bv,options:e,error:Gp});ze(Bv,r),et({source:Bv,options:r}),wl(r)?Nl(r):Cl(r)}function Ol(e){return Bc(e),Yc(e).then(Iu).then((function(e){x(e)||jt({execution:e})})).catch((function(e){We(Jf,e),Bt({error:e})}))}function xl(){for(;Uv.length>0;){var e=Uv.pop(),t=e.viewName,n=e.page,r=Gs(t,e);p(r)?n&&uc(e):Ol(r)}}function Rl(){Yv=Hv,xl()}function Ll(){Jc(gg,Rl),Jc(mg,Rl),Jc(_g,Rl)}function Vl(e,t){var n={};return n.viewName=e,n.impressionId=de(),n.page=!0,x(t)||(n.page=!!t.page),n}function jl(e){Uv.push(e),Yv!==qv&&xl()}function Bl(e,t){if(ye()[xf]){if(!A(e)||L(e))return We(Fv,Xf,e),void et({source:Fv,view:e,error:Xf});var n=e.toLowerCase(),r=Vl(n,t);ze(Fv,n,r),He()?rn(r):(et({source:Fv,view:n,options:r}),jl(r))}else We(Fv,Zf)}function Fl(){We(Gv,arguments)}function Ul(){We(Wv,arguments)}function ql(){We(zv,arguments)}function Hl(){We(Qv,arguments)}function Yl(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function Kl(){Object.keys(localStorage).filter($v).forEach((function(e){return localStorage.removeItem(e)}))}function Gl(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){Kl()}}function Wl(){function e(e){return ey+":"+e}function t(e){var t=localStorage.getItem(e),n=parseInt(t,Zv);return Number.isNaN(n)&&(n=Xv),n}function n(e,t){localStorage.setItem(e,t)}function r(){var e=t(ny)+1;return n(ny,e),e}function i(t,n){Gl(e(t),n)}function a(t){var n=e(t),r=localStorage.getItem(n);return localStorage.removeItem(n),r}function o(){for(var e=[],r=t(ty)||Xv,i=t(ny)||Xv,o=i;o>r;o-=1){var s=a(o);s&&e.push(JSON.parse(s))}return n(ty,i),e}function s(e){i(r(),e)}function c(){return o()}function u(){var n=e(t(ny));return!!localStorage.getItem(n)}return{addEntry:s,getAndClearEntries:c,hasEntries:u}}function zl(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:Ld,getOffers:Vd,applyOffer:Ld,applyOffers:Vd,sendNotifications:Ld,trackEvent:Ld,triggerView:Ld,registerExtension:Ld,init:Ld},e.mboxCreate=Ld,e.mboxDefine=Ld,e.mboxUpdate=Ld}function Ql(e,t,n){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)We(Wp);else{ve(n);var r=ye(),i=r[nf];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=i,e.adobe.target.event={LIBRARY_LOADED:Wg,REQUEST_START:zg,REQUEST_SUCCEEDED:Qg,REQUEST_FAILED:Jg,CONTENT_RENDERING_START:$g,CONTENT_RENDERING_SUCCEEDED:Xg,CONTENT_RENDERING_FAILED:Zg,CONTENT_RENDERING_NO_OFFERS:em,CONTENT_RENDERING_REDIRECT:tm},!r[zh])return zl(e),void We(Gp);e.__target_telemetry=re(r[bg]&&Yl(),r[yg],Wl()),Xe(),on(),fn(e),_n(e),e.adobe.target.getOffer=Il,e.adobe.target.getOffers=Sl,e.adobe.target.applyOffer=El,e.adobe.target.applyOffers=kl,e.adobe.target.sendNotifications=Tl,e.adobe.target.trackEvent=Ml,e.adobe.target.triggerView=Bl,e.adobe.target.registerExtension=Fl,e.mboxCreate=Ul,e.mboxDefine=ql,e.mboxUpdate=Hl,Ot()}}var Jl=n("@adobe/reactor-object-assign"),$l=n("@adobe/reactor-cookie"),Xl=n("@adobe/reactor-query-string"),Zl=n("@adobe/reactor-promise"),ed=n("@adobe/reactor-load-script"),td=r(Jl),nd=r($l),rd=r(Xl),id=r(Zl),ad=r(ed),od=Array.isArray,sd=Object.prototype,cd=sd.toString,ud="[object Function]",ld=function(e,t){return t.forEach(e)},dd=function(e,t){ld((function(n){return e(t[n],n)}),y(t))},pd=function(e,t){return t.filter(e)},hd=function(e,t){var n={};return dd((function(t,r){e(t,r)&&(n[r]=t)}),t),n},fd="[object String]",gd=9007199254740991,md=function(e,t){return t.map(e)},_d=Object.prototype,vd=_d.hasOwnProperty,yd=String.prototype,bd=yd.trim,Id=function(e){return!L(e)},Sd="[object Number]",Ed="[object Object]",kd=Function.prototype,Td=Object.prototype,Ad=kd.toString,wd=Td.hasOwnProperty,Pd=Ad.call(Object),Cd=function(e,t){var n={};return dd((function(t,r){n[r]=e(t,r)}),t),n},Dd=function(e,t,n){return n.reduce(e,t)},Nd=function(e,t,n){var r=t;return dd((function(t,n){r=e(r,t,n)}),n),r},Md=Array.prototype,Od=Md.reverse,xd={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Rd={EDGE:"edge",LOCAL:"local"},Ld=function(){},Vd=function(e){return Promise.resolve(e)},jd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bd=ie((function(e){(function(){var t,n,r,i,a,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-a)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),o=1e9*process.uptime(),a=i-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(jd)})),Fd=ae(),Ud=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(i[n.q.name][t]=r)})),i}
},qd=new Uint8Array(256),Hd=oe(),Yd=ce(),Kd="type",Gd="content",Wd="height",zd="width",Qd="left",Jd="top",$d="from",Xd="to",Zd="priority",ep="selector",tp="cssSelector",np="setHtml",rp="setContent",ip="setText",ap="setJson",op="setAttribute",sp="setImageSource",cp="setStyle",up="rearrange",lp="resize",dp="move",pp="remove",hp="customCode",fp="redirect",gp="trackClick",mp="signalClick",_p="insertBefore",vp="insertAfter",yp="appendHtml",bp="appendContent",Ip="prependHtml",Sp="prependContent",Ep="replaceHtml",kp="replaceContent",Tp="mboxDebug",Ap="mboxDisable",wp="mboxEdit",Pp="at_check",Cp="true",Dp=250,Np="data-at-src",Mp="json",Op="html",xp="dynamic",Rp="script",Lp="src",Vp="id",jp="class",Bp="click",Fp="head",Up="script",qp="style",Hp="link",Yp="img",Kp="div",Gp='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Wp="Adobe Target has already been initialized.",zp="options argument is required",Qp="request option is required",Jp="response option is required",$p="execute or prefetch is required",Xp="execute or prefetch is not allowed",Zp="notifications are required",eh="mbox option is required",th="mbox option is too long",nh="success option is required",rh="error option is required",ih="offer option is required",ah="Unexpected error",oh="request failed",sh="request succeeded",ch="Action rendered successfully",uh="Rendering action",lh="Action has no content",dh="Action has no attributes",ph="Action has no CSS properties",hh="Action has no height or width",fh="Action has no left, top or position",gh="Action has no from or to",mh="Action has no url",_h="Action has no image url",vh="Rearrange elements are missing",yh='Rearrange has incorrect "from" and "to" indexes',bh="Loading image",Ih="Track event request succeeded",Sh="Track event request failed",Eh="No actions to be rendered",kh="Redirect action",Th="Script load",Ah="error",wh="warning",Ph="unknown",Ch="valid",Dh="success",Nh="render",Mh="metric",Oh="mbox",xh="offer",Rh="name",Lh="status",Vh="params",jh="actions",Bh="responseTokens",Fh="data",Uh="response",qh="request",Hh="provider",Yh="pageLoad",Kh="at-flicker-control",Gh="at-element-marker",Wh="at-element-click-tracking",zh="enabled",Qh="clientCode",Jh="imsOrgId",$h="serverDomain",Xh="crossDomain",Zh="timeout",ef="globalMboxName",tf="globalMboxAutoCreate",nf="version",rf="defaultContentHiddenStyle",af="bodyHiddenStyle",of="bodyHidingEnabled",sf="deviceIdLifetime",cf="sessionIdLifetime",uf="selectorsPollingTimeout",lf="visitorApiTimeout",df="overrideMboxEdgeServer",pf="overrideMboxEdgeServerTimeout",hf="optoutEnabled",ff="secureOnly",gf="supplementalDataIdParamTimeout",mf="authoringScriptUrl",_f="scheme",vf="cookieDomain",yf="mboxParams",bf="globalMboxParams",If="mboxSession",Sf="PC",Ef="mboxEdgeCluster",kf="session",Tf="Traces",Af="settings",wf="client"+Tf,Pf="server"+Tf,Cf="___target_traces",Df="targetGlobalSettings",Nf="dataProvider",Mf=Nf+"s",Of="endpoint",xf="viewsEnabled",Rf="pageLoadEnabled",Lf="authState",Vf="authenticatedState",jf="integrationCode",Bf="primary",Ff="page",Uf="view",qf="views",Hf="options",Yf="metrics",Kf="eventToken",Gf="viewName",Wf="display",zf="Content-Type",Qf="text/plain",Jf="View rendering failed",$f="View delivery error",Xf="View name should be a non-empty string",Zf="Views are not enabled",eg="Page load disabled",tg="Using server state",ng="adobe",rg="optIn",ig="isApproved",ag="fetchPermissions",og="Categories",sg="TARGET",cg="ANALYTICS",ug="optinEnabled",lg="Adobe Target is not opted in",dg="analyticsLogging",pg="serverState",hg="cspScriptNonce",fg="cspStyleNonce",gg="cache-updated-event",mg="no-offers-event",_g="redirect-offer-event",vg="None",yg="decisioningMethod",bg="telemetryEnabled",Ig="web",Sg="clientHints",Eg="allowHighEntropyClientHints",kg=document,Tg=window,Ag="file:",wg=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Pg=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Cg={},Dg=[zh,Qh,Jh,$h,Xh,vf,Zh,yf,bf,rf,"defaultContentVisibleStyle",sf,af,of,uf,lf,df,pf,hf,ug,ff,gf,mf,"urlSizeLimit",Of,Rf,xf,dg,pg,yg,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",bg,"cdnBasePath",hg,fg,ef,Eg],Ng=rd.default.parse,Mg=rd.default.stringify,Og=kg.createElement("a"),xg={},Rg=nd.default.get,Lg=nd.default.set,Vg=nd.default.remove,jg="mbox",Bg="AT:",Fg="1",Ug=function(e){var t=function(){function t(e){return null==e?String(e):$[X.call(e)]||"object"}function n(e){return"function"==t(e)}function r(e){return null!=e&&e==e.window}function a(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(e){return"object"==t(e)}function s(e){return o(e)&&!r(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){var t=!!e&&"length"in e&&e.length,n=w.type(e);return"function"!=n&&!r(e)&&("array"==n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e){return O.call(e,(function(e){return null!=e}))}function l(e){return e.length>0?w.fn.concat.apply([],e):e}function d(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function p(e){return e in V?V[e]:V[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function h(e,t){return"number"!=typeof t||j[d(e)]?t:t+"px"}function f(e){var t,n;return L[e]||(t=R.createElement(e),R.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),L[e]=n),L[e]}function g(e){return"children"in e?x.call(e.children):w.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function m(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function _(e,t,n){for(A in t)n&&(s(t[A])||ne(t[A]))?(s(t[A])&&!s(e[A])&&(e[A]={}),ne(t[A])&&!ne(e[A])&&(e[A]=[]),_(e[A],t[A],n)):t[A]!==T&&(e[A]=t[A])}function v(e,t){return null==t?w(e):w(e).filter(t)}function y(e,t,r,i){return n(t)?t.call(e,r,i):t}function b(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function I(e,t){var n=e.className||"",r=n&&n.baseVal!==T;if(t===T)return r?n.baseVal:n;r?n.baseVal=t:e.className=t}function S(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?w.parseJSON(e):e):e}catch(t){return e}}function E(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)E(e.childNodes[n],t)}function k(e,t,n){var r=e.getElementsByTagName("script")[0];if(r){var i=r.parentNode;if(i){var a=e.createElement("script");a.innerHTML=t,Id(n)&&a.setAttribute("nonce",n),i.appendChild(a),i.removeChild(a)}}}var T,A,w,P,C,D,N=[],M=N.concat,O=N.filter,x=N.slice,R=e.document,L={},V={},j={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,q=/^(?:body|html)$/i,H=/([A-Z])/g,Y=["val","css","html","text","data","width","height","offset"],K=["after","prepend","before","append"],G=R.createElement("table"),W=R.createElement("tr"),z={tr:R.createElement("tbody"),tbody:G,thead:G,tfoot:G,td:W,th:W,"*":R.createElement("div")},Q=/complete|loaded|interactive/,J=/^[\w-]*$/,$={},X=$.toString,Z={},ee=R.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ne=Array.isArray||function(e){return e instanceof Array};return Z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,a=!i;return a&&(i=ee).appendChild(e),r=~Z.qsa(i,t).indexOf(e),a&&ee.removeChild(e),r},C=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},D=function(e){return O.call(e,(function(t,n){return e.indexOf(t)==n}))},Z.fragment=function(e,t,n){var r,i,a;return F.test(e)&&(r=w(R.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(U,"<$1></$2>")),t===T&&(t=B.test(e)&&RegExp.$1),t in z||(t="*"),(a=z[t]).innerHTML=""+e,r=w.each(x.call(a.childNodes),(function(){a.removeChild(this)}))),s(n)&&(i=w(r),w.each(n,(function(e,t){Y.indexOf(e)>-1?i[e](t):i.attr(e,t)}))),r},Z.Z=function(e,t){return new m(e,t)},Z.isZ=function(e){return e instanceof Z.Z},Z.init=function(e,t){var r;if(!e)return Z.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&B.test(e))r=Z.fragment(e,RegExp.$1,t),e=null;else{if(t!==T)return w(t).find(e);r=Z.qsa(R,e)}else{if(n(e))return w(R).ready(e);if(Z.isZ(e))return e;if(ne(e))r=u(e);else if(o(e))r=[e],e=null;else if(B.test(e))r=Z.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==T)return w(t).find(e);r=Z.qsa(R,e)}}return Z.Z(r,e)},(w=function(e,t){return Z.init(e,t)}).extend=function(e){var t,n=x.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){_(e,n,t)})),e},Z.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],a=r||i?t.slice(1):t,o=J.test(a);return e.getElementById&&o&&r?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:x.call(o&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},w.contains=R.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},w.type=t,w.isFunction=n,w.isWindow=r,w.isArray=ne,w.isPlainObject=s,w.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},w.isNumeric=function(e){var t=Number(e),n=i(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},w.inArray=function(e,t,n){return N.indexOf.call(t,e,n)},w.camelCase=C,w.trim=function(e){return null==e?"":String.prototype.trim.call(e)},w.uuid=0,w.support={},w.expr={},w.noop=function(){},w.map=function(e,t){var n,r,i,a=[];if(c(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&a.push(n);else for(i in e)null!=(n=t(e[i],i))&&a.push(n);return l(a)},w.each=function(e,t){var n,r;if(c(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},w.grep=function(e,t){return O.call(e,t)},e.JSON&&(w.parseJSON=JSON.parse),w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){$["[object "+t+"]"]=t.toLowerCase()})),w.fn={constructor:Z.Z,length:0,forEach:N.forEach,reduce:N.reduce,push:N.push,sort:N.sort,splice:N.splice,indexOf:N.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Z.isZ(t)?t.toArray():t;return M.apply(Z.isZ(this)?this.toArray():this,n)},map:function(e){return w(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return w(x.apply(this,arguments))},ready:function(e){return Q.test(R.readyState)&&R.body?e(w):R.addEventListener("DOMContentLoaded",(function(){e(w)}),!1),this},get:function(e){return e===T?x.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,n=this.length,r=0;r<n&&(t=this[r],!1!==e.call(t,r,t));)r++;return this},filter:function(e){return n(e)?this.not(this.not(e)):w(O.call(this,(function(t){return Z.matches(t,e)})))},add:function(e,t){return w(D(this.concat(w(e,t))))},is:function(e){return this.length>0&&Z.matches(this[0],e)},not:function(e){var t=[];if(n(e)&&e.call!==T)this.each((function(n){e.call(this,n)||t.push(this)}));else{var r="string"==typeof e?this.filter(e):c(e)&&n(e.item)?x.call(e):w(e);this.forEach((function(e){r.indexOf(e)<0&&t.push(e)}))}return w(t)},has:function(e){return this.filter((function(){return o(e)?w.contains(this,e):w(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:w(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:w(e)},find:function(e){var t,n=this;return t=e?"object"==i(e)?w(e).filter((function(){var e=this;return N.some.call(n,(function(t){return w.contains(t,e)}))})):1==this.length?w(Z.qsa(this[0],e)):this.map((function(){return Z.qsa(this,e)})):w(),t},closest:function(e,t){var n=[],r="object"==i(e)&&w(e);return this.each((function(i,o){for(;o&&!(r?r.indexOf(o)>=0:Z.matches(o,e));)o=o!==t&&!a(o)&&o.parentNode;o&&n.indexOf(o)<0&&n.push(o)})),w(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=w.map(n,(function(e){if((e=e.parentNode)&&!a(e)&&t.indexOf(e)<0)return t.push(e),e}));return v(t,e)},parent:function(e){return v(D(this.pluck("parentNode")),e)},children:function(e){return v(this.map((function(){return g(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||x.call(this.childNodes)}))},siblings:function(e){return v(this.map((function(e,t){return O.call(g(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return w.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=n(e);if(this[0]&&!t)var r=w(e).get(0),i=r.parentNode||this.length>1;return this.each((function(n){w(this).wrapAll(t?e.call(this,n):i?r.cloneNode(!0):r)}))},wrapAll:function(e){if(this[0]){var t;for(w(this[0]).before(e=w(e));(t=e.children()).length;)e=t.first();w(e).append(this)}return this},wrapInner:function(e){var t=n(e);return this.each((function(n){var r=w(this),i=r.contents(),a=t?e.call(this,n):e;i.length?i.wrapAll(a):r.append(a)}))},unwrap:function(){return this.parent().each((function(){w(this).replaceWith(w(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=w(this);(e===T?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return w(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return w(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var n=this.innerHTML;w(this).empty().append(y(this,e,t,n))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=y(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each((function(n){if(1===this.nodeType)if(o(e))for(A in e)b(this,A,e[A]);else b(this,e,y(this,t,n,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(e))?n:T},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){b(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(n){this[e]=y(this,t,n,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var n="data-"+e.replace(H,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?S(r):T},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=y(this,e,t,this.value)}))):this[0]&&(this[0].multiple?w(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var n=w(this),r=y(this,t,e,n.offset()),i=n.offsetParent().offset(),a={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)}));if(!this.length)return null;if(R.documentElement!==this[0]&&!w.contains(R.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(e,n){if(arguments.length<2){var r=this[0];if("string"==typeof e){if(!r)return;return r.style[C(e)]||getComputedStyle(r,"").getPropertyValue(e)}if(ne(e)){if(!r)return;var i={},a=getComputedStyle(r,"");return w.each(e,(function(e,t){i[t]=r.style[C(t)]||a.getPropertyValue(t)})),i}}var o="";if("string"==t(e))n||0===n?o=d(e)+":"+h(e,n):this.each((function(){this.style.removeProperty(d(e))}));else for(A in e)e[A]||0===e[A]?o+=d(A)+":"+h(A,e[A])+";":this.each((function(){this.style.removeProperty(d(A))}));return this.each((function(){this.style.cssText+=";"+o}))},index:function(e){return e?this.indexOf(w(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&N.some.call(this,(function(e){return this.test(I(e))}),p(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){P=[];var n=I(this);y(this,e,t,n).split(/\s+/g).forEach((function(e){w(this).hasClass(e)||P.push(e)}),this),P.length&&I(this,n+(n?" ":"")+P.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===T)return I(this,"");P=I(this),y(this,e,t,P).split(/\s+/g).forEach((function(e){P=P.replace(p(e)," ")})),I(this,P.trim())}}))},toggleClass:function(e,t){return e?this.each((function(n){var r=w(this);y(this,e,n,I(this)).split(/\s+/g).forEach((function(e){(t===T?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===T?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===T?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=q.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(w(e).css("margin-top"))||0,n.left-=parseFloat(w(e).css("margin-left"))||0,r.top+=parseFloat(w(t[0]).css("border-top-width"))||0,r.left+=parseFloat(w(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||R.body;e&&!q.test(e.nodeName)&&"static"==w(e).css("position");)e=e.offsetParent;return e}))}},w.fn.detach=w.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));w.fn[e]=function(n){var i,o=this[0];return n===T?r(o)?o["inner"+t]:a(o)?o.documentElement["scroll"+t]:(i=this.offset())&&i[e]:this.each((function(t){(o=w(this)).css(e,y(this,n,t,o[e]()))}))}})),K.forEach((function(e,n){var r=n%2;w.fn[e]=function(){var e,i,a=w.map(arguments,(function(n){var r=[];return"array"==(e=t(n))?(n.forEach((function(e){return e.nodeType!==T?r.push(e):w.zepto.isZ(e)?r=r.concat(e.get()):void(r=r.concat(Z.fragment(e)))})),r):"object"==e||null==n?n:Z.fragment(n)})),o=this.length>1;return a.length<1?this:this.each((function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=w.contains(R.documentElement,i),c=/^(text|application)\/(javascript|ecmascript)$/,u=ye(),l=u[hg],d=u[fg];a.forEach((function(e){if(o)e=e.cloneNode(!0);else if(!i)return w(e).remove();Id(l)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",l),Id(d)&&"STYLE"===e.tagName&&e.setAttribute("nonce",d),i.insertBefore(e,t),s&&E(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!c.test(e.type.toLowerCase())||e.src||k(R,e.innerHTML,e.nonce)}))}))}))},w.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return w(t)[e](this),this}})),Z.Z.prototype=m.prototype=w.fn,Z.uniq=D,Z.deserializeValue=S,w.zepto=Z,w}();return function(t){function n(e){return e._zid||(e._zid=h++)}function r(e,t,r,o){if((t=i(t)).ns)var s=a(t.ns);return(_[n(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||s.test(e.ns))&&(!r||n(e.fn)===n(r))&&(!o||e.sel==o)}))}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function a(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!y&&e.e in b||!!t}function s(e){return I[e]||y&&b[e]||e}function c(e,r,a,c,u,d,h){var f=n(e),g=_[f]||(_[f]=[]);r.split(/\s/).forEach((function(n){if("ready"==n)return t(document).ready(a);var r=i(n);r.fn=a,r.sel=u,r.e in I&&(a=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return r.fn.apply(this,arguments)}),r.del=d;var f=d||a;r.proxy=function(t){if(!(t=l(t)).isImmediatePropagationStopped()){t.data=c;var n=f.apply(e,t._args==p?[t]:[t].concat(t._args));return!1===n&&(t.preventDefault(),t.stopPropagation()),n}},r.i=g.length,g.push(r),"addEventListener"in e&&e.addEventListener(s(r.e),r.proxy,o(r,h))}))}function u(e,t,i,a,c){var u=n(e);(t||"").split(/\s/).forEach((function(t){r(e,t,i,a).forEach((function(t){delete _[u][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,o(t,c))}))}))}function l(e,n){if(n||!e.isDefaultPrevented){n||(n=e),t.each(T,(function(t,r){var i=n[t];e[t]=function(){return this[r]=S,i&&i.apply(n,arguments)},e[r]=E}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(n.defaultPrevented!==p?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=S)}return e}function d(e){var t,n={originalEvent:e};for(t in e)k.test(t)||e[t]===p||(n[t]=e[t]);return l(n,e)}var p,h=1,f=Array.prototype.slice,g=t.isFunction,m=function(e){return"string"==typeof e},_={},v={},y="onfocusin"in e,b={focus:"focusin",blur:"focusout"},I={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:c,remove:u},t.proxy=function(e,r){var i=2 in arguments&&f.call(arguments,2);if(g(e)){var a=function(){return e.apply(r,i?i.concat(f.call(arguments)):arguments)};return a._zid=n(e),a}if(m(r))return i?(i.unshift(e[r],e),t.proxy.apply(null,i)):t.proxy(e[r],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var S=function(){return!0},E=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,a){var o,s,l=this;return e&&!m(e)?(t.each(e,(function(e,t){l.on(e,n,r,t,a)})),l):(m(n)||g(i)||!1===i||(i=r,r=n,n=p),i!==p&&!1!==r||(i=r,r=p),!1===i&&(i=E),l.each((function(l,p){a&&(o=function(e){return u(p,e.type,i),i.apply(this,arguments)}),n&&(s=function(e){var r,a=t(e.target).closest(n,p).get(0);if(a&&a!==p)return r=t.extend(d(e),{currentTarget:a,liveFired:p}),(o||i).apply(a,[r].concat(f.call(arguments,1)))}),c(p,e,i,r,n,s||o)})))},t.fn.off=function(e,n,r){var i=this;return e&&!m(e)?(t.each(e,(function(e,t){i.off(e,n,t)})),i):(m(n)||g(r)||!1===r||(r=n,n=p),!1===r&&(r=E),i.each((function(){u(this,e,r,n)})))},t.fn.trigger=function(e,n){return(e=m(e)||t.isPlainObject(e)?t.Event(e):l(e))._args=n,this.each((function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)}))},t.fn.triggerHandler=function(e,n){var i,a;return this.each((function(o,s){(i=d(m(e)?t.Event(e):e))._args=n,i.target=s,t.each(r(s,e.type||e),(function(e,t){if(a=t.proxy(i),i.isImmediatePropagationStopped())return!1}))})),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){m(e)||(e=(t=e).type);var n=document.createEvent(v[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),l(n)}}(t),function(){try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;e.getComputedStyle=function(e,n){try{return t(e,n)}catch(e){return null}}}}(),function(e){var t=e.zepto,n=t.qsa,r=/^\s*>/,i=":shadow",a="Zepto"+ +new Date,o=function(t,i){var o,s,c=i;try{c?r.test(c)&&(s=e(t).addClass(a),c="."+a+" "+c):c="*",o=n(t,c)}catch(e){throw e}finally{s&&s.removeClass(a)}return o};t.qsa=function(e,t){var n=t.split(i);if(n.length<2)return o(e,t);for(var r=e,a=0;a<n.length;a++){var s=n[a].trim();if(0===s.indexOf(">")){var c=":host ";(r instanceof Element||r instanceof HTMLDocument)&&(c=":scope "),s=c+s}var u=o(r,s);if(0===u.length||!u[0]||!u[0].shadowRoot)return u;r=u[0].shadowRoot}}}(t),t}(window),qg=Tg.MutationObserver||Tg.WebkitMutationObserver,Hg="Expected an array of promises";id.default._setImmediateFn&&at();var Yg=de(),Kg=/.*\.(\d+)_\d+/;Ct(Tg,kg);var Gg,Wg="at-library-loaded",zg="at-request-start",Qg="at-request-succeeded",Jg="at-request-failed",$g="at-content-rendering-start",Xg="at-content-rendering-succeeded",Zg="at-content-rendering-failed",em="at-content-rendering-no-offers",tm="at-content-rendering-redirect",nm=":eq(",rm=")",im=nm.length,am=/((\.|#)(-)?\d{1})/g,om="Unable to load target-vec.js",sm="Loading target-vec.js",cm="_AT",um="clickHandlerForExperienceEditor",lm="currentView",dm="at_qa_mode",pm="at_preview_token",hm="at_preview_index",fm="at_preview_listed_activities_only",gm="at_preview_evaluate_as_true_audience_ids",mm="at_preview_evaluate_as_false_audience_ids",_m="_",vm=function(e){return!p(e)},ym="at_preview_mode",bm="at_preview",Im="at-",Sm="at-body-style",Em="#"+Sm,km=Im+"views",Tm="Disabled due to optout",Am="MCAAMB",wm="MCAAMLH",Pm="MCMID",Cm="MCOPTOUT",Dm="getSupplementalDataID",Nm="getCustomerIDs",Mm=!0,Om="NS",xm="DS",Rm="trackingServer",Lm=Rm+"Secure",Vm="Visitor",jm="getInstance",Bm="isAllowed",Fm="Visitor API requests timed out",Um="Visitor API requests error",qm={},Hm="Data provider",Ym="timed out",Km=2e3,Gm="authorization",Wm="mboxDebugTools",zm=["architecture","bitness","model","platformVersion","fullVersionList"],Qm=xr(),Jm="profile.",$m="mbox3rdPartyId",Xm="at_property",Zm="orderId",e_="orderTotal",t_="productPurchasedId",n_="productId",r_="categoryId",i_="POST",a_="Network request failed",o_="Request timed out",s_="Malformed response JSON",c_="mboxedge",u_=".tt.omtrdc.net",l_=function(e){return!x(e)},d_=function(e){return function(t){return t[e]}},p_=function(e){return function(t){return!e(t)}},h_=p_(p),f_=p_(L),g_=function(e){return function(t){return b(e,t)}},m_=function(e){return e.status===Ah},__=function(e){return e.type===jh},v_=function(e){return e.type===fp},y_=g_(h_),b_=g_(f_),I_=d_(Hf),S_=d_(Gd),E_=d_(Kf),k_=d_(Bh),T_=function(e){return Id(e.name)},A_=function(e){return!p(e.index)},w_=function(e){return g(e)&&T_(e)},P_=function(e){return g(e)&&T_(e)&&A_(e)},C_=function(e){return g(e)&&T_(e)},D_=function(e){return Id(e.selector)},N_=d_(Fh),M_=E([N_,h_]),O_="adobe_mc_sdid",x_="Network request failed",R_="Request timed out",L_="URL is required",V_="GET",j_="POST",B_="method",F_="url",U_="headers",q_="data",H_="credentials",Y_="timeout",K_="async",G_=/CLKTRK#(\S+)/,W_=/CLKTRK#(\S+)\s/,z_=function(e){return!p(e)},Q_="visibilityState",J_="visible",$_=100,X_=Up+","+Hp+","+qp,Z_="at-action-key",ev="metric element not found",tv="navigator",nv="sendBeacon",rv="Beacon data sent",iv="Beacon data sent failed",av="View triggered notification",ov="View rendered notification",sv="Mboxes rendered notification",cv="Event handler notification",uv="Mbox event handler notification",lv="View event handler notification",dv="prefetchMboxes",pv="rendered",hv="triggered",fv={},gv="pageLoadMetrics",mv="prefetchMetrics",_v=d_(Yf),vv=function(){return Xi(Mh)},yv=function(e){return Zi(Mh,e)},bv=d_(Gd),Iv=d_(tp),Sv=function(e){return Xi(Nh,e)},Ev=function(e){return Zi(Nh,e)},kv=function(e){return p_(m_)(e)&&M_(e)},Tv={exports:{}};Kc.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},Tv.exports=Kc,Tv.exports.TinyEmitter=Kc;var Av=Tv.exports,wv=Gc(),Pv="Page load rendering failed",Cv="Mboxes rendering failed",Dv="View rendering failed",Nv="Prefetch rendering failed",Mv=function(e){return!x(b(m_,e))},Ov="[page-init]",xv="[getOffer()]",Rv="[getOffers()]",Lv="[applyOffer()]",Vv="[applyOffers()]",jv="[sendNotifications()]",Bv="[trackEvent()]",Fv="[triggerView()]",Uv=[],qv=0,Hv=1,Yv=qv;Ll();var Kv="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Gv="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Wv="mboxCreate() "+Kv,zv="mboxDefine() "+Kv,Qv="mboxUpdate() "+Kv,Jv=/^tgt:.+/i,$v=function(e){return Jv.test(e)},Xv=-1,Zv=10,ey="tgt:tlm",ty=ey+":lower",ny=ey+":upper",ry={init:Ql,initConfig:ve,initDelivery:Hu};e.exports=ry}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,n){"use strict";function r(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function i(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(r(i)){var a=i.checked,o=i.value;a&&""===o||(t[n]=o)}else t[n]=i})),t}function a(e){var t=i(e);u(l,t)}function o(e){var t=i(e);u(d,t)}function s(){return l}function c(){return d}var u=n("./object-override"),l={},d={};e.exports={mergeParams:a,mergePageLoadParams:o,getParams:s,getPageLoadParams:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,n,r){"use strict";var i=r.getExtensionSettings(),a=i.targetSettings||{};e.exports={extensionSettings:i,targetSettings:a}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,n,r){t[n]!==r&&(e[n]=t[n])}function n(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,r,i){Object.keys(r).filter(n,{subset:i}).forEach((function(n){t(e,r,n)}))}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.10.2"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/validation.js":{script:function(e){"use strict";function t(e){var t=Number(e);return Number.isNaN(t)?n:Math.min(r,Math.max(i,t))}var n=3e3,r=99999,i=0;e.exports={validTimeout:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,n){e.addEventListener(t,n)}function n(e,t,n){e.removeEventListener(t,n)}e.exports={addEventListener:t,removeEventListener:n}}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,n){"use strict";var r=n("../librarySettings"),i=n("@adobe/reactor-window"),a=n("./object-override"),o=n("./params-store"),s=o.getParams,c=o.getPageLoadParams,u=n("../targetSettings").targetSettings;e.exports=function(e){return u.mboxParams=s(),u.globalMboxParams=c(),a(u,e,["bodyHidingEnabled","bodyHiddenStyle"]),a(u,i.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),a(u,r.TARGET_DEFAULT_SETTINGS||{},["version"]),u}}}}},contentsquare:{displayName:"Contentsquare",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP9153a9d558af4429bdd4dd0ea3bf7148/",settings:{cvars:[{key:"Page Name",scope:"3",value:"%content: page name%"},{key:"Sub Section 1",scope:"3",value:"%content: sub section 1%"},{key:"Sub Section 2",scope:"3",value:"%content: sub section 2%"
}],project_id:"539f68f644bf5",pii_selector:"#Country,#State",pii_attribute_object:""},modules:{"contentsquare/src/lib/actions/uxaInstallation.js":{name:"uxa-installation",displayName:"Main Tracking Tag Installation",script:function(e,t,n,r){"use strict";e.exports=function(e){if(e&&r&&"function"==typeof r.getExtensionSettings){const t=r.getExtensionSettings(),n=t.project_id,i=t.pii_selector,a=t.pii_attribute_object,o=t.cvars;let s,c=[];const u=e.setPathInput,l=e.setQueryInput,d=(document.location.search,document.location.pathname),p=document.location.hash.replace("#","?__");window._uxa=window._uxa||[],s=""!=u?u+p:d+p;try{if(""!=o&&void 0!==o){let _=!0,v="";"object"==typeof o&&null===o[0]&&(_=!1);for(let y=0;y<o.length;y++){v=_?y+1:y;const b=o[y].key,I=o[y].value,S=o[y].scope;let E;""!==S&&void 0!==S||(E="3"),"4"!=S&&(E="4n"===S||"4an"===S?"4":S||"3",""!=b&&void 0!==b&&""!=I&&void 0!==I&&("0"===S?_uxa.push(["setCustomVariable",v,b,I]):_uxa.push(["setCustomVariable",v,b,I,parseInt(E)]))),"4"!==S&&"4an"!==S||(E="4",c.push({slot:v,key:b,value:I,scope:E}))}}let g=!1,m={};if(i&&(m.PIISelectors=[i],g=!0),a){let k=JSON.stringify(a.replaceAll("\n",""));k=k.replace(/\s/g,""),k=JSON.parse(k),k=JSON.parse(k),m.Attributes=k,g=!0}g&&_uxa.push(["setPIISelectors",m])}catch(T){}let h=!1;function f(){if(!h){h=!0;for(let e=0;e<c.length;e++){const t=c[e].slot,n=c[e].key,r=c[e].value,i=c[e].scope;""!=n&&void 0!==n&&""!=r&&void 0!==r&&_uxa.push(["setCustomVariable",t,n,r,parseInt(i)])}}}if(_uxa.push(["afterPageView",f]),l&&_uxa.push(["setQuery",l]),n)if("undefined"==typeof CS_CONF){_uxa.push(["setPath",s]);const A=document.createElement("script");A.type="text/javascript",A.async=!0,A.src="//t.contentsquare.net/uxa/"+n+".js",document.getElementsByTagName("head")[0].appendChild(A)}else _uxa.push(["trackPageview",s])}}}},"contentsquare/src/lib/actions/pageEvents.js":{name:"page-event",displayName:"Page Events",script:function(e){e.exports=function(e){function t(e){_uxa.push(["trackPageEvent",e])}if(window._uxa=window._uxa||[],e){var n=e.events;if(n)for(var r=0;r<n.length;r++)t(n[r].eventName)}}}}}},"google-universal-analytics":{displayName:"Google Universal Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPeeed8c20d16b41329538b94289163fac/",settings:{fields:{allowAnchor:!1},libraryCode:{type:"managed"},trackerName:{type:"default"},trackingIds:{production:"UA-4605772-1",development:"UA-4605772-1"},forceLowercase:!0,enableCrossDomainTracking:!0},modules:{"google-universal-analytics/src/lib/actions/sendEvent.js":{name:"send-event",displayName:"Send Event",script:function(e,t,n){"use strict";var r=n("../helpers/ga"),i=n("@adobe/reactor-object-assign");e.exports=function(e){var t=(e.parameters||[]).reduce((function(e,t){return e[t.name]=t.value,e}),{}),n=i({hitType:"event"},t,e.fields);r("send",n)}}},"google-universal-analytics/src/lib/helpers/ga.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-window"),a=n("./loadLibrary"),o=n("./createTracker"),s=r.getExtensionSettings(),c=function(){var e=function(){e.q.push(arguments)};return e.q=[],e.l=1*new Date,e},u=function(e){return null==e?e:Array.isArray(e)?e.map(u):"object"==typeof e?(Object.keys(e).forEach((function(t){e[t]=u(e[t])})),e):e.toLowerCase?e.toLowerCase():e},l=function(e){return"set"===e[0]?e.map((function(e,t){return t<1?e:u(e)})):"send"===e[0]?[e[0],u(e[1])]:e},d=function(e,t){var n=["send","set","require","linker:autoLink"],r=e[0];return-1!==n.indexOf(r)&&t&&(e[0]=t+"."+e[0]),e},p=function(e){var t=[];return e.forEach((function(e){t.push(JSON.stringify(e,(function(e,t){return"function"==typeof t?"function":t})))})),"Queue command: ga("+t.join(",")+")."},h=function(){var e=Array.prototype.slice.call(arguments),t=i[i.GoogleAnalyticsObject];s.forceLowerCase&&(e=l(e)),e=d(e,s.trackerName.value),r.logger.info(p(e)),t.apply(i,e)},f=function(){a(s).catch((function(e){r.logger.warn(e)})),o(h,s)};i.GoogleAnalyticsObject=i.GoogleAnalyticsObject||"ga",i[i.GoogleAnalyticsObject]=i[i.GoogleAnalyticsObject]||c(),f(),e.exports=h}},"google-universal-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise"),i=n("@adobe/reactor-load-script"),a=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-window"),s={MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote"},c=function(e){return"true"===a.get(e)};e.exports=function(e){var t="https://www.google-analytics.com/analytics.js";return e.libraryCode.type===s.PREINSTALLED?r.resolve("Not loading anything"):(e.libraryCode.type===s.REMOTE&&(t="https:"===o.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl),!e.trackingCookieName||c(e.trackingCookieName)?i(t):r.reject("EU compliance was not acknowledged by the user. The GUA library will not be loaded."))}}},"google-universal-analytics/src/lib/helpers/createTracker.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-object-assign"),a=n("@adobe/reactor-window"),o=function(e){var t=e.production;return e[r.buildInfo.environment]&&(t=e[r.buildInfo.environment]),t},s=function(e){return r.propertySettings.domains.filter((function(t){return e.slice(e.length-t.length).toLocaleLowerCase()!==t.toLowerCase()}))},c=function(e,t){t.initCommands&&e("set",t.initCommands)},u=function(e,t){e("create",t)},l=function(e,t){u(e,i({allowLinker:!0},t)),e("require","linker"),e("linker:autoLink",s(a.location.hostname),!1,!0)};e.exports=function(e,t){var n=t.trackerName.value,r=i({name:n,trackingId:o(t.trackingIds)},t.fields);r.name||delete r.name,t.enableCrossDomainTracking?l(e,r):u(e,r),c(e,t),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(a,e,n)}}}}},"bing-ads-extension":{displayName:"Bing Ads UET Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP05eac6e292f1486a812623da300a51b4/",settings:{qname:"uetq",tagid:"17486718",navTimingApi:!0,storeConvTrackCookies:!0},modules:{}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPe51f9b26f7c243dfa8d1d3ea2bf16f5f/",settings:{orgId:"39F6555A58A470C30A495EF7@AdobeOrg",customSetup:{source:function(e){function t(e){"author-prod.gigamon.com"==window.location.hostname&&(e.abort=!0),e.pageName&&(e.eVar1="D=pageName",e.eVar2="D=g",e.events=e.apl(e.events,"event1",",",2)),e.prop3=e.getPreviousValue(e.pageName,"gpv",""),e.prop3&&(e.eVar3="D=c3"),e.evar8=e.getValOnce(e.evar8,"s_evar8",0),e.campaign=e.getValOnce(e.campaign,"s_campaign",0,"m"),"d"==e.linkType&&(e.linkTrackVars="eVar11,events",e.linkTrackEvents="event11",e.eVar1=e.pageName,e.eVar11=e.linkURL,e.events="event11")}e.account,e.usePlugins=!0,e.doPlugins=t,e.getPreviousValue=function(e,t,n){var r,i,a=this,o=new Date,s="",c=1;if(t=t||"s_gpv",o.setTime(o.getTime()+18e5),n){c=0,r=n.split(","),i=a.events?a.events.split(","):"";for(var u=0,l=r.length;u<l;u++){for(var d=0,p=i.length;d<p;d++)if(r[u]==i[d]){c=1;break}if(1==c)break}}return 1==c&&(a.c_r(t)&&(s=a.c_r(t)),e?a.c_w(t,e,o):a.c_w(t,"no value",o)),s},e.apl=function(e,t,n,r){return n=n||",",this.inList(e,t,n,r)||(e=e?e+n+t:t),e},e.inList=function(e,t,n,r){if("string"!=typeof t)return!1;var i=Array();if("string"==typeof e)n=n||",",i=e.split(n);else{if("object"!=typeof e)return!1;i=e}for(var a=0,o=i.length;a<o;a++){if(void 0!==r&&1==r&&t==i[a])return!0;if(t.toLowerCase()==i[a].toLowerCase())return!0}return!1},e.inList=function(e,t,n,r){if("string"!=typeof t)return!1;var i=Array();if("string"==typeof e)n=n||",",i=e.split(n);else{if("object"!=typeof e)return!1;i=e}for(var a=0,o=i.length;a<o;a++){if(void 0!==r&&1==r&&t==i[a])return!0;if((!r||1!=r)&&t.toLowerCase()==i[a].toLowerCase())return!0}return!1},e.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v");var n,r,i=0;jQuery("iframe").each((function(){var e=jQuery(this).attr("src");e&&e.indexOf("youtube.com")>-1&&(e.indexOf("?")>-1?-1==e.indexOf("enablejsapi")&&(e+="&enablejsapi=1"):e+="?enablejsapi=1",jQuery(this).attr("src",e),jQuery(this).attr("id","player"+i),i++)}));try{(n=[],r=0,function(e,t){0===r&&window.addEventListener("message",(function(e){if("https://www.youtube.com"===e.origin&&void 0!==e.data)try{var t=JSON.parse(e.data);if("onStateChange"!==t.event)return;(0,n[t.id])(t)}catch(e){}})),r++,n[r]=t;var i=r;e.addEventListener("load",(function(){var t=JSON.stringify({event:"listening",id:i,channel:"channelnameofyourchoice"});e.contentWindow.postMessage(t,"https://www.youtube.com"),t=JSON.stringify({event:"command",func:"addEventListener",args:["onStateChange"],id:i,channel:"channelnameofyourchoice"}),e.contentWindow.postMessage(t,"https://www.youtube.com")}))})(document.getElementById("player0"),(function(e){switch(console.log(e),e.info){case 1:_satellite.track("video_start");break;case 0:_satellite.track("video_end");break;case 2:_satellite.track("video_pause")}}))}catch(e){console.log("Video Tracking Not Present")}!function(){function t(){i||(i=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics - v"+r)))}function n(t){if(t)a=t;else{a=Math.random()+"_"+Date.now();var n=function(){for(var e=0,t=document.domain,n=t.split("."),r="_cs_tld"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(r+"="+r);)t=n.slice(-1-++e).join("."),document.cookie=r+"="+r+";domain="+t+";SameSite=None;Secure";return document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}(),r=new Date,i=r.getTime();i+=18e5,r.setTime(i),document.cookie=o+"="+a+"; expires="+r.toUTCString()+";path=/;domain="+n+";SameSite=None;Secure"}e.eVar33=a,_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:a}])}var r="1.9.0",i=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",t]);var a=null,o="_cs_mk_aa",s="; "+document.cookie;if(s){var c=s.split("; "+o+"=");1==c.length?n():n(c[1].split(";")[0])}}()}},libraryCode:{type:"managed",accounts:{staging:["gigaem.esntls.staging"],production:["gigaem.esntls"],development:["gigaem.esntls.staging"]},useActivityMap:!0,scopeTrackerGlobally:!0},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%content: page name%"},{name:"eVar2",type:"value",value:"%page URL%"}],charSet:"UTF-8",currencyCode:"USD",trackingServer:"gigamon.sc.omtrdc.net",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!0,linkExternalFilters:[],linkInternalFilters:["gigamon.com","javascript:","mailto:","tel:","gigamon-stage6.adobemsbasic.com"],trackingServerSecure:"gigamon.sc.omtrdc.net",linkDownloadFileTypes:["avi","css","csv","doc","docx","eps","exe","jpg","js","m4v","mov","mp3","pdf","png","ppt","pptx","rar","svg","tab","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip"]}},modules:{"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,n,r){"use strict";var i=n("../sharedModules/getTracker");e.exports=function(){return i().then((function(e){e.clearVars&&(r.logger.info("Clear variables."),e.clearVars())}),(function(e){r.logger.error("Cannot clear variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,n,r){"use strict";var i=n("../sharedModules/getTracker"),a=n("../helpers/getNodeLinkText"),o=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},s=function(e){return o(e)?a(e):"link clicked"},c=function(e,t,n){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var i={linkType:t.linkType||"o",linkName:t.linkName||s(n)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(i)+"."),e.tl(o(n)?n:"true",i.linkType,i.linkName)}};e.exports=function(e,t){return i().then((function(n){c(n,e,t.element)}),(function(e){r.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,n,r){"use strict";var i=n("../sharedModules/getTracker"),a=n("../helpers/applyTrackerVariables");e.exports=function(e,t){return i().then((function(n){r.logger.info("Set variables on the tracker."),a(n,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,n)}),(function(e){r.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,n,r){"use strict";var i,a=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-promise"),s=n("@adobe/reactor-window"),c=n("../helpers/settingsHelper"),u=n("../helpers/augmenters"),l=n("../helpers/applyTrackerVariables"),d=n("../helpers/loadLibrary"),p=n("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),h="beforeSettings",f=r.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===a.get(e)},m=function(e){return o.all(u.map((function(t){var n;try{n=t(e)}catch(e){setTimeout((function(){throw e}))}return o.resolve(n)}))).then((function(){return e}))},_=function(e){return f&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=f),e},v=function(e){return r.logger.info('Setting version on tracker: "'+p+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=p:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+p&&(e.version+="-"+p),e},y=function(e,t,n){return t.loadPhase===h&&t.source&&(r.logger.info("Calling custom script before settings."),t.source.call(s,n)),l(n,e||{}),t.loadPhase!==h&&t.source&&(r.logger.info("Calling custom script after settings."),t.source.call(s,n)),n},b=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},I=(i=r.getExtensionSettings(),g(i.trackingCookieName)?d(i).then(m).then(_).then(v).then(y.bind(null,i.trackerProperties,i.customSetup||{})).then(b.bind(null,i)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return I}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,n){"use strict";var r=n("../helpers/augmenters");e.exports=function(e){r.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-window"),a={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[r.environment.stage]&&(t=e[r.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&i&&i._satellite&&i._satellite.company&&i._satellite.company.orgId&&(t=!0),t}};e.exports=a}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-query-string"),a=n("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),u=function(e,t,n){return n.indexOf(e)===t},l=function(e,t,n){var r=Object.keys(t).filter(c.test.bind(c));return n&&r.push("events"),(r=r.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&u(e,t,r)})).join(",")},d=function(e,t){var n=t.map((function(e){return e.name}));return(n=n.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&u(e,t,n)})).join(",")},p=function(e,t,n){e[t]=n[t].join(",")},h=function(e,t,n){var r=n.dynamicVariablePrefix||"D=";n[t].forEach((function(t){var n;if("value"===t.type)n=t.value;else{var i=o.exec(t.value);if(i)n=r+"v"+i[1];else{var a=s.exec(t.value);a&&(n=r+"c"+a[1])}}e[t.name]=n}))},f={linkDownloadFileTypes:p,linkExternalFilters:p,linkInternalFilters:p,hierarchies:function(e,t,n){n[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:h,eVars:h,campaign:function(e,t,n){if("queryParam"===n[t].type){var r=i.parse(a.location.search);e[t]=r[n[t].value]}else e[t]=n[t].value},events:function(e,t,n){var r=n[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=r.join(",")}};e.exports=function(e,t){var n={};t=t||{},Object.keys(t).forEach((function(e){var r=f[e],i=t[e];r?r(n,e,t):n[e]=i})),n.events&&e.events&&e.events.length>0&&(n.events=e.events+","+n.events);var i=t&&t.events&&t.events.length>0,a=l(e,n,i);a&&(n.linkTrackVars=a);var o=d(e,t.events||[]);o&&(n.linkTrackEvents=o),r.logger.info('Applying the following properties on tracker: "'+JSON.stringify(n)+'".'),Object.keys(n).forEach((function(t){e[t]=n[t]}))}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-load-script"),a=n("@adobe/reactor-window"),o=n("@adobe/reactor-promise"),s=n("./settingsHelper"),c=n("./pollHelper"),u=function(e,t){if(!a.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+a.AppMeasurement);r.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var n=a.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(r.logger.info("Setting the tracker as window.s"),a.s=n),n},l=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===a.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var n={namespace:a._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=n,t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},d=function(e){return o.all(l(e).map((function(e){return r.logger.info("Loading script: "+e),i(e)})))},p=function(e,t){if(e.libraryCode.accounts)if(t.sa){var n=s.getReportSuites(e.libraryCode.accounts);r.logger.info('Setting the following report suites on the tracker: "'+n+'"'),t.sa(n)}else r.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},h=function(e){if(a[e])return r.logger.info('Found tracker located at: "'+e+'".'),a[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=d(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var n=s.getReportSuites(e.libraryCode.accounts);return t.then(u.bind(null,e,n));case s.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,a,e.libraryCode.trackerVariableName)).then(p.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(h.bind(null,e.libraryCode.trackerVariableName)).then(p.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,n=function(e){return e.getUTCDate().toString(36)},r=function(e){return e.substr(e.length-1)},i=function(e){return Math.floor(e.getUTCHours()/t)},a=function(e){var t=(e.getUTCMonth()+1+12*i(e)).toString(36);return r(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+a(t)+n(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-promise"),a=40,o=250,s=function(e,t,n){r.logger.info('Found property located at: "'+t+'"].'),e(n)},c=function(e,t){return new i((function(n,r){if(e[t])return s(n,t,e[t]);var i=1,c=setInterval((function(){e[t]&&(s(n,t,e[t]),clearInterval(c)),i>=a&&(clearInterval(c),r(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),i++}),o)}))};e.exports={poll:function(e,t){return r.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}},"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:function(e){"use strict";var t=function(e){return e&&e.replace(/\s+/g," ").trim()},n=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,r=function(e){return!(e&&e.nodeName&&e.nodeName.match(n))},i=function(e){var t=[],n=!1;return r(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var r=i(e);t=t.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},a=function(e,t,n){var r;return n&&n!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r};e.exports=function(e){var n=t(e.innerText||e.textContent),r=i(e);if(!n||r.includesUnsupportedNodes){var o,s,c,u,l=[];r.supportedNodes.forEach((function(e){e.getAttribute&&(o=o||t(e.getAttribute("alt")),s=s||t(e.getAttribute("title")),c=c||t(a(e,"value","INPUT")),u=u||t(a(e,"src","IMG"))),e.nodeValue&&l.push(e.nodeValue)})),(n=t(l.join("")))||(n=t(o||s||c||u||""))}return n}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP31a59fd25d824db7be52972a70e94c1c/",settings:{orgId:"39F6555A58A470C30A495EF7@AdobeOrg",variables:[{name:"trackingServer",value:"gigamon.sc.omtrdc.net"},{name:"trackingServerSecure",value:"gigamon.sc.omtrdc.net"}],doesOptInApply:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-document"),a=n("../codeLibrary/VisitorAPI"),o=n("../../view/utils/timeUnits"),s=function(e){return e.reduce((function(e,t){var n=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=n,e}),{})},c=function(e){var t=r.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var n=s(t.variables||[]),i=t.doesOptInApply;i&&("boolean"==typeof i?n.doesOptInApply=i:t.optInCallback&&(n.doesOptInApply=t.optInCallback));var a=t.isOptInStorageEnabled;a&&(n.isOptInStorageEnabled=a);var c=t.optInCookieDomain;c&&(n.optInCookieDomain=c);var u=t.optInStorageExpiry;if(u){var l=t.timeUnit;if(l&&o[l]){var d=u*o[l];n.optInStorageExpiry=d}}else!0===a&&(n.optInStorageExpiry=33696e3);var p=t.previousPermissions;p&&(n.previousPermissions=p);var h=t.preOptInApprovals;if(h)n.preOptInApprovals=h;else{var f=t.preOptInApprovalInput;f&&(n.preOptInApprovals=f)}var g=t.isIabContext;g&&(n.isIabContext=g);var m=e.getInstance(t.orgId,n);return r.logger.info('Created instance using orgId: "'+t.orgId+'"'),r.logger.info("Set variables: "+JSON.stringify(n)),m.getMarketingCloudVisitorID((function(e){r.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),m},u=function(e){return(r.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},l=null;_satellite.getVisitorId=function(){return l},u(i.location.pathname)?r.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):l=c(a),e.exports=l},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,r=this;return function(){r.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!D.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function r(e,t,n){var r=null==e?void 0:e[t];return void 0===r?n:r}function i(e){for(var t=/^\d+$/,n=0,r=e.length;n<r;n++)if(!t.test(e[n]))return!1;return!0}function a(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(r>i)return 1;if(i>r)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),r=t.toString().split(".");return i(n.concat(r))?(a(n,r),o(n,r)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function u(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=le("log",e,t),this.warn=le("warn",e,t),this.error=le("error",e,t)}function d(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:Te,set:Te,remove:Te};var n={remove:function(){t.remove(e)},get:function(){var n=t.get(e),r={};try{r=JSON.parse(n)}catch(n){r={}}return r},set:function(r,i){i=i||{};var a=n.get(),o=Object.assign(a,r);t.set(e,JSON.stringify(o),{domain:i.optInCookieDomain||"",cookieLifetime:i.optInStorageExpiry||3419e4,secure:i.secure,sameSite:i.sameSite,expires:!0})}};return n}function p(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function h(){function e(e,t){var n=ge(e);return n.length?n.every((function(e){return!!t[e]})):me(t)}function t(){P(A),w(te.COMPLETE),v(_.status,_.permissions),s&&m.set(_.permissions,{optInCookieDomain:c,optInStorageExpiry:u,secure:p,sameSite:h}),y.execute(Ne)}function n(e){return function(n,r){if(!_e(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return w(te.CHANGED),Object.assign(A,ve(ge(n),e)),r||t(),_}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.doesOptInApply,a=r.previousPermissions,o=r.preOptInApprovals,s=r.isOptInStorageEnabled,c=r.optInCookieDomain,u=r.optInStorageExpiry,l=r.isIabContext,p=r.secureCookie,h=r.sameSiteCookie,f=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,g=Ae(a);we(g,"Invalid `previousPermissions`!"),we(o,"Invalid `preOptInApprovals`!");var m=d({cookieName:"adobeujs-optin"},{cookies:f}),_=this,v=ee(_),y=se(),b=Ie(g),I=Ie(o),S=s?m.get():{},E={},k=function(e,t){return Se(e)||t&&Se(t)?te.COMPLETE:te.PENDING}(b,S),T=function(e,t,n){var r=ve(oe,!i);return i?Object.assign({},r,e,t,n):r}(I,b,S),A=ye(T),w=function(e){return k=e},P=function(e){return T=e};_.deny=n(!1),_.approve=n(!0),_.denyAll=_.deny.bind(_,oe),_.approveAll=_.approve.bind(_,oe),_.isApproved=function(t){return e(t,_.permissions)},_.isPreApproved=function(t){return e(t,I)},_.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?_.on(te.COMPLETE,e):Te;return!i||i&&_.isComplete||o?e(_.permissions):t||y.add(Ne,(function(){return e(_.permissions)})),n},_.complete=function(){_.status===te.CHANGED&&t()},_.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Me);E[e.name]||(E[e.name]=e,e.onRegister.call(e,_))},_.execute=De(E),_.memoizeContent=function(e){ke(e)&&m.set(e,{optInCookieDomain:c,optInStorageExpiry:u,secure:p,sameSite:h})},_.getMemoizedContent=function(e){var t=m.get();if(t)return t[e]},Object.defineProperties(_,{permissions:{get:function(){return T}},status:{get:function(){return k}},Categories:{get:function(){return ne}},doesOptInApply:{get:function(){return!!i}},isPending:{get:function(){return _.status===te.PENDING}},isComplete:{get:function(){return _.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(E)}},isIabContext:{get:function(){return l}}})}function f(e,t){function n(){i=null,e.call(e,new p("The call took longer than you wanted!"))}function r(){i&&(clearTimeout(i),e.apply(e,arguments))}if(void 0===t)return e;var i=setTimeout(n,t);return r}function g(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var n={};return window.__tcfapi=function(e,r,i,a){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:a,version:r,callId:o}};n[o]=i,t.postMessage(s,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var r=t.__tcfapiReturn;"function"==typeof n[r.callId]&&(n[r.callId](r.returnValue,r.success),delete n[r.callId])}}),!1),window.__tcfapi}he.error("__tcfapi not found")}else he.error("__tcfapi not found")}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0===e.vendor.consents[t],i=n.every((function(t){return!0===e.purpose.consents[t]}));return r&&i}function _(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,n=se(),r={transparencyAndConsentData:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r[e]=t};e.fetchConsentData=function(e){var t=f(e.callback,e.timeout);a({callback:t})},e.isApproved=function(e){var t=e.callback,n=e.category,i=e.timeout;if(r.transparencyAndConsentData)return t(null,m(r.transparencyAndConsentData,re[n],ie[n]));var o=f((function(e,r){t(e,m(r,re[n],ie[n]))}),i);a({category:n,callback:o})},e.onRegister=function(n){t=n;var r=Object.keys(re),i=function(e,t){!e&&t&&(r.forEach((function(e){var r=m(t,re[e],ie[e]);n[r?"approve":"deny"](e,!0)})),n.complete())};e.fetchConsentData({callback:i})};var a=function(e){var a=e.callback;if(r.transparencyAndConsentData)return a(null,r.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",a),o((function(e,a){if(a){var o=ye(e),s=t.getMemoizedContent("iabConsentHash"),c=pe(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==c,i("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:c})}n.execute("FETCH_CONSENT_DATA",[null,r.transparencyAndConsentData])}))},o=function(e){var t=Ce(re),n=g();"function"==typeof n&&n("getTCData",2,e,t)}}var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,r=1;r<arguments.length;++r)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var y,b,I={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},S=I.STATE_KEYS_MAP,E=function(e){function t(){}function n(t,n){var r=this;return function(){var i=e(0,t),a={};return a[t]=i,r.setStateAndPublish(a),n(i),i}}this.getMarketingCloudVisitorID=function(e){e=e||t;var r=this.findField(S.MCMID,e),i=n.call(this,S.MCMID,e);return void 0!==r?r:i()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},k=I.MESSAGES,T=I.ASYNC_API_MAP,A=I.SYNC_API_MAP,w=function(){function e(){}function t(e,t){var n=this;return function(){
return n.callbackRegistry.add(e,t),n.messageParent(k.GETSTATE),""}}function n(n){this[T[n]]=function(r){r=r||e;var i=this.findField(n,r),a=t.call(this,n,r);return void 0!==i?i:a()}}function r(t){this[A[t]]=function(){return this.findField(t,e)||{}}}Object.keys(T).forEach(n,this),Object.keys(A).forEach(r,this)},P=I.ASYNC_API_MAP,C=function(){Object.keys(P).forEach((function(e){this[P[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},D=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)};var r=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};n.getIeVersion=function(){return document.documentMode?document.documentMode:r()?7:null},n.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var r=parseInt(e.d_ottl,10);return isNaN(r)&&(r=7200),{optOut:t,d_ottl:r}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),N=(D.isObjectEmpty,D.isValueEmpty,D.getIeVersion,D.isFirefox,D.encodeAndBuildRequest,D.isObject,D.defineGlobalNamespace,D.pluck,D.parseOptOut,D.normalizeBoolean,n),M=I.MESSAGES,O={0:"prefix",1:"orgID",2:"state"},x=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,n){void 0!==e&&(t[O[n]]=2!==n?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(n){var r=this.parse(n);if(!r||Object.keys(r).length<2)return!0;var i=e!==r.orgID,a=!t||n.origin!==t,o=-1===Object.keys(M).indexOf(r.prefix);return i||a||o},this.send=function(n,r,i){var a=r+"|"+e;i&&i===Object(i)&&(a+="|"+JSON.stringify(i));try{n.postMessage(a,t)}catch(e){}}},R=I.MESSAGES,L=function(e,t,n,r){function i(e){Object.assign(h,e)}function a(e){Object.assign(h.state,e),Object.assign(h.state.ALLFIELDS,e),h.callbackRegistry.executeAll(h.state)}function o(e){if(!m.isInvalid(e)){g=!1;var t=m.parse(e);h.setStateAndPublish(t.state)}}function s(e){!g&&f&&(g=!0,m.send(r,e))}function c(){i(new E(n._generateID)),h.getMarketingCloudVisitorID(),h.callbackRegistry.executeAll(h.state,!0),v.removeEventListener("message",u)}function u(e){if(!m.isInvalid(e)){var t=m.parse(e);g=!1,v.clearTimeout(h._handshakeTimeout),v.removeEventListener("message",u),i(new w(h)),v.addEventListener("message",o),h.setStateAndPublish(t.state),h.callbackRegistry.hasCallbacks()&&s(R.GETSTATE)}}function l(){f&&postMessage?(v.addEventListener("message",u),s(R.HANDSHAKE),h._handshakeTimeout=setTimeout(c,250)):c()}function d(){v.s_c_in||(v.s_c_il=[],v.s_c_in=0),h._c="Visitor",h._il=v.s_c_il,h._in=v.s_c_in,h._il[h._in]=h,v.s_c_in++}function p(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(h[e]=function(){})}Object.keys(n).forEach(e),h.getSupplementalDataID=n.getSupplementalDataID,h.isAllowed=function(){return!0}}var h=this,f=t.whitelistParentDomain;h.state={ALLFIELDS:{}},h.version=n.version,h.marketingCloudOrgID=e,h.cookieDomain=n.cookieDomain||"",h._instanceType="child";var g=!1,m=new x(e,f);h.callbackRegistry=N(),h.init=function(){d(),p(),i(new C(h)),l()},h.findField=function(e,t){if(void 0!==h.state[e])return t(h.state[e]),h.state[e]},h.messageParent=s,h.setStateAndPublish=a},V=I.MESSAGES,j=I.ALL_APIS,B=I.ASYNC_API_MAP,F=I.FIELDGROUP_TO_FIELD,U=function(e,t){function n(){var t={};return Object.keys(j).forEach((function(n){var r=j[n],i=e[r]();D.isValueEmpty(i)||(t[n]=i)})),t}function r(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(n){if(e._loading[n]){var r=F[n];t.push(r)}})),t.length?t:null}function i(t){return function n(){var i=r();if(i){var a=B[i[0]];e[a](n,!0)}else t()}}function a(e,r){var i=n();t.send(e,r,i)}function o(e){c(e),a(e,V.HANDSHAKE)}function s(e){i((function(){a(e,V.PARENTSTATE)}))()}function c(n){function r(r){i.call(e,r),t.send(n,V.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var i=e.setCustomerIDs;e.setCustomerIDs=r}return function(e){t.isInvalid(e)||(t.parse(e).prefix===V.HANDSHAKE?o:s)(e.source)}},q=function(e,t){function n(e){return function(n){r[e]=n,++i===a&&t(r)}}var r={},i=0,a=Object.keys(e).length;Object.keys(e).forEach((function(t){var r=e[t];if(r.fn){var i=r.args||[];i.unshift(n(t)),r.fn.apply(r.context||null,i)}}))},H={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),r=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,r<0?t.length:r))},set:function(e,t,n){var i=r(n,"cookieLifetime"),a=r(n,"expires"),o=r(n,"domain"),s=r(n,"secure"),c=r(n,"sameSite"),u=s?"Secure":"",l=c?"SameSite="+c+";":"";if(a&&"SESSION"!==i&&"NONE"!==i){var d=""!==t?parseInt(i||0,10):-60;if(d)(a=new Date).setTime(a.getTime()+1e3*d);else if(1===a){var p=(a=new Date).getYear();a.setYear(p+2+(p<1900?1900:0))}}else a=0;return e&&"NONE"!==i?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(a?" expires="+a.toGMTString()+";":"")+(o?" domain="+o+";":"")+l+u,this.get(e)===t):0},remove:function(e,t){var n=r(t,"domain");n=n?" domain="+n+";":"";var i=r(t,"secure"),a=r(t,"sameSite"),o=i?"Secure":"",s=a?"SameSite="+a+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n+s+o}},Y=function(e,t){!e&&v.location&&(e=v.location.hostname);var n,r=e.split("."),i=t||{};for(n=r.length-2;n>=0;n--)if(i.domain=r.slice(n).join("."),H.set("TEST_AMCV_COOKIE_WRITE","cookie",i))return H.remove("TEST_AMCV_COOKIE_WRITE",i),i.domain;return""},K={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},G=!!v.postMessage,W={postMessage:function(e,t,n){var r=1;t&&(G?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},receiveMessage:function(e,t){var n;try{G&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),v.addEventListener?v[e?"addEventListener":"removeEventListener"]("message",n):v[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},z=function(e){var t,n,r="0123456789",i="",a="",o=8,s=10,c=10,u=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(r+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),4>t&&u[t]<o&&(n=+u[t]),i+=r.substring(n,n+1),n=Math.floor(Math.random()*o),a+=r.substring(n,n+1),o=16;return i+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),6>t&&u[t]<s?(i+=u[t],n=u[t]):i+=r.substring(n,n+1),0===t&&9==n?s=3:((1==t||2==t)&&10!=s&&2>n||2<t)&&(s=10),n=Math.floor(Math.random()*c),a+=r.substring(n,n+1),0===t&&9==n?c=3:((1==t||2==t)&&10!=c&&2>n||2<t)&&(c=10);return i+a},Q=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(v.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new v[this.corsMetadata.corsType]},fireCORS:function(t,n){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void i.handleCORSError(t,null,"Response is not JSON")}catch(e){return void i.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var r=t.callback,a=v,o=0;o<r.length;o++)a=a[r[o]];a(n)}catch(e){i.handleCORSError(t,e,"Error forming callback function")}}var i=this;n&&(t.loadErrorHandler=n);try{var a=this.getCORSInstance();a.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=e.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),a.onerror=function(e){i.handleCORSError(t,e,"onerror")},a.ontimeout=function(e){i.handleCORSError(t,e,"ontimeout")},a.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,r){e.CORSErrors.push({corsData:t,error:n,description:r}),t.loadErrorHandler&&("ontimeout"===r?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},J={POST_MESSAGE_ENABLED:!!v.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},$=function(e,t){var n=v.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,r="http://fast.",i="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(r=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=r+this.subdomain+".demdex.net/dest5.html"+i,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:J.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(i=n.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=r.id,i.name=r.id+"_name",i.style.cssText="display: none; width: 0; height: 0;",i.src=r.url,r.newIframeCreated=!0,t(),n.body.appendChild(i)}function t(e){i.addEventListener("load",(function(){i.className="aamIframeLoaded",r.iframeHasLoaded=!0,r.fireIframeLoadedCallbacks(e),r.requestToProcess()}))}this.startedAttachingIframe=!0;var r=this,i=n.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==i.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=i,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=i},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){i.jsonForComparison.push(t),i.jsonWaiting.push(t),i.processSyncOnPage(t)}var r,i=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,c=!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],r===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!J.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){i.messageSendingInterval=J.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var r=e._getField("MCAAMLH"),i=t.d_region||t.dcs_region;return r?i&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i),parseInt(r,10)!==i&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),r=i)):(r=i)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r)),r||(r=""),r},processSyncOnPage:function(e){var t,n,r,i;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(r=0;r<n;r++)(i=t[r]).syncOnPage&&this.checkFirstPartyCookie(i,"","syncOnPage")},process:function(e){var t,n,r,i,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,r=0;r<n;r++)i=t[r],a=[o("ibs"),o(i.id||""),o(i.tag||""),D.encodeAndBuildRequest(i.url||[],","),o(i.ttl||""),"","",i.fireURLSync?"true":"false"],i.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):i.fireURLSync&&this.checkFirstPartyCookie(i,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,r){var i="syncOnPage"===r,a=i?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,c=e._getField(a),u=!1,l=!1,d=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);c?(o=c.split("*"),u=(s=this.pruneSyncData(o,t.id,d)).dataPresent,l=s.dataValid,u&&l||this.fireSync(i,t,n,o,a,d)):(o=[],this.fireSync(i,t,n,o,a,d))},pruneSyncData:function(e,t,n){var r,i,a,o=!1,s=!1;for(i=0;i<e.length;i++)r=e[i],a=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(i,1),i--)):n>=a&&(e.splice(i,1),i--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,r,i,a,o){var s=this;if(t){if("img"===n.tag){var c,u,l,d,p=n.url,h=e.loadSSL?"https:":"http:";for(c=0,u=p.length;c<u;c++){l=p[c],d=/^\/\//.test(l);var f=new Image;f.addEventListener("load",function(t,n,r,i){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,c,u,l,d=e._getField(a),p=[];if(d)for(c=0,u=(o=d.split("*")).length;c<u;c++)(l=o[c]).match("^"+n.id+"-")||p.push(l);s.setSyncTrackingData(p,n,r,i)}}(this.onPagePixels.length,n,a,o)),f.src=(d?h:"")+l,this.onPagePixels.push(f)}}}else this.addMessage(r),this.setSyncTrackingData(i,n,a,o)},addMessage:function(t){var n=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((J.POST_MESSAGE_ENABLED?"":n)+t)},setSyncTrackingData:function(t,n,r,i){t.push(n.id+"-"+(i+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(r,t.join("*"))},sendMessages:function(){var e,t=this,n="",r=encodeURIComponent;this.regionChanged&&(n=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?J.POST_MESSAGE_ENABLED?(e=n+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){W.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(r){(null==this.url||r.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=r.subdomain||"",this.url=this.getUrl()),r.ibs instanceof Array&&r.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(r):this.requestToProcess(r),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(r)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>J.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},Z={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e,t){return X[e]&&"boolean"===X[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,n,r){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var i=t[e].push({callback:n,context:r})-1;return function(){t[e].splice(i,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==n)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,n)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ne={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},re=(t(y={},ne.AAM,565),t(y,ne.ECID,565),y),ie=(t(b={},ne.AAM,[1,10]),t(b,ne.ECID,[1,10]),b),ae=["videoaa","iabConsentHash"],oe=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ne),se=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!u(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var r=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(r,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=(n=void 0===n?[]:n)instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var r=e.callbacks[t].shift();"function"==typeof r?r.apply(null,n):r instanceof Array&&r[1].apply(r[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(n){var r=void 0!==t[n]?t[n]:"";e.execute(n,r)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},ue=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},le=function(e,t,n){return n()?function(){if(ue(e)){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];console[e].apply(console,[t].concat(r))}}:ce},de=l,pe=function(){for(var e=[],t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var r=0;r<t.length;r++){var i=255&(n^t.charCodeAt(r));n=n>>>8^e[i]}return(n^=-1)>>>0}}(),he=new de("[ADOBE OPT-IN]"),fe=function(t,n){return e(t)===n},ge=function(e,t){return e instanceof Array?e:fe(e,"string")?[e]:t||[]},me=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||be(e))&&ge(e).every((function(e){return oe.indexOf(e)>-1||t&&ae.indexOf(e)>-1}))},ve=function(e,t){return e.reduce((function(e,n){return e[n]=t,e}),{})},ye=function(e){return JSON.parse(JSON.stringify(e))},be=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Ie=function(e){if(ke(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Se=function(e){return void 0===e||(ke(e)?_e(Object.keys(e),!0):Ee(e))},Ee=function(e){try{var t=JSON.parse(e);return!!e&&fe(e,"string")&&_e(Object.keys(t),!0)}catch(e){return!1}},ke=function(e){return null!==e&&fe(e,"object")&&!1===Array.isArray(e)},Te=function(){},Ae=function(e){return fe(e,"function")?e():e},we=function(e,t){Se(e)||he.error("".concat(t))},Pe=function(e){return Object.keys(e).map((function(t){return e[t]}))},Ce=function(e){return Pe(e).filter((function(e,t,n){return n.indexOf(e)===t}))},De=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,r=t.params,i=void 0===r?{}:r,a=t.callback,o=void 0===a?Te:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=e[s[0]],u=s[1];if(!c||"function"!=typeof c[u])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(i,{callback:o});c[u].call(c,l)}catch(e){he.error("[execute] Something went wrong: "+e.message)}}};p.prototype=Object.create(Error.prototype),p.prototype.constructor=p;var Ne="fetchPermissions",Me="[OptIn#registerPlugin] Plugin is invalid.";h.Categories=ne,h.TimeoutError=p;var Oe=Object.freeze({OptIn:h,IabPlugin:_}),xe=function(e,t){e.publishDestinations=function(n){var r=arguments[1],i=arguments[2];try{i="function"==typeof i?i:n.callback}catch(e){i=function(){}}var a=t;if(a.readyToAttachIframePreliminary()){if("string"==typeof n){if(!n.length)return void i({error:"subdomain is not a populated string."});if(!(r instanceof Array&&r.length))return void i({error:"messages is not a populated array."});var o=!1;if(r.forEach((function(e){"string"==typeof e&&e.length&&(a.addMessage(e),o=!0)})),!o)return void i({error:"None of the messages are populated strings."})}else{if(!D.isObject(n))return void i({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void i({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void i({error:"config.urlDestinations is not a populated array."});var u=[];c.forEach((function(e){D.isObject(e)&&(e.hideReferrer?e.message&&a.addMessage(e.message):u.push(e))})),function e(){u.length&&setTimeout((function(){var t=new Image,n=u.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()}),100)}()}a.iframe?(i({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push((function(e){i({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),a.attachIframe()):i({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push((function(e){i({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else i({error:"The destination publishing iframe is disabled in the Visitor library."})}},Re=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r,i,a=Math.pow,o=a(2,32),s="",c=[],u=8*t.length,l=e.h=e.h||[],d=e.k=e.k||[],p=d.length,h={},f=2;p<64;f++)if(!h[f]){for(r=0;r<313;r+=f)h[r]=f;l[p]=a(f,.5)*o|0,d[p++]=a(f,1/3)*o|0}for(t+="\x80";t.length%64-56;)t+="\0";for(r=0;r<t.length;r++){if((i=t.charCodeAt(r))>>8)return;c[r>>2]|=i<<(3-r)%4*8}for(c[c.length]=u/o|0,c[c.length]=u,i=0;i<c.length;){var g=c.slice(i,i+=16),m=l;for(l=l.slice(0,8),r=0;r<64;r++){var _=g[r-15],v=g[r-2],y=l[0],b=l[4],I=l[7]+(n(b,6)^n(b,11)^n(b,25))+(b&l[5]^~b&l[6])+d[r]+(g[r]=r<16?g[r]:g[r-16]+(n(_,7)^n(_,18)^_>>>3)+g[r-7]+(n(v,17)^n(v,19)^v>>>10)|0);(l=[I+((n(y,2)^n(y,13)^n(y,22))+(y&l[1]^y&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+I|0}for(r=0;r<8;r++)l[r]=l[r]+m[r]|0}for(r=0;r<8;r++)for(i=3;i+1;i--){var S=l[r]>>8*i&255;s+=(S<16?0:"")+S.toString(16)}return s},Le=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Re(e)),e},Ve=function(e){return String(e).trim().toLowerCase()},je=Oe.OptIn;D.defineGlobalNamespace(),window.adobe.OptInCategories=je.Categories;var Be=function(t,n,r){function i(){y._customerIDsHashChanged=!1}function a(e){var t=e;return function(e){var n=e||A.location.href;try{var r=y._extractParamFromUri(n,t);if(r)return te.parsePipeDelimetedKeyValues(r)}catch(e){}}}function o(e){function t(e,t,n){e&&e.match(J.VALID_VISITOR_ID_REGEX)&&(n===M&&(T=!0),t(e))}t(e[M],y.setMarketingCloudVisitorID,M),y._setFieldExpire(j,-1),t(e[L],y.setAnalyticsVisitorID)}function s(e){e=e||{},y._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",y._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},y._supplementalDataIDLast=e.supplementalDataIDLast||"",y._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}function n(e,n){var r=n[0],i=n[1];return null!=i&&i!==B&&(e=t(r,i,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(n,""))}function u(e){var t=e.minutesToLive,n="";return(y.idSyncDisableSyncs||y.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function l(){return!(!y.configs.doesOptInApply||b.optIn.isComplete&&d())}function d(){return y.configs.doesOptInApply&&y.configs.isIabContext?b.optIn.isApproved(b.optIn.Categories.ECID)&&k:b.optIn.isApproved(b.optIn.Categories.ECID)}function p(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],n=2===e.length?e[1]:"",r=y[t];y[t]=function(e){return d()&&y.isAllowed()?r.apply(y,arguments):("function"==typeof e&&y._callCallback(e,[n]),n)}}))}function h(){var e=y._getAudienceManagerURLData(),t=e.url;return y._loadData(N,t,null,e)}function f(e,t){if(k=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(S=t.consentString,E=t.hasConsentChangedSinceLastCmpPull?1:0),h(),_()}function g(e,t){if(k=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(S=t.consentString,E=t.hasConsentChangedSinceLastCmpPull?1:0),y.init(),_()}function m(){b.optIn.isComplete&&(b.optIn.isApproved(b.optIn.Categories.ECID)?y.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(y.init(),_()):y.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(p(),_()))}function _(){b.optIn.off("complete",m)}if(!r||r.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var y=this,b=window.adobe,S="",E=0,k=!1,T=!1;y.version="5.5.0";var A=v,w=A.Visitor;w.version=y.version,w.AuthState=I.AUTH_STATE,w.OptOut=I.OPT_OUT,A.s_c_in||(A.s_c_il=[],A.s_c_in=0),y._c="Visitor",y._il=A.s_c_il,y._in=A.s_c_in,y._il[y._in]=y,A.s_c_in++,y._instanceType="regular",y._log={requests:[]},y.marketingCloudOrgID=t,y.cookieName="AMCV_"+t,y.sessionCookieName="AMCVS_"+t;var P={};n&&n.secureCookie&&n.sameSiteCookie&&(P={sameSite:n.sameSiteCookie,secure:n.secureCookie}),y.cookieDomain=y.useLocalStorage?"":Y(null,P),y.loadSSL=!0,y.loadTimeout=3e4,y.CORSErrors=[],y.marketingCloudServer=y.audienceManagerServer="dpm.demdex.net",y.sdidParamExpiry=30;var C=null,N="MC",M="MCMID",O="MCIDTS",R="A",L="MCAID",V="AAM",j="MCAAMB",B="NONE",F=function(e){return!Object.prototype[e]},G=Q(y);y.FIELDS=I.FIELDS,y.cookieRead=function(e){return y.useLocalStorage?e===y.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):H.get(e)},y.cookieWrite=function(e,t,n){var r=""+t;if(y.useLocalStorage)return e===y.sessionCookieName?sessionStorage.setItem(e,r):localStorage.setItem(e,r);var i=y.cookieLifetime?(""+y.cookieLifetime).toUpperCase():"",a={expires:n,domain:y.cookieDomain,cookieLifetime:i};return y.configs&&y.configs.secureCookie&&"https:"===location.protocol&&(a.secure=!0),y.configs&&y.configs.sameSiteCookie&&"https:"===location.protocol&&(a.sameSite=I.SAME_SITE_VALUES[y.configs.sameSiteCookie.toUpperCase()]||"Lax"),H.set(e,r,a)},y.removeCookie=function(e){if(y.useLocalStorage)return e===y.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:y.cookieDomain};return y.configs&&y.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),y.configs&&y.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=I.SAME_SITE_VALUES[y.configs.sameSiteCookie.toUpperCase()]||"Lax"),H.remove(e,t)},y.resetState=function(e){e?y._mergeServerState(e):s()},y._isAllowedDone=!1,y._isAllowedFlag=!1,y.isAllowed=function(){return y._isAllowedDone||(y._isAllowedDone=!0,(y.cookieRead(y.cookieName)||y.cookieWrite(y.cookieName,"T",1))&&(y._isAllowedFlag=!0)),"T"===y.cookieRead(y.cookieName)&&y.removeCookie(y.cookieName),y._isAllowedFlag},y.setMarketingCloudVisitorID=function(e){y._setMarketingCloudFields(e)},y._use1stPartyMarketingCloudServer=!1,y.getMarketingCloudVisitorID=function(e,t){y.marketingCloudServer&&y.marketingCloudServer.indexOf(".demdex.net")<0&&(y._use1stPartyMarketingCloudServer=!0);var n=y._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return y._getRemoteField(M,r,e,t,n)};var X=function(e,t){var n={};y.getMarketingCloudVisitorID((function(){t.forEach((function(e){n[e]=y._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?y.isOptedOut((function(t){n.MCOPTOUT=t,e(n)}),null,!0):e(n)}),!0)};y.getVisitorValues=function(e,t){var n={MCMID:{fn:y.getMarketingCloudVisitorID,args:[!0],context:y},MCOPTOUT:{fn:y.isOptedOut,args:[void 0,!0],context:y},MCAID:{fn:y.getAnalyticsVisitorID,args:[!0],context:y},MCAAMLH:{fn:y.getAudienceManagerLocationHint,args:[!0],context:y},MCAAMB:{fn:y.getAudienceManagerBlob,args:[!0],context:y}},r=t&&t.length?D.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?X(e,t):q(r,e)},y._currentCustomerIDs={},y._customerIDsHashChanged=!1,y._newCustomerIDsHash="",y.setCustomerIDs=function(t,n){if(!y.isOptedOut()&&t){if(!D.isObject(t)||D.isObjectEmpty(t))return!1;var r,a,o,s;for(r in y._readVisitor(),t)if(F(r)&&(y._currentCustomerIDs.dataSources=y._currentCustomerIDs.dataSources||{},n=(a=t[r]).hasOwnProperty("hashType")?a.hashType:n,a))if("object"===e(a)){var c={};if(a.id){if(n){if(!(s=Le(Ve(a.id),n)))return
;a.id=s,c.hashType=n}c.id=a.id}null!=a.authState&&(c.authState=a.authState),y._currentCustomerIDs.dataSources[r]=c}else if(n){if(!(s=Le(Ve(a),n)))return;y._currentCustomerIDs.dataSources[r]={id:s,hashType:n}}else y._currentCustomerIDs.dataSources[r]={id:a};var u=y.getCustomerIDs(!0),l=y._getField("MCCIDH"),d="";for(o in l||(l=0),u){var p=u[o];if(!D.isObjectEmpty(p))for(r in p)F(r)&&(d+=(d?"|":"")+r+"|"+((a=p[r]).id?a.id:"")+(a.authState?a.authState:""))}y._newCustomerIDsHash=String(y._hash(d)),y._newCustomerIDsHash!==l&&(y._customerIDsHashChanged=!0,y._mapCustomerIDs(i))}},y.syncIdentity=function(t,n){if(!y.isOptedOut()&&t){if(!D.isObject(t)||D.isObjectEmpty(t))return!1;var r,a,o,s,c;for(r in y._readVisitor(),t)if(F(r)&&(y._currentCustomerIDs.nameSpaces=y._currentCustomerIDs.nameSpaces||{},n=(a=t[r]).hasOwnProperty("hashType")?a.hashType:n,a&&"object"===e(a))){var u={};if(a.id){if(n){if(!(o=Le(Ve(a.id),n)))return;a.id=o,u.hashType=n}u.id=a.id}null!=a.authState&&(u.authState=a.authState),a.dataSource&&(y._currentCustomerIDs.dataSources=y._currentCustomerIDs.dataSources||{},s=a.dataSource,y._currentCustomerIDs.dataSources[s]=u),y._currentCustomerIDs.nameSpaces[r]=u}var l=y.getCustomerIDs(!0),d=y._getField("MCCIDH"),p="";for(c in d||(d="0"),l){var h=l[c];if(!D.isObjectEmpty(h))for(r in h)F(r)&&(p+=(p?"|":"")+r+"|"+((a=h[r]).id?a.id:"")+(a.authState?a.authState:""))}y._newCustomerIDsHash=String(y._hash(p)),y._newCustomerIDsHash!==d&&(y._customerIDsHashChanged=!0,y._mapCustomerIDs(i))}},y.getCustomerIDs=function(e){y._readVisitor();var t,n,r={dataSources:{},nameSpaces:{}},i=y._currentCustomerIDs.dataSources;for(t in i)F(t)&&(n=i[t]).id&&(r.dataSources[t]||(r.dataSources[t]={}),r.dataSources[t].id=n.id,null!=n.authState?r.dataSources[t].authState=n.authState:r.dataSources[t].authState=w.AuthState.UNKNOWN,n.hashType&&(r.dataSources[t].hashType=n.hashType));var a=y._currentCustomerIDs.nameSpaces;for(t in a)F(t)&&(n=a[t]).id&&(r.nameSpaces[t]||(r.nameSpaces[t]={}),r.nameSpaces[t].id=n.id,null!=n.authState?r.nameSpaces[t].authState=n.authState:r.nameSpaces[t].authState=w.AuthState.UNKNOWN,n.hashType&&(r.nameSpaces[t].hashType=n.hashType));return e?r:r.dataSources},y.setAnalyticsVisitorID=function(e){y._setAnalyticsFields(e)},y.getAnalyticsVisitorID=function(e,t,n){if(!te.isTrackingServerPopulated()&&!n)return y._callCallback(e,[""]),"";var r="";if(n||(r=y.getMarketingCloudVisitorID((function(){y.getAnalyticsVisitorID(e,!0)}))),r||n){var i=n?y.marketingCloudServer:y.trackingServer,a="";y.loadSSL&&(n?y.marketingCloudServerSecure&&(i=y.marketingCloudServerSecure):y.trackingServerSecure&&(i=y.trackingServerSecure));var o={};if(i){var s="http"+(y.loadSSL?"s":"")+"://"+i+"/id",c=y.configs.cookieLifetime,u="d_visid_ver="+y.version+"&mcorgid="+encodeURIComponent(y.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(c?"&cl="+encodeURIComponent(c):"")+(y.idSyncDisable3rdPartySyncing||y.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",y._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+u+"&callback=s_c_il%5B"+y._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+u,o.callback=l}return o.url=a,y._getRemoteField(n?M:L,a,e,t,o)}return""},y.getAudienceManagerLocationHint=function(e,t){if(y.getMarketingCloudVisitorID((function(){y.getAudienceManagerLocationHint(e,!0)}))){var n=y._getField(L);if(!n&&te.isTrackingServerPopulated()&&(n=y.getAnalyticsVisitorID((function(){y.getAudienceManagerLocationHint(e,!0)}))),n||!te.isTrackingServerPopulated()){var r=y._getAudienceManagerURLData(),i=r.url;return y._getRemoteField("MCAAMLH",i,e,t,r)}}return""},y.getLocationHint=y.getAudienceManagerLocationHint,y.getAudienceManagerBlob=function(e,t){if(y.getMarketingCloudVisitorID((function(){y.getAudienceManagerBlob(e,!0)}))){var n=y._getField(L);if(!n&&te.isTrackingServerPopulated()&&(n=y.getAnalyticsVisitorID((function(){y.getAudienceManagerBlob(e,!0)}))),n||!te.isTrackingServerPopulated()){var r=y._getAudienceManagerURLData(),i=r.url;return y._customerIDsHashChanged&&y._setFieldExpire(j,-1),y._getRemoteField(j,i,e,t,r)}}return""},y._supplementalDataIDCurrent="",y._supplementalDataIDCurrentConsumed={},y._supplementalDataIDLast="",y._supplementalDataIDLastConsumed={},y.getSupplementalDataID=function(e,t){y._supplementalDataIDCurrent||t||(y._supplementalDataIDCurrent=y._generateID(1));var n=y._supplementalDataIDCurrent;return y._supplementalDataIDLast&&!y._supplementalDataIDLastConsumed[e]?(n=y._supplementalDataIDLast,y._supplementalDataIDLastConsumed[e]=!0):n&&(y._supplementalDataIDCurrentConsumed[e]&&(y._supplementalDataIDLast=y._supplementalDataIDCurrent,y._supplementalDataIDLastConsumed=y._supplementalDataIDCurrentConsumed,y._supplementalDataIDCurrent=n=t?"":y._generateID(1),y._supplementalDataIDCurrentConsumed={}),n&&(y._supplementalDataIDCurrentConsumed[e]=!0)),n};var Z=!1;y._liberatedOptOut=null,y.getOptOut=function(e,t){var n=y._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;if(d())return y._getRemoteField("MCOPTOUT",r,e,t,n);if(y._registerCallback("liberatedOptOut",e),null!==y._liberatedOptOut)return y._callAllCallbacks("liberatedOptOut",[y._liberatedOptOut]),Z=!1,y._liberatedOptOut;if(Z)return null;Z=!0;var i="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[i],v[i]=function(e){if(e===Object(e)){var t,n,r=D.parseOptOut(e,t,B);t=r.optOut,n=1e3*r.d_ottl,y._liberatedOptOut=t,setTimeout((function(){y._liberatedOptOut=null}),n)}y._callAllCallbacks("liberatedOptOut",[t]),Z=!1},G.fireCORS(n),null},y.isOptedOut=function(e,t,n){t||(t=w.OptOut.GLOBAL);var r=y.getOptOut((function(n){var r=n===w.OptOut.GLOBAL||n.indexOf(t)>=0;y._callCallback(e,[r])}),n);return r?r===w.OptOut.GLOBAL||r.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};y.onReceiveEcid=function(e){if(d())return y.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},y._fields=null,y._fieldsExpired=null,y._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},y._generateID=z,y._generateLocalMID=function(){var e=y._generateID(0);return ie.isClientSideMarketingCloudVisitorID=!0,e},y._callbackList=null,y._callCallback=function(e,t){try{"function"==typeof e?e.apply(A,t):e[1].apply(e[0],t)}catch(e){}},y._registerCallback=function(e,t){t&&(null==y._callbackList&&(y._callbackList={}),null==y._callbackList[e]&&(y._callbackList[e]=[]),y._callbackList[e].push(t))},y._callAllCallbacks=function(e,t){if(null!=y._callbackList){var n=y._callbackList[e];if(n)for(;n.length>0;)y._callCallback(n.shift(),t)}},y._addQuerystringParam=function(e,t,n,r){var i=encodeURIComponent(t)+"="+encodeURIComponent(n),a=te.parseHash(e),o=te.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+i+a;var s=o.split("?"),c=s[0]+"?",u=s[1];return c+te.addQueryParamAtLocation(u,i,r)+a},y._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},y._parseAdobeMcFromUrl=a(J.ADOBE_MC),y._parseAdobeMcSdidFromUrl=a(J.ADOBE_MC_SDID),y._attemptToPopulateSdidFromUrl=function(e){var n=y._parseAdobeMcSdidFromUrl(e),r=1e9;n&&n.TS&&(r=te.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&r<y.sdidParamExpiry&&(y._supplementalDataIDCurrent=n.SDID,y._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},y._attemptToPopulateIdsFromUrl=function(){var e=y._parseAdobeMcFromUrl();if(e&&e.TS){var n=te.getTimestampInSeconds()-e.TS;if(Math.floor(n/60)>J.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},y._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[y.marketingCloudOrgID]){var t=e[y.marketingCloudOrgID];!function(e){te.isObject(e)&&y.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},y._timeout=null,y._loadData=function(e,t,n,r){t=y._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=y._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=y._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),ie.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===G.corsMetadata.corsType&&G.fireCORS(r,n,e)},y._clearTimeout=function(e){null!=y._timeout&&y._timeout[e]&&(clearTimeout(y._timeout[e]),y._timeout[e]=0)},y._settingsDigest=0,y._getSettingsDigest=function(){if(!y._settingsDigest){var e=y.version;y.audienceManagerServer&&(e+="|"+y.audienceManagerServer),y.audienceManagerServerSecure&&(e+="|"+y.audienceManagerServerSecure),y._settingsDigest=y._hash(e)}return y._settingsDigest},y._readVisitorDone=!1,y._readVisitor=function(){if(!y._readVisitorDone){y._readVisitorDone=!0;var e,t,n,r,i,a,o=y._getSettingsDigest(),s=!1,c=y.cookieRead(y.cookieName),u=new Date;if(c||T||y.discardTrackingServerECID||(c=y.cookieRead(J.FIRST_PARTY_SERVER_COOKIE)),null==y._fields&&(y._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)n=(t=c[e].split("-"))[0],r=c[e+1],t.length>1?(i=parseInt(t[1],10),a=t[1].indexOf("s")>0):(i=0,a=!1),s&&("MCCIDH"===n&&(r=""),i>0&&(i=u.getTime()/1e3-60)),n&&r&&(y._setField(n,r,1),i>0&&(y._fields["expire"+n]=i+(a?"s":""),(u.getTime()>=1e3*i||a&&!y.cookieRead(y.sessionCookieName))&&(y._fieldsExpired||(y._fieldsExpired={}),y._fieldsExpired[n]=!0)));!y._getField(L)&&te.isTrackingServerPopulated()&&(c=y.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(r=c[1]).indexOf("["))>=0&&(r=r.substring(0,e)),r&&r.match(J.VALID_VISITOR_ID_REGEX)&&y._setField(L,r))}},y._appendVersionTo=function(e){var t="vVersion|"+y.version,n=e?y._getCookieVersion(e):null;return n?K.areVersionsDifferent(n,y.version)&&(e=e.replace(J.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},y._writeVisitor=function(){var e,t,n=y._getSettingsDigest();for(e in y._fields)F(e)&&y._fields[e]&&"expire"!==e.substring(0,6)&&(t=y._fields[e],n+=(n?"|":"")+e+(y._fields["expire"+e]?"-"+y._fields["expire"+e]:"")+"|"+t);n=y._appendVersionTo(n),y.cookieWrite(y.cookieName,n,1)},y._getField=function(e,t){return null==y._fields||!t&&y._fieldsExpired&&y._fieldsExpired[e]?null:y._fields[e]},y._setField=function(e,t,n){null==y._fields&&(y._fields={}),y._fields[e]=t,n||y._writeVisitor()},y._getFieldList=function(e,t){var n=y._getField(e,t);return n?n.split("*"):null},y._setFieldList=function(e,t,n){y._setField(e,t?t.join("*"):"",n)},y._getFieldMap=function(e,t){var n=y._getFieldList(e,t);if(n){var r,i={};for(r=0;r<n.length;r+=2)i[n[r]]=n[r+1];return i}return null},y._setFieldMap=function(e,t,n){var r,i=null;if(t)for(r in i=[],t)F(r)&&(i.push(r),i.push(t[r]));y._setFieldList(e,i,n)},y._setFieldExpire=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),null==y._fields&&(y._fields={}),y._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),t<0?(y._fieldsExpired||(y._fieldsExpired={}),y._fieldsExpired[e]=!0):y._fieldsExpired&&(y._fieldsExpired[e]=!1),n&&(y.cookieRead(y.sessionCookieName)||y.cookieWrite(y.sessionCookieName,"1"))},y._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=B),t&&(t===B||t.match(J.VALID_VISITOR_ID_REGEX))||(t="")),t},y._setFields=function(t,n){if(y._clearTimeout(t),null!=y._loading&&(y._loading[t]=!1),ie.fieldGroupObj[t]&&ie.setState(t,!1),t===N){!0!==ie.isClientSideMarketingCloudVisitorID&&(ie.isClientSideMarketingCloudVisitorID=!1);var r=y._getField(M);if(!r||y.overwriteCrossDomainMCIDAndAID){if(!(r="object"===e(n)&&n.mid?n.mid:y._findVisitorID(n))){if(y._use1stPartyMarketingCloudServer&&!y.tried1stPartyMarketingCloudServer)return y.tried1stPartyMarketingCloudServer=!0,void y.getAnalyticsVisitorID(null,!1,!0);r=y._generateLocalMID()}y._setField(M,r)}r&&r!==B||(r=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&y._setFields(V,n),y._use1stPartyMarketingCloudServer&&n.mid&&y._setFields(R,{id:n.id})),y._callAllCallbacks(M,[r])}if(t===V&&"object"===e(n)){var i=604800;null!=n.id_sync_ttl&&n.id_sync_ttl&&(i=parseInt(n.id_sync_ttl,10));var a=ne.getRegionAndCheckIfChanged(n,i);y._callAllCallbacks("MCAAMLH",[a]);var o=y._getField(j);(n.d_blob||n.blob)&&((o=n.d_blob)||(o=n.blob),y._setFieldExpire(j,i),y._setField(j,o)),o||(o=""),y._callAllCallbacks(j,[o]),!n.error_msg&&y._newCustomerIDsHash&&y._setField("MCCIDH",y._newCustomerIDsHash)}if(t===R){var s=y._getField(L);s&&!y.overwriteCrossDomainMCIDAndAID||((s=y._findVisitorID(n))?s!==B&&y._setFieldExpire(j,-1):s=B,y._setField(L,s)),s&&s!==B||(s=""),y._callAllCallbacks(L,[s])}if(y.idSyncDisableSyncs||y.disableIdSyncs)ne.idCallNotProcesssed=!0;else{ne.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=n.subdomain,ne.processIDCallData(c)}if(n===Object(n)){var u,l;d()&&y.isAllowed()&&(u=y._getField("MCOPTOUT"));var p=D.parseOptOut(n,u,B);u=p.optOut,l=p.d_ottl,y._setFieldExpire("MCOPTOUT",l,!0),y._setField("MCOPTOUT",u),y._callAllCallbacks("MCOPTOUT",[u])}},y._loading=null,y._getRemoteField=function(e,t,n,r,i){var a,o="",s=te.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(d()&&y.isAllowed())if(y._readVisitor(),!(!(o=y._getField(e,!0===c[e]))||y._fieldsExpired&&y._fieldsExpired[e])||y.disableThirdPartyCalls&&!s)o||(e===M?(y._registerCallback(e,n),o=y._generateLocalMID(),y.setMarketingCloudVisitorID(o)):e===L?(y._registerCallback(e,n),o="",y.setAnalyticsVisitorID(o)):(o="",r=!0));else if(e===M||"MCOPTOUT"===e?a=N:"MCAAMLH"===e||e===j?a=V:e===L&&(a=R),a)return!t||null!=y._loading&&y._loading[a]||(null==y._loading&&(y._loading={}),y._loading[a]=!0,a===V&&(E=0),y._loadData(a,t,(function(t){if(!y._getField(e)){t&&ie.setState(a,!0);var n="";e===M?n=y._generateLocalMID():a===V&&(n={error_msg:"timeout"}),y._setFields(a,n)}}),i)),y._registerCallback(e,n),o||(t||y._setFields(a,{id:B}),"");return e!==M&&e!==L||o!==B||(o="",r=!0),n&&r&&y._callCallback(n,[o]),e===M&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){y._callCallback(e,[o])})),ee.subscribed=!1,ee.callbacks.length=0),o},y._setMarketingCloudFields=function(e){y._readVisitor(),y._setFields(N,e)},y._mapCustomerIDs=function(e){y.getAudienceManagerBlob(e,!0)},y._setAnalyticsFields=function(e){y._readVisitor(),y._setFields(R,e)},y._setAudienceManagerFields=function(e){y._readVisitor(),y._setFields(V,e)},y._getAudienceManagerURLData=function(e){var t=y.audienceManagerServer,n="",r=y._getField(M),i=y._getField(j,!0),a=y._getField(L),o=a&&a!==B?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(y.loadSSL&&y.audienceManagerServerSecure&&(t=y.audienceManagerServerSecure),t){var s,c,u,l=y.getCustomerIDs(!0);if(l)for(c in l){var d=l[c];if(!D.isObjectEmpty(d)){var p="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in d)F(s)&&(u=d[s],o+=p+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""))}}e||(e="_setAudienceManagerFields");var h="http"+(y.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+y.version+(S&&-1!==h.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+S:"")+(E&&-1!==h.indexOf("demdex.net")?"&d_cf="+E:"")+"&d_rtbd=json&d_ver=2"+(!r&&y._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(y.marketingCloudOrgID)+"&d_nsid="+(y.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(y.idSyncDisable3rdPartySyncing||y.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===C?"&d_coop_safe=1":!1===C?"&d_coop_unsafe=1":"")+(i?"&d_blob="+encodeURIComponent(i):"")+o,g=["s_c_il",y._in,e];return{url:n=h+"?"+f+"&d_cb=s_c_il%5B"+y._in+"%5D."+e,corsUrl:h+"?"+f,callback:g}}return{url:n}},y.appendVisitorIDsTo=function(e){try{var t=[[M,y._getField(M)],[L,y._getField(L)],["MCORGID",y.marketingCloudOrgID]];return y._addQuerystringParam(e,J.ADOBE_MC,c(t))}catch(t){return e}},y.appendSupplementalDataIDTo=function(e,t){if(!(t=t||y.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var n=c([["SDID",t],["MCORGID",y.marketingCloudOrgID]]);return y._addQuerystringParam(e,J.ADOBE_MC_SDID,n)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var r=e.split("&");return n=null!=n?n:r.length,r.splice(n,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===L&&(t||(t=y.trackingServer),n||(n=y.trackingServerSecure),!("string"!=typeof(r=y.loadSSL?n:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){H.remove(e,{domain:y.cookieDomain})},isTrackingServerPopulated:function(){return!!y.trackingServer||!!y.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};y._helpers=te;var ne=$(y,w);y._destinationPublishing=ne,y.timeoutMetricsLog=[];var re,ie={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case N:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case R:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case V:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};y.isClientSideMarketingCloudVisitorID=function(){return ie.isClientSideMarketingCloudVisitorID},y.MCIDCallTimedOut=function(){return ie.MCIDCallTimedOut},y.AnalyticsIDCallTimedOut=function(){return ie.AnalyticsIDCallTimedOut},y.AAMIDCallTimedOut=function(){return ie.AAMIDCallTimedOut},y.idSyncGetOnPageSyncInfo=function(){return y._readVisitor(),y._getField("MCSYNCSOP")},y.idSyncByURL=function(e){if(!y.isOptedOut()){var t=u(e||{});if(t.error)return t.error;var n,r,i=e.url,a=encodeURIComponent,o=ne;return i=i.replace(/^https:/,"").replace(/^http:/,""),n=D.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",a(e.dpid),"img",a(i),t.ttl,"",n],o.addMessage(r.join("|")),o.requestToProcess(),"Successfully queued"}},y.idSyncByDataSource=function(e){if(!y.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,y.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},xe(y,ne),y._getCookieVersion=function(e){e=e||y.cookieRead(y.cookieName);var t=J.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},y._resetAmcvCookie=function(e){var t=y._getCookieVersion();t&&!K.isLessThan(t,e)||y.removeCookie(y.cookieName)},y.setAsCoopSafe=function(){C=!0},y.setAsCoopUnsafe=function(){C=!1},function(){if(y.configs=Object.create(null),te.isObject(n))for(var e in n)F(e)&&(y[e]=n[e],y.configs[e]=n[e])}(),p(),y.init=function(){l()&&(b.optIn.fetchPermissions(m,!0),!b.optIn.isApproved(b.optIn.Categories.ECID))||re||(re=!0,function(){if(te.isObject(n)){y.idSyncContainerID=y.idSyncContainerID||0,C="boolean"==typeof y.isCoopSafe?y.isCoopSafe:te.parseBoolean(y.isCoopSafe),y.resetBeforeVersion&&y._resetAmcvCookie(y.resetBeforeVersion),y._attemptToPopulateIdsFromUrl(),y._attemptToPopulateSdidFromUrl(),y._readVisitor();var e=y._getField(O),t=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);y.idSyncDisableSyncs||y.disableIdSyncs||!ne.canMakeSyncIDCall(e,t)||(y._setFieldExpire(j,-1),y._setField(O,t)),y.getMarketingCloudVisitorID(),y.getAudienceManagerLocationHint(),y.getAudienceManagerBlob(),y._mergeServerState(y.serverState)}else y._attemptToPopulateIdsFromUrl(),y._attemptToPopulateSdidFromUrl()}(),function(){if(!y.idSyncDisableSyncs&&!y.disableIdSyncs){ne.checkDPIframeSrc();var e=function(){var e=ne;e.readyToAttachIframe()&&e.attachIframe()};A.addEventListener("load",(function(){w.windowLoaded=!0,e()}));try{W.receiveMessage((function(e){ne.receiveMessage(e.data)}),ne.iframeHost)}catch(e){}}}(),y.whitelistIframeDomains&&J.POST_MESSAGE_ENABLED&&(y.whitelistIframeDomains=y.whitelistIframeDomains instanceof Array?y.whitelistIframeDomains:[y.whitelistIframeDomains],y.whitelistIframeDomains.forEach((function(e){var n=new x(t,e),r=U(y,n);W.receiveMessage(r,e)}))))}};Be.config=Z,v.Visitor=Be;var Fe=Be,Ue=function(e){if(D.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&Z.getConfigs()[t]})).reduce((function(t,n){var r=Z.normalizeConfig(n,e[n]),i=D.normalizeBoolean(r);return t[n]=i,t}),Object.create(null))},qe=Oe.OptIn,He=Oe.IabPlugin;Fe.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=v.s_c_il;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}();if(n)return n;var r=Ue(t)||{};!function(e){v.adobe.optIn=v.adobe.optIn||function(){var t=D.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),n=e.optInCookieDomain||e.cookieDomain;n=(n=n||Y())===window.location.hostname?"":n,t.optInCookieDomain=n;var r=new qe(t,{cookies:H});if(t.isIabContext&&t.doesOptInApply){var i=new He;r.registerPlugin(i)}return r}()}(r||{});var i=e.split("").reverse().join(""),a=new Fe(e,null,i);r.cookieDomain&&(a.cookieDomain=r.cookieDomain),r.sameSiteCookie&&r.secureCookie&&(a.configs={sameSiteCookie:r.sameSiteCookie,secureCookie:r.secureCookie}),v.s_c_il.splice(--v.s_c_in,1);var o=D.getIeVersion();if("number"==typeof o&&o<10)return a._helpers.replaceMethodsWithFunction(a,(function(){}));var s=function(){try{return v.self!==v.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(a)||D.isFirefox()&&!function(t){var n="AMCV_"+e;return!!t.cookieRead(n)}(a)&&r.whitelistParentDomain)&&v.parent?new L(e,r,a,v.parent):new Fe(e,r,i);return a=null,s.init(),s},function(){function e(){Fe.windowLoaded=!0}v.addEventListener?v.addEventListener("load",e):v.attachEvent&&v.attachEvent("onload",e),Fe.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"doubleclick-floodlight":{displayName:"DoubleClick Floodlight (Beta)",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP9a01085750854132acb9bc9bade4150c/",modules:{"doubleclick-floodlight/dist/lib/actions/floodlightCounter.js":{name:"floodlight-counter",displayName:"Floodlight Counter Tag",script:function(e,t,n,r){"use strict";function i(e,t,n){var r;r="sales"===t&&"img"===n?"ad.doubleclick.net/activity":e.src.value+".fls.doubleclick.net/activityi";var i="";for(var a in e){var o=e[a].value;""!=o&&void 0!==o&&(i+=encodeURIComponent(a)+"="+encodeURIComponent(o)+";")}return i.length>0&&(r=r+";"+(i=i.substring(0,i.length-1))),"https://"+r+"?"}function a(e,t){var n=document.createElement(t);if(n.src=e,n.style="display:none","loading"===document.readyState){var i="Waiting on document to embed "+e+" "+t+"..";r.logger.log(i),document.addEventListener("DOMContentLoaded",(function(){r.logger.log("Document is now loaded, embedding..");try{document.body.appendChild(n)}catch(e){r.logger.error("Unable to embed Floodlight!"),r.logger.error(e)}}))}else{i="Embedding "+e+" "+t+"..",r.logger.log(i);try{document.body.appendChild(n)}catch(e){r.logger.error("Unable to embed Floodlight!"),r.logger.error(e)}}}var o="counter";e.exports=function(e){e?a(i(e.params,o,e.elementTagName),e.elementTagName):r.logger.error("No settings found, not firing Floodlight tag!")}}}}},"adobe-video-analytics":{displayName:"Adobe Media Analytics for Audio and Video",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPda19e4cc14f2458a8e6fd7f159b67247/",settings:{ovp:"",ssl:!1,channel:"",appVersion:"",playerName:"",debugLogging:!0,trackingServer:"gigamon.sc.omtrdc.net"},modules:{"adobe-video-analytics/src/lib/sharedModules/getInstance.js":{name:"get-instance",shared:!0,script:function(e,t,n){"use strict";var r=n("../helpers/getInstance");e.exports=r}},"adobe-video-analytics/src/lib/sharedModules/mediaHeartbeat.js":{name:"media-heartbeat",shared:!0,script:function(e,t,n,r){"use strict";var i=n("../helpers/mediaHeartbeat");n("../helpers/exportGlobal")(r.getExtensionSettings()),e.exports=i}},"adobe-video-analytics/src/lib/helpers/getInstance.js":{script:function(e,t,n,r){"use strict";function i(e){if(!e||"object"!=typeof e||"function"!=typeof e.getQoSObject||"function"!=typeof e.getCurrentPlaybackTime)throw new Error("Delegate must be a valid object with getQosObject() and getCurrentPlaybackTime() functions.");this._delegate=e}function a(e,t){t&&"object"==typeof t||(t={});var n=new u;return n.trackingServer=e.trackingServer,n.debugLogging=e.debugLogging,n.appVersion=e.appVersion,n.ssl=e.ssl,n.channel="string"==typeof t.channel?t.channel:e.channel,n.ovp="string"==typeof t.ovp?t.ovp:e.ovp,n.playerName="string"==typeof t.playerName?t.playerName:e.playerName,"string"==typeof n.playerName&&""!==n.playerName||(n.playerName="unknown"),n}var o=n("@adobe/reactor-promise"),s=n("../codeLibrary/MediaSDK.min"),c=s.va.MediaHeartbeat,u=s.va.MediaHeartbeatConfig,l=s.va.MediaHeartbeatDelegate,d=r.getExtensionSettings(),p=r.getSharedModule("adobe-analytics","get-tracker");s.core.extend(i.prototype,l.prototype),i.prototype.getCurrentPlaybackTime=function(){return this._delegate.getCurrentPlaybackTime()},i.prototype.getQoSObject=function(){return this._delegate.getQoSObject()},e.exports=function(e,t){return o.resolve().then((function(){var n=new i(e),o=a(d,t);if(!p){var s="Error getting a reference to Analytics shared module. Make sure Adobe Analytics Extension is configured properly.";throw r.logger.error(s),new Error(s)}return p().then((function(e){return new c(n,o,e)}))}))}}},"adobe-video-analytics/src/lib/codeLibrary/MediaSDK.min.js":{script:function(e,t){var n,r;n="undefined"!=typeof self?self:this,r=function(e){var t={};(function(){var e;!function(e){if(void 0===t)var t={};if(void 0===n)var n={};if(void 0===r)var r={};if(r.radio||(r.radio={}),r.plugin||(r.plugin={}),void 0===i)var i={};i.clock||(i.clock={}),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,a,o,s){return t(n(t(t(r,e),t(a,s)),o),i)}function i(e,t,n,i,a,o,s){return r(t&n|~t&i,e,t,a,o,s)}function a(e,t,n,i,a,o,s){return r(t&i|n&~i,e,t,a,o,s)}function o(e,t,n,i,a,o,s){return r(t^n^i,e,t,a,o,s)}function s(e,t,n,i,a,o,s){return r(n^(t|~i),e,t,a,o,s)}function c(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var r,c,u,l,d,p=1732584193,h=-271733879,f=-1732584194,g=271733878;for(r=0;r<e.length;r+=16)c=p,u=h,l=f,d=g,p=i(p,h,f,g,e[r],7,-680876936),g=i(g,p,h,f,e[r+1],12,-389564586),f=i(f,g,p,h,e[r+2],17,606105819),h=i(h,f,g,p,e[r+3],22,-1044525330),p=i(p,h,f,g,e[r+4],7,-176418897),g=i(g,p,h,f,e[r+5],12,1200080426),f=i(f,g,p,h,e[r+6],17,-1473231341),h=i(h,f,g,p,e[r+7],22,-45705983),p=i(p,h,f,g,e[r+8],7,1770035416),g=i(g,p,h,f,e[r+9],12,-1958414417),f=i(f,g,p,h,e[r+10],17,-42063),h=i(h,f,g,p,e[r+11],22,-1990404162),p=i(p,h,f,g,e[r+12],7,1804603682),g=i(g,p,h,f,e[r+13],12,-40341101),f=i(f,g,p,h,e[r+14],17,-1502002290),p=a(p,h=i(h,f,g,p,e[r+15],22,1236535329),f,g,e[r+1],5,-165796510),g=a(g,p,h,f,e[r+6],9,-1069501632),f=a(f,g,p,h,e[r+11],14,643717713),h=a(h,f,g,p,e[r],20,-373897302),p=a(p,h,f,g,e[r+5],5,-701558691),g=a(g,p,h,f,e[r+10],9,38016083),f=a(f,g,p,h,e[r+15],14,-660478335),h=a(h,f,g,p,e[r+4],20,-405537848),p=a(p,h,f,g,e[r+9],5,568446438),g=a(g,p,h,f,e[r+14],9,-1019803690),f=a(f,g,p,h,e[r+3],14,-187363961),h=a(h,f,g,p,e[r+8],20,1163531501),p=a(p,h,f,g,e[r+13],5,-1444681467),g=a(g,p,h,f,e[r+2],9,-51403784),f=a(f,g,p,h,e[r+7],14,1735328473),p=o(p,h=a(h,f,g,p,e[r+12],20,-1926607734),f,g,e[r+5],4,-378558),g=o(g,p,h,f,e[r+8],11,-2022574463),f=o(f,g,p,h,e[r+11],16,1839030562),h=o(h,f,g,p,e[r+14],23,-35309556),p=o(p,h,f,g,e[r+1],4,-1530992060),g=o(g,p,h,f,e[r+4],11,1272893353),f=o(f,g,p,h,e[r+7],16,-155497632),h=o(h,f,g,p,e[r+10],23,-1094730640),p=o(p,h,f,g,e[r+13],4,681279174),g=o(g,p,h,f,e[r],11,-358537222),f=o(f,g,p,h,e[r+3],16,-722521979),h=o(h,f,g,p,e[r+6],23,76029189),p=o(p,h,f,g,e[r+9],4,-640364487),g=o(g,p,h,f,e[r+12],11,-421815835),f=o(f,g,p,h,e[r+15],16,530742520),p=s(p,h=o(h,f,g,p,e[r+2],23,-995338651),f,g,e[r],6,-198630844),g=s(g,p,h,f,e[r+7],10,1126891415),f=s(f,g,p,h,e[r+14],15,-1416354905),h=s(h,f,g,p,e[r+5],21,-57434055),p=s(p,h,f,g,e[r+12],6,1700485571),g=s(g,p,h,f,e[r+3],10,-1894986606),f=s(f,g,p,h,e[r+10],15,-1051523),h=s(h,f,g,p,e[r+1],21,-2054922799),p=s(p,h,f,g,e[r+8],6,1873313359),g=s(g,p,h,f,e[r+15],10,-30611744),f=s(f,g,p,h,e[r+6],15,-1560198380),h=s(h,f,g,p,e[r+13],21,1309151649),p=s(p,h,f,g,e[r+4],6,-145523070),g=s(g,p,h,f,e[r+11],10,-1120210379),f=s(f,g,p,h,e[r+2],15,718787259),h=s(h,f,g,p,e[r+9],21,-343485551),p=t(p,c),h=t(h,u),f=t(f,l),g=t(g,d);return[p,h,f,g]}function u(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){return u(c(l(e),8*e.length))}function p(e,t){var n,r,i=l(e),a=[],o=[];for(a[15]=o[15]=void 0,i.length>16&&(i=c(i,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^i[n],o[n]=1549556828^i[n];return r=c(a.concat(l(t)),512+8*t.length),u(c(o.concat(r),640))}function h(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function f(e){return unescape(encodeURIComponent(e))}function g(e){return d(f(e))}function m(e){return h(g(e))}function _(e,t){return p(f(e),f(t))}function v(e,t){return h(_(e,t))}function y(e,t,n){return t?n?_(t,e):v(t,e):n?g(e):m(e)}e.md5=y}(t),function(e){"use strict";var t={startsWith:function(e,t){return 0==e.indexOf(t)}};e.StringUtils=t}(t),function(e){"use strict";var t={clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},merge:function(e,n){var r=t.clone(e);for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r},append:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}};e.ObjectUtils=t}(t),function(e){"use strict";function t(e){if(null==e)return!0;for(var t=0;t<e.length;++t)if(isNaN(e[t]))return!1;return!0}function n(e,n){if("string"!=typeof e||"string"!=typeof n)return NaN;var r=e.split("."),i=n.split(".");if(!t(r)||!t(i))return NaN;for(var a=Math.max(r.length,i.length),o=0;o<a;++o){var s=null!=r[o]?r[o]:"0",c=null!=i[o]?i[o]:"0";if((s=Number(s))>(c=Number(c)))return 1;if(s<c)return-1}return 0}var r={isGreaterThan:function(e,t){return n(e,t)>0},isGreaterThanEqual:function(e,t){return n(e,t)>=0},isLessThan:function(e,t){return n(e,t)<0},isLessThanEqual:function(e,t){return n(e,t)<=0},isSame:function(e,t){return 0===n(e,t)},isDifferent:function(e,t){return 0!==n(e,t)}};e.VersionUtils=r}(t),function(e){"use strict";function t(e,t,n){this.fn=e,this.ctx=t,this.params=n}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(r),function(e){"use strict";function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==e&&e,this._delay=void 0!==t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++)this._queue[e].run();this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var n=e._queue.shift();n?e._runCommand(n,(function(){e._isSuspended||t()})):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function n(){e.run(),null!=t&&t.call(r)}var r=this;if(0==this._lastTs)n();else{
var i=(new Date).getTime(),a=i-this._lastTs;this._lastTs=i,a<this._delay?setTimeout(n,this._delay-a):n()}},e.radio.CommandQueue=t}(r),function(e){"use strict";function t(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function n(e,n){if(e===n)return!0;for(var r=(e||"").split(t.SEPARATOR),i=(n||"").split(t.SEPARATOR),a=!0,o=0;o<r.length;o++)a=a&&(r[o]===t.WILDCARD||r[o]===i[o]);return a}t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(r,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},t.prototype.on=function(e,t,n){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:n}))},t.prototype.off=function(e,t,n){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!n)return void(this._listeners={});if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n)}},t.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&n(t,e.name))for(var r=this._listeners[t].slice(0),i=0;i<r.length;i++){var a=r[i];a.fn.call(a.ctx,e)}},t.prototype.comply=function(e,t,n){this._isShutDown||(this._commands[e]={cmd:t,ctx:n})},t.prototype.command=function(e,t){if(!this._isShutDown){var n=this._commands[e];if(!n)return void this._logger.warn(r,"#command > No command handler for: "+e);n.cmd.call(n.ctx,t)}},t.prototype.reply=function(e,t,n){this._isShutDown||(this._requests[e]={fn:t,ctx:n})},t.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(r,"#request > No request handler for: "+e),null)}},t.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var r=this._listeners[e];if(r){if(!r.length||null==t&&!n)return void delete this._listeners[e];for(var i=0;i<r.length;i++){var a=r[i];null!==t&&t!==a.fn||n&&n!==a.ctx||this._listeners[e].splice(i,1)}}};var r="radio::Channel";e.radio.Channel=t}(r),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var n=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new n(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(r),function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}e.extend=t}(r),function(e){"use strict";function t(){}t.prototype.write=function(){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(r),function(e){"use strict";function t(){}t.prototype.write=function(e){window.console&&window.console.log&&window.console.log(e)},e.LogWriter=t}(r),function(e){"use strict";function t(){}t.prototype.setLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(r),function(e){"use strict";function t(){this._logWriter=new r}function n(e){return e<10?"00"+e:e<100?"0"+e:""+e}var r=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,a,t)},t.prototype.info=function(e,t){this._log(e,i,t)},t.prototype.warn=function(e,t){this._log(e,o,t)},t.prototype.error=function(e,t){this._log(e,s,t)},t.prototype._log=function(e,t,r){if(t==s||this._enabled){var i="",a=new Date;i+="["+a.toTimeString()+"."+n(a.getMilliseconds())+"] ["+t+"] ",i+="["+e+"] "+r,this._logWriter.write(i)}};var i="INFO",a="DEBUG",o="WARN",s="ERROR";e.Logger=t}(r),function(e){"use strict";function t(e,t){this._pluginName=e,this._eventName=t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+n.SEPARATOR+this._eventName},e.Trigger=t}(r),function(e){"use strict";function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(r),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var r,i,a=!1;for(i in this._events)if(e===i){a=!0;break}if(a){for(r=this._events[i].length-1;r>=0;r--){var o=this._events[i][r];t===o.cb&&n===o.ctx&&this._events[i].splice(r,1)}this._events[i].length||delete this._events[i]}}},t.prototype.dispatchEvent=function(e){var t,n;if(e.name)for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var r=this._events[t].slice(0),i=r.length;for(n=0;n<i;n++)r[n].cb.call(r[n].ctx,e);break}},t.prototype.removeAllListeners=function(e){var t,n;if(e){for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;t>=0;t--)this._events[n][t].ctx===e&&this._events[n].splice(t,1);this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(r),function(e){"use strict";function t(){}function n(e,t){this.url=e||null,this.method=t,this._xmlhttp=null}function r(){r.__super__.constructor.call(this),this._connection=null}var i=e.Event,a=e.EventDispatcher;t.GET="GET",r.RESPONSE="response",r.INSTANCE="instance",e.extend(r,a),r.prototype.close=function(){this.removeAllListeners(null)},r.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},r.prototype._createCORSRequest=function(e){var t=null;if(void 0!==window.XMLHttpRequest){var n=new window.XMLHttpRequest;"withCredentials"in n&&(t=n).open(e.method,e.url,!0)}if(null==t&&void 0!==window.XDomainRequest&&(t=new window.XDomainRequest).open(e.method,e.url),t){var a={};a[r.INSTANCE]=this;var o=this;t.onload=function(){if(t.status&&parseInt(t.status,10)>=400)return this.onerror();a[r.RESPONSE]=t.responseText,o.dispatchEvent(new i(i.SUCCESS,a))},t.onerror=function(){o.dispatchEvent(new i(i.ERROR,a))}}return t},r.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[r.RESPONSE]="",t[r.INSTANCE]=this,this.dispatchEvent(new i(i.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=n,e.URLLoader=r}(r),function(e){"use strict";var t="2.2.1.229",n="1bf77a",r={getVersion:function(){return"js-extn-"+t+"-"+n},getMajor:function(){return r.getNumberAtPosition(0)},getMinor:function(){return r.getNumberAtPosition(1)},getMicro:function(){return r.getNumberAtPosition(2)},getPatch:function(){return r.getNumberAtPosition(3)},getBuild:function(){return n},getApiLevel:function(){return 4},getNumberAtPosition:function(e){return t.split(".")[e]}};e.Version=r}(n),function(e){"use strict";function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(n),function(e){"use strict";function t(){this.debugLogging=!1}e.HeartbeatConfig=t}(n),function(e){"use strict";function t(){}t.prototype.onError=function(){},e.HeartbeatDelegate=t}(n),function(e){"use strict";function t(){}t.prototype.configure=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(r),function(e){"use strict";function t(e,t,n,r){this.trigger=e,this.action=n,this.plugin=t,this._paramMappings={},this.mergeParams(r)}var n=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this._paramMappings[n.getKeyName()]=n}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var r=new n(e,t);this._paramMappings.hasOwnProperty(r.getKeyName())&&delete this._paramMappings[r.getKeyName()]},e.plugin.Behaviour=t}(r),function(e){"use strict";function t(e,t,r){this._pluginName=e,this._key=t,this._paramName=r||e+n.SEPARATOR+t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+n.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(r),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new r(this._logger),this._dataChannel=this._radio.channel(o),this._ctrlChannel=this._radio.channel(s)}var n=e.Event,r=e.radio.Radio,i=e.radio.Channel,a=e.plugin.Behaviour;t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(c,"#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},t.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},t.prototype.pluginExists=function(e){return!!this._plugins[e]},t.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},t.prototype.on=function(e,t,n,r){this._dataChannel.on(e+i.SEPARATOR+t,n,r)},t.prototype.off=function(e,t,n,r){var a=e&&t?e+i.SEPARATOR+t:null;this._dataChannel.off(a,n,r)},t.prototype.trigger=function(e){var t=e.name,n=this._behaviours[t];if(n){var r,i,a,o,s,c={},u={};for(r=0;r<n.length;r++)if(o=(a=n[r]).getParams())for(i=0;i<o.length;i++)c[(s=o[i]).getPluginName()]=c[s.getPluginName()]||[],s.key in c[s.getPluginName()]||c[s.getPluginName()].push(s.getKey());for(var l in c)c.hasOwnProperty(l)&&(u[l]=this.request(l,c[l]));for(r=0;r<n.length;r++){var d={_behaviour:a=n[r],_eventData:e.data||{}};if(o=a.getParams()){for(i=0;i<o.length;i++)d[(s=o[i]).getParamName()]=u[s.getPluginName()]?u[s.getPluginName()][s.getKey()]:null;this.command(a.plugin.getName(),a.action,d)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){var n=this._plugins[e];return n&&t&&0!=t.length?n.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;var r=new n(t.ERROR,e);this._ctrlChannel.trigger(r)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=function(){for(var e in this._radio.shutdown(),this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},t.prototype.comply=function(e,t,n){this._dataChannel.comply(e.getName()+i.SEPARATOR+t,n,e)},t.prototype.command=function(e,t,n){this._dataChannel.command(e+i.SEPARATOR+t,n)},t.prototype.registerBehaviour=function(e,t,n,r){var i=e.getName(),o=new a(e,t,n,r);this._behaviours[i]=this._behaviours[i]||[],this._behaviours[i].push(o)};var o="data_channel",s="ctrl_channel",c="plugin::PluginManager";e.plugin.PluginManager=t}(r),function(e,t){"use strict";function n(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new r}var r=e.Logger,i=e.Trigger,a=e.Event,o=t.ErrorInfo;n.INITIALIZED="initialized",n.prototype.configure=function(){},n.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new o("Invalid state.","Plugin already destroyed."))},n.prototype.setup=function(){this._trigger(n.INITIALIZED),this._isInitialized=!0},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.getLogger=function(){return this._logger},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var n=0;n<e.length;n++){var r=e[n];this._dataResolver.hasOwnProperty(r)&&(t=t||{},"function"==typeof this._dataResolver[r]?t[r]=this._dataResolver[r].call(this):t[r]=this._dataResolver[r])}return t},n.prototype.toString=function(){return"<plugin: "+this._name+">"},n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},n.prototype._trigger=function(e,t){var n=a.createFromTrigger(new i(this.getName(),e));n.data=t,this._pluginManager.trigger(n)},e.plugin.BasePlugin=n}(r,n),function(e){"use strict";function t(e,t,n){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount=void 0!==n?n:i,this._nextTickTimestamp=0,this.reset()}function n(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var n=this;this._clock=window.setInterval((function(){n._onTick()}),1e3*a)}t.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},t.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-o/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},t.prototype._updateNextTickTimestamp=function(){var e=(new Date).getTime();this._nextTickTimestamp=e+1e3*this.interval-1},n.prototype.createTimer=function(e,n,r){this._timers[e]=new t(e,n,r)},n.prototype.destroyTimer=function(e){delete this._timers[e]},n.prototype.resumeTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(r,"#resumeTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!0,t&&n.reset())},n.prototype.pauseTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(r,"#pauseTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!1,t&&n.reset())},n.prototype.isTimerPaused=function(e){var t=this._timers[e];return!!t&&!t.isActive},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},n.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(t.interval>1&&this._logger.debug(r,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=i&&t.repeatCount--):this.destroyTimer(t.name))}};var r="service.clock::TimerManager",i=-1,a=.25,o=1e3*a;e.clock.TimerDescriptor=t,e.clock.TimerManager=n}(i),function(e,t,n){"use strict";function r(e){if(r.__super__.constructor.call(this,s),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new i(this,this._logger),this._setupDataResolver()}var i=n.clock.TimerManager,a=t.StringUtils,o=e.plugin.BasePlugin;e.extend(r,o),r.prototype.bootstrap=function(e){r.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,c,this._cmdCreate),this._pluginManager.comply(this,l,this._cmdResume),this._pluginManager.comply(this,u,this._cmdPause),this._pluginManager.comply(this,d,this._cmdDestroy)},r.prototype._teardown=function(){this._timerManager.destroy()},r.prototype._cmdCreate=function(e){var t=e[f]||v;this._timerManager.createTimer(e[p],e[h],t)},r.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[p],!!e[m])},r.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[p],!!e[m])},r.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[p])},r.prototype.onTick=function(e,t,n){e+=".tick";var r={};r[p]=e,r[h]=t,r[g]=n,this._trigger(e,r)},r.prototype._setupDataResolver=function(){var e={},t=this._timerManager;e[_]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];if(n=n||{},a.startsWith(i,_)){var o=i.split(_+".");o.length>0&&(n[i]=e[_].call(this,o[1]))}}return n}};var s="service.clock",c="create",u="pause",l="resume",d="destroy",p="name",h="interval",f="repeat_count",g="tick",m="reset",_="is_paused",v=-1;n.clock.ClockService=r}(r,t,i),function(e,t,n){"use strict";function r(e,t){if(this._logger=new i,this._pluginManager=new a(this._logger),this._pluginManager.addPlugin(new o(this._logger)),t)for(var n=0;n<t.length;n++)this._pluginManager.addPlugin(t[n]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var i=e.Logger,a=e.plugin.PluginManager,o=t.clock.ClockService;r.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");e.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(s,"Instance is destroyed.")},r.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var s="Heartbeat";n.Heartbeat=r}(r,i,n),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=r),e.ADB.va||(e.ADB.va=n),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),function(e){if(void 0===t)var t={};!function(e){"use strict";var t={ASSET_TYPE_VOD:"vod",ASSET_TYPE_LIVE:"live",ASSET_TYPE_LINEAR:"linear"};e.AssetType=t}(t),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null,this.granularTracking=!0}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position+", granularTracking="+this.granularTracking},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.mediaType=null,this.streamType=null,this.resumed=!1}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", mediaType="+this.mediaType+", streamType="+this.streamType+", resumed="+this.resumed},e.VideoInfo=t}(t),function(e){"use strict";function t(){this.debugLogging=!1}e.VideoPlayerPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){"use strict";function n(e){if(n.__super__.constructor.call(this,s),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var r=e.plugin.ParamMapping,i=e.Trigger,a=e.plugin.BasePlugin,o=t.VideoPlayerPluginConfig;e.extend(n,a),n.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof o))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");e.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+e.debugLogging+")")},n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},n.prototype._cmdVideoIdleStart=function(){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},n.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(g),this._trigger(m),e.isInAd&&(this._trigger(E),this._isTrackingAdBreak=!0),e.isInAd&&(this._trigger(T),this._isTrackingAd=!0),e.isInChapter&&this._trigger(M),this._trigger(b)),this._videoIdle=!1},n.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(g),this._isTrackingSessionStarted=!0;var e=this._dataResolver(["video.resumed"]);e.hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(m)}},n.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._isTrackingAdBreak=!1,this._isTrackingAd=!1,this._contentStarted=!1,this._isPaused=!0,this._isBuffering=!1,this._isSeeking=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._trigger(p),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},n.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(h),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._contentStarted=!1}},n.prototype.beginReporting=function(){this._logger.info(this._logTag,"#beginReporting()"),this._canProcess()&&this._startSessionIfNeeded("beginReporting")&&this._trigger(B)},n.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._allowPlayerStateChange()&&(this._isPaused=!1,this._trigger(b),this._startPlayheadTimer())},n.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._allowPlayerStateChange()){this._stopPlayheadTimer();var e={};e[U]=!1,this._isPaused=!0,this._trigger(I,e)}},n.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isBuffering=!0,this._trigger(P))},n.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._allowPlayerStateChange()&&(this._isBuffering=!1,this._trigger(C),this._startPlayheadTimer())},n.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isSeeking=!0,this._trigger(D))},n.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._allowPlayerStateChange()&&(this._isSeeking=!1,this._trigger(N),this._startPlayheadTimer())},n.prototype.trackComplete=function(e,t){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){if(this._stopPlayheadTimer(),this._videoIdle)return this._logger.info(this._logTag,"#trackComplete() > Video session is already in Idle State."),void(e&&e());var n={};n[F]=e,(t=void 0===t||!!t)?this._trigger(_,n):(this._trigger(v),this._trigger(f,n))}},n.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(y,e)},n.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(M)},n.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"#trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(O)},n.prototype.trackChapterSkip=function(){this._logger.info(this._logTag,"#trackChapterSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterSkip")&&this._trigger(x)},n.prototype.trackAdBreakStart=function(){this._logger.info(this._logTag,"#trackAdBreakStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakStart")&&(this._trigger(E),this._isTrackingAdBreak=!0)},n.prototype.trackAdBreakComplete=function(){this._logger.info(this._logTag,"#trackAdBreakComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakComplete")&&(this._trigger(k),this._isTrackingAdBreak=!1)},n.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(T),this._isTrackingAd=!0)},n.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(A),this._isTrackingAd=!1)},n.prototype.trackAdSkip=function(){this._logger.info(this._logTag,"#trackAdSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackAdSkip")&&(this._trigger(w),this._isTrackingAd=!1)},n.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(R)},n.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[q]=d,t[H]=e,this._trigger(L,t)}},n.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[q]=l,t[H]=e,this._trigger(L,t)}},n.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},n.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new i(u,V),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new i(u,j),this,"handleVideoIdleResume",[new r(c,"ad.isInAdBreak","isInAdBreak"),new r(c,"ad.isInAd","isInAd"),new r(c,"chapter.isInChapter","isInChapter")])},n.prototype._setupDataResolver=function(){function e(){return o.video||(o.video=s._delegate.getVideoInfo(),s._logger.info(s._logTag,"Data from delegate > VideoInfo: "+o.video)),o.video}function t(){return o.ad||(o.ad=s._delegate.getAdInfo(),s._logger.info(s._logTag,"Data from delegate > AdInfo: "+o.ad)),o.ad}function n(){return o.pod||(o.pod=s._delegate.getAdBreakInfo(),s._logger.info(s._logTag,"Data from delegate > AdBreakInfo: "+o.pod)),o.pod}function r(){return o.chapter||(o.chapter=s._delegate.getChapterInfo(),s._logger.info(s._logTag,"Data from delegate > ChapterInfo: "+o.chapter)),o.chapter}function i(){return o.qos||(o.qos=s._delegate.getQoSInfo(),s._logger.info(s._logTag,"Data from delegate > QoSInfo: "+o.qos)),o.qos}var a={},o={},s=this;a["video.id"]=function(){var t=e(),n=t?t.id:null;return s._logger.debug(s._logTag,"Resolving video.id: "+n),n},a["video.name"]=function(){var t=e(),n=t?t.name:null;return s._logger.debug(s._logTag,"Resolving video.name: "+n),n},a["video.length"]=function(){var t=e(),n=t?t.length:NaN;return s._logger.debug(s._logTag,"Resolving video.length: "+n),n},a["video.playerName"]=function(){var t=e(),n=t?t.playerName:null;return s._logger.debug(s._logTag,"Resolving video.playerName: "+n),n},a["video.mediaType"]=function(){var t=e(),n=t?t.mediaType:null;return s._logger.debug(s._logTag,"Resolving video.mediaType: "+n),n},a["video.streamType"]=function(){var t=e(),n=t?t.streamType:null;return s._logger.debug(s._logTag,"Resolving video.streamType: "+n),n},a["video.playhead"]=function(){var t=e(),n=t?t.playhead:NaN;return s._logger.debug(s._logTag,"Resolving video.playhead: "+n),n},a["video.resumed"]=function(){var t=e(),n=!!t&&t.resumed;return s._logger.debug(s._logTag,"Resolving video.resumed: "+n),n},a["video.playheadStalled"]=function(){return this._playheadStalled},a["pod.name"]=function(){var e=n(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving pod.name: "+t),t},a["pod.playerName"]=function(){var e=n(),t=e?e.playerName:null;return s._logger.debug(s._logTag,"Resolving pod.playerName: "+t),t},a["pod.position"]=function(){var e=n(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving pod.position: "+t),t},a["pod.startTime"]=function(){var e=n(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving pod.startTime: "+t),t},a["ad.isInAd"]=function(){var e=null!=t();return s._logger.debug(s._logTag,"Resolving ad.isInAd: "+e),e},a["ad.isInAdBreak"]=function(){var e=null!=n();return s._logger.debug(s._logTag,"Resolving ad.isInAdBreak: "+e),e},a["ad.id"]=function(){var e=t(),n=e?e.id:null;return s._logger.debug(s._logTag,"Resolving ad.id: "+n),n},a["ad.name"]=function(){var e=t(),n=e?e.name:null;return s._logger.debug(s._logTag,"Resolving ad.name: "+n),n},a["ad.length"]=function(){var e=t(),n=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving ad.length: "+n),n},a["ad.position"]=function(){var e=t(),n=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving ad.position: "+n),n},a["ad.granularTracking"]=function(){var e=t(),n=!!e&&e.granularTracking;return s._logger.debug(s._logTag,"Resolving ad.granularTracking: "+n),n},a["ad.trackingInterval"]=function(){var e=K
;return s._logger.debug(s._logTag,"Resolving ad.trackingInterval: "+e),e},a["chapter.isInChapter"]=function(){var e=null!=r();return s._logger.debug(s._logTag,"Resolving chapter.isInChapter: "+e),e},a["chapter.name"]=function(){var e=r(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving chapter.name: "+t),t},a["chapter.length"]=function(){var e=r(),t=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving chapter.length: "+t),t},a["chapter.position"]=function(){var e=r(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving chapter.position: "+t),t},a["chapter.startTime"]=function(){var e=r(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving chapter.startTime: "+t),t},a["qos.bitrate"]=function(){var e=i(),t=e?e.bitrate:NaN;return s._logger.debug(s._logTag,"Resolving qos.bitrate: "+t),t},a["qos.fps"]=function(){var e=i(),t=e?e.fps:NaN;return s._logger.debug(s._logTag,"Resolving qos.fps: "+t),t},a["qos.droppedFrames"]=function(){var e=i(),t=e?e.droppedFrames:NaN;return s._logger.debug(s._logTag,"Resolving qos.droppedFrames: "+t),t},a["qos.startupTime"]=function(){var e=i(),t=e?1e3*e.startupTime:NaN;return s._logger.debug(s._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;o={};for(var t=null,n=0;n<e.length;n++){var r=e[n];(t=t||{})[r]=a.hasOwnProperty(r)?a[r].call(this):null}return t}},n.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(I)))},n.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,!this._playheadStalled||this._isPaused||this._isSeeking||this._isBuffering||(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(b)))},n.prototype._startPlayheadTimer=function(){var e=this;this._playheadTimer||this._isPaused||this._isSeeking||this._isBuffering||(this._playheadTimer=setInterval((function(){if(e._canProcess()){var t=e._dataResolver(["ad.isInAd","video.playhead"]);if(e._isTrackingAdBreak)e._playheadStalled&&e._trackExitStall();else{var n=t["video.playhead"];n!=e._previousPlayhead?e._trackExitStall():e._previousPlayhead>=0&&n==e._previousPlayhead&&++e._stalledPlayheadCount==G&&e._trackPlayheadStall(),n!=e._previousPlayhead&&n>0&&!e._contentStarted&&(e._isPaused||e._isBuffering||e._isSeeking||(e._logger.info(e._logTag,"#_playheadTimer playhead progress to: "+n),e._trigger(S),e._contentStarted=!0)),e._previousPlayhead=n}}}),Y))},n.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},n.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)},n.prototype._allowPlayerStateChange=function(){return!(this._isTrackingAdBreak&&!this._isTrackingAd&&(this._logger.info(this._logTag,"_allowPlayerStateChange Player plugin does not allow player state changes when in Adbreak and not in Ad."),1))};var s="player",c=s,u="adobe-heartbeat",l="sourceErrorExternal",d="sourceErrorSDK",p="video_load",h="video_unload",f="video_session_end",g="video_start",m="video_resume",_="video_complete",v="video_skip",y="timed_metadata",b="play",I="pause",S="content_start",E="adbreak_start",k="adbreak_complete",T="ad_start",A="ad_complete",w="ad_skip",P="buffer_start",C="buffer_complete",D="seek_start",N="seek_complete",M="chapter_start",O="chapter_complete",x="chapter_skip",R="bitrate_change",L="track_error",V="video_idle_start",j="video_idle_resume",B="video_begin_reporting",F="callback",U="filter_report",q="source",H="error_id",Y=1001,K=1,G=2;t.VideoPlayerPlugin=n}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),function(e){if(void 0===t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";function n(e,t,n,r,i){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!i)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+n,this._logger=i,this._isDestroyed=!1,this._createTimer(n,r),this._installHandlers()}var r=e.Event;n.KEY_NAME="name",n.KEY_INTERVAL="interval",n.KEY_RESET="reset",n.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[n.KEY_NAME]=i+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(a,c,t)},n.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[n.KEY_NAME]=i+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(a,s,t)},n.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[n.KEY_NAME]=i+"."+this._name,this._pluginManager.command(a,u,e)}},n.prototype.setInterval=function(e){var t=l+"."+i+"."+this._name,n=this._pluginManager.request(a,[t])[t];this.pause(!0),this._createTimer(this._name,e),n||this.resume(!0)},n.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.resume(t)},n.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.pause(t)},n.prototype._onTick=function(e,t){this._channel.trigger(new r("clock:"+this._name+".tick",t))},n.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(a,i+"."+this._name+".tick",this._onTick,this)},n.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},n.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var r={};r[n.KEY_NAME]=i+"."+this._name,r[n.KEY_INTERVAL]=this._interval,this._pluginManager.command(a,o,r)};var i="heartbeat",a="service.clock",o="create",s="pause",c="resume",u="destroy",l="is_paused";t.clock.Timer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,r){n.__super__.constructor.call(this,e,t,a,s,r)}var r=e.Event,i=t.clock.Timer;e.extend(n,i),n.prototype._onCheckStatusComplete=function(e){var t=e.data[d];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");t>o?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(o)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s)},n.prototype._getSettings=function(){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new r(c))},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(u,this._getSettings,this),this._channel.on(l,this._onCheckStatusComplete,this),this._channel.reply(d,(function(){return this._interval}),this)};var a="check_status",o=600,s=180,c="clock:check_status.tick",u="clock:check_status.get_settings",l="net:check_status_complete",d="check_status_interval";t.clock.CheckStatusTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,r){n.__super__.constructor.call(this,e,t,i,a,r),this._doNotOverrideInterval=!1}var r=t.clock.Timer;e.extend(n,r),n.prototype._onCheckStatusComplete=function(e){var t=e.data[o];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),this._doNotOverrideInterval)this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed. (doNotOverrideInterval = true)");else if(t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(a)},n.prototype._onUpdateReportingInterval=function(e){var t=e.data[o];if(this._doNotOverrideInterval=!!e.data[s],this._logger.debug(this._logTag,"#_onUpdateReportingInterval(interval="+t+", doNotOverrideInterval="+this._doNotOverrideInterval+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval value not changed.");this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onUpdateReportingInterval() > Invalid interval value."),this.setInterval(a)},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(u,this._onCheckStatusComplete,this),this._channel.on(c,this._onUpdateReportingInterval,this),this._channel.reply(o,(function(){return this._interval}),this)};var i="reporting",a=10,o="reporting_interval",s="do_not_override_interval",c="reporting:update_interval",u="net:check_status_complete";t.clock.ReportingTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,r){n.__super__.constructor.call(this,e,t,i,a,r)}var r=t.clock.Timer;e.extend(n,r);var i="idle",a=1800;t.clock.IdleTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,r){n.__super__.constructor.call(this,e,t,i,a,r)}var r=t.clock.Timer;e.extend(n,r);var i="flush_filter",a=.25;t.clock.FlushFilterTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!n)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new a(e,t,n),this._checkStatusTimer=new r(e,t,n),this._flushFilterTimer=new i(e,t,n),this._idleTimer=new o(e,t,n)}var r=t.clock.CheckStatusTimer,i=t.clock.FlushFilterTimer,a=t.clock.ReportingTimer,o=t.clock.IdleTimer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},t.clock.Clock=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this.value=e,this.hint=t}function r(e){this.realm=e,this.data={}}n.HINT_SHORT="short",r.prototype.setField=function(e,t,r){this.data[e]=new n(t,r)},r.prototype._createAccessor=function(e,t,n){var r=this;return function(){return arguments.length&&(r[e]=arguments[0],r.setField(t,arguments[0],n)),r[e]}},t.model.Dao=r,t.model.DaoField=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var r=t.model.Dao;e.extend(n,r),t.model.AdDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",i.HINT_SHORT),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var r=t.model.Dao,i=t.model.DaoField;e.extend(n,r),t.model.AdobeAnalyticsDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var r=t.model.Dao;e.extend(n,r),t.model.ChapterDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new i(e.adData()):null;this.adData(t);var r=e.chapterData()?new a(e.chapterData()):null;this.chapterData(r)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var r=t.model.Dao,i=t.model.AdDao,a=t.model.ChapterDao;e.extend(n,r),n.TYPE_AD="ad",n.TYPE_MAIN_CONTENT="main",t.model.AssetDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var r=t.model.Dao;e.extend(n,r),n.EVENT_TYPE_AA_START="aa_start",n.EVENT_TYPE_AA_AD_START="aa_ad_start",n.EVENT_TYPE_START="start",n.EVENT_TYPE_RESUME="resume",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_CHAPTER_SKIP="chapter_skip",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_STALL="stall",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_COMPLETE="complete",n.EVENT_TYPE_SKIP="skip",n.EVENT_TYPE_END="end",t.model.EventDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var r=t.model.Dao;e.extend(n,r),t.model.QoSDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(i),this.sdk(i),this.channel(i),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var r=t.model.Dao;e.extend(n,r);var i="unknown";t.model.ServiceProviderDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var r=t.model.Dao;e.extend(n,r),t.model.SessionDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type())}else this.type(null)}var r=t.model.Dao;e.extend(n,r),t.model.StreamDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var r=t.model.Dao;e.extend(n,r),t.model.UserDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.audienceManagerBlob(e.audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var r=t.model.Dao;e.extend(n,r),t.model.AudienceManagerDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n,c,u){this.eventData=new i,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(n),this.assetData=new a(e._assetData),this.streamData=new o(e._streamData),this.qosData=new s(e._qosData),this.cuserData=r.clone(e._cuserData),this.meta=c,this.callback=u,this.filterReport=!0}var r=e.ObjectUtils,i=t.model.EventDao,a=t.model.AssetDao,o=t.model.StreamDao,s=t.model.QoSDao;t.model.TrackItem=n}(e.ADB.va.utils,t),function(e,t){"use strict";function n(e,t,n,c,u,l){this.adobeAnalyticsData=e,this.userData=t,this.aamData=n,this.serviceProviderData=c,this.sessionData=u,this.eventData=new i(l.eventData),this.assetData=new a(l.assetData),this.streamData=new o(l.streamData),this.qosData=new s(l.qosData),this.cuserData=r.clone(l.cuserData),this.meta=r.clone(l.meta),this.callback=l.callback,this.filterReport=l.filterReport}var r=e.ObjectUtils,i=t.model.EventDao,a=t.model.AssetDao,o=t.model.StreamDao,s=t.model.QoSDao;t.model.CUserDao,t.model.Report=n}(e.ADB.va.utils,t),function(e){"use strict";function t(){}t.prototype.serializeReport=function(){},t.prototype.serializeDao=function(){},t.prototype.serializeMap=function(){},t.prototype.serializeNumber=function(){},t.prototype.serializeString=function(){},e.model.ISerializer=t}(t),function(e,t){"use strict";function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var r=t.model.Dao,i=t.model.DaoField,a=t.model.ISerializer;e.extend(n,a),n.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeDao(e.aamData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter((function(e){return!!e})).join("&"),callback:e.callback}},n.prototype.serializeDao=function(e){return this._processDao(e).filter((function(e){return!!e})).join("&")},n.prototype.serializeMap=function(e,t){var n=[],r=t||"meta";for(var i in e)e.hasOwnProperty(i)&&e[i]&&n.push("s:"+r+":"+i+"="+window.encodeURIComponent(e[i]));return n.join("&")},n.prototype.serializeNumber=function(e,t,n,r){var a=s;return null==t||isNaN(t)?null:(r===i.HINT_SHORT&&(a=c),a+":"+n+":"+e+"="+Math.floor(t))},n.prototype.serializeString=function(e,t,n){return t?u+":"+n+":"+e+"="+window.encodeURIComponent(t):null},n.prototype._processDao=function(e){var t=[];for(var n in e.data)if(e.data.hasOwnProperty(n)){var i=e.data[n],a=i.value,s=i.hint,c=null,u=e.realm;if(null==a)continue;"number"==typeof a?c=this.serializeNumber(n,a,u,s):"string"==typeof a?c=this.serializeString(n,a,u,s):a instanceof r?c=this.serializeDao(a):this._logger.warn(o,"#_processDao() > Unable to serialize DAO. Field: "+n+". Value: "+a+"."),c&&t.push(c)}return t};var o="ah::QuerystringSerializer",s="l",c="h",u="s";t.model.QuerystringSerializer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}n.prototype.parse=function(){var e,t,n,u,l,d,p;window.DOMParser?d=(new window.DOMParser).parseFromString(this._data,"text/xml"):((d=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,d.loadXML(this._data)),(p=parseInt(d.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10))&&(e=p),(p=parseInt(d.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10))&&(t=p),(p=parseInt(d.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10))&&(n=1==p),d.getElementsByTagName("trackingDisabled")[0]&&(u=1==(p=parseInt(d.getElementsByTagName("trackingDisabled")[0].childNodes[0].nodeValue,10))),l=!d.getElementsByTagName("nielsenEnabled")[0]||1==(p=parseInt(d.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10));var h={};return h[i]=e,h[a]=t,h[o]=n,h[c]=u,h[s]=l,this._logger.debug(r,"#parse() > Obtained configuration settings."),h};var r="ah::SettingsParser",i="reporting_interval",a="check_status_interval",o="track_external_errors",s="nielsen_enabled",c="tracking_disabled";t.network.SettingsParser=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._beginReporting=!1,this._sendingRequest=!1,this._requestsQueue=[],this._quietMode=!1,this._prevReportSent=null,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new c(t),this._installEventListeners()}var r=e.Event,i=e.URLRequestMethod,a=e.URLRequest,o=e.URLLoader,s=t.network.SettingsParser,c=t.model.QuerystringSerializer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(u,"#destroy()"),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(u,"#_onApiConfig(sb_server="+t[l]+", check_status_server="+t[d]+", publisher="+t[p]+", quiet_mode="+t[h]+", ssl="+t[f]+")"),this._trackingServer=this._updateRequestProtocol(t[l],t[f]),this._checkStatusServer=this._updateRequestProtocol(t[d],t[f]),this._publisher=t[p],this._quietMode=t[h],this._isConfigured=!0},n.prototype._onBeginReporting=function(){this._logger.debug(u,"#_onBeginReporting()"),this._beginReporting=!0,this._sendNextRequest(),this._onClockCheckStatusTick()},n.prototype._onFilterReportAvailable=function(e){var t=e.data;if(this._isConfigured){var n=t[g];if(this._prevReportSent&&this._prevReportSent.eventData&&n.eventData&&this._prevReportSent.eventData.playhead==n.eventData.playhead&&this._prevReportSent.eventData.ts==n.eventData.ts&&this._prevReportSent.eventData.prevTs==n.eventData.prevTs&&this._prevReportSent.eventData.type==n.eventData.type)this._logger.debug(u,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+i);else{this._prevReportSent=n;var r=this._serializer.serializeReport(n),i=this._trackingServer+"/?"+r.serializedOutput;this._processRequest(i,r.callback)}}else this._logger.warn(u,"#_onFilterReportAvailable() > Unable to send request: not configured.")},n.prototype._processRequest=function(e,t){this._requestsQueue.push({url:e,callback:t}),this._sendNextRequest()},n.prototype._sendNextRequest=function(){if(this._beginReporting)if(this._sendingRequest)this._logger.debug(u,"#_sendNextRequest() > Exiting as we are currently sending a request.");else{var e=this._requestsQueue.shift();if(e){this._sendingRequest=!0,this._logger.debug(u,"#_sendNextRequest() > "+e.url);var t=this,n=new o,s=function(){n.close(),e.callback&&e.callback.call(null),t._sendingRequest=!1,t._sendNextRequest()},c=function(){s()},l=function(){t._logger.warn(u,"#_onFilterReportAvailable() > Failed to send heartbeat report."),s()};if(!this._quietMode){n.addEventListener(r.SUCCESS,c,this),n.addEventListener(r.ERROR,l,this);var d=new a(e.url,i.GET);n.load(d)}}else this._logger.debug(u,"#_sendNextRequest() > Exiting as we have no requests to send.")}else this._logger.debug(u,"#_sendNextRequest() > Exiting as we have not started reporting.")},n.prototype._onClockCheckStatusTick=function(){function e(e){if(e.data){var t=new s(e.data.response,n._logger).parse();t?n._channel.trigger(new r(b,t)):n._logger.warn(u,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}p.close()}function t(){n._logger.warn(u,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),p.close()}if(this._isConfigured)if(this._publisher)if(this._beginReporting){var n=this,c=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+c+".xml?r="+(new Date).getTime(),d=new a(l,i.GET),p=new o;p.addEventListener(r.SUCCESS,e,this),p.addEventListener(r.ERROR,t,this),this._logger.debug(u,"#_onClockCheckStatusTick() > Get new settings from: "+l),p.load(d)}else this._logger.debug(u,"#_onClockCheckStatusTick() > Exiting as we have not started reporting.");else this._logger.warn(u,"#_onClockCheckStatusTick() > Publisher is NULL.");else this._logger.warn(u,"#_onClockCheckStatusTick() > Unable to send request: not configured.")},n.prototype._updateRequestProtocol=function(e,t){var n=e;return 0===n.indexOf("http://")?n=n.slice(7):0===n.indexOf("https://")&&(n=n.slice(8)),t?"https://"+n:"http://"+n},n.prototype._installEventListeners=function(){this._channel.on(m,this._onApiConfig,this),this._channel.on(_,this._onBeginReporting,this),this._channel.on(v,this._onFilterReportAvailable,this),this._channel.on(y,this._onClockCheckStatusTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var u="ah::Network",l="tracking_server",d="check_status_server",p="publisher",h="quiet_mode",f="ssl",g="report",m="api:config",_="api:video_begin_reporting",v="filter:data_available",y="clock:check_status.tick",b="net:check_status_complete";t.network.Network=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new c,this._installEventListeners()}function r(e){var t=[];return e&&e.forEach((function(e){e.eventData.type()==l.EVENT_TYPE_PAUSE||e.eventData.type()==l.EVENT_TYPE_STALL||e.eventData.type()==l.EVENT_TYPE_BUFFER?(!e.filterReport||e.eventData.duration()>b)&&t.push(e):t.push(e)})),t}function i(e){var t=-1,n=-1,r=[];return e.forEach((function(e){e.eventData.type()==l.EVENT_TYPE_START?e.assetData.type()==d.TYPE_MAIN_CONTENT?-1==t?t=r.push(e)-1:(e.eventData.prevTs(-1),r[t]=e):-1==n?n=r.push(e)-1:(e.eventData.prevTs(-1),r[n]=e):r.push(e)})),r}function a(e){var t=[];return e.forEach((function(n){if(n.eventData.type()==l.EVENT_TYPE_PLAY){if(n.eventData.duration()>y)t.push(n);else if(0==n.eventData.duration()&&n.assetData.type()==d.TYPE_MAIN_CONTENT){var r=o(e);r.indexOf(n)==r.length-1&&t.push(n)}}else t.push(n)})),t}function o(e){var t=[];return e.forEach((function(e){e.eventData.type()!=l.EVENT_TYPE_PLAY&&e.eventData.type()!=l.EVENT_TYPE_BUFFER&&e.eventData.type()!=l.EVENT_TYPE_START||t.push(e)})),t}var s=e.radio.Command,c=e.radio.CommandQueue,u=e.Event,l=t.model.EventDao,d=t.model.AssetDao;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(S,"#destroy()"),this._uninstallEventListeners(),this.clear())},n.prototype.clear=function(){this._logger.debug(S,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},n.prototype.flush=function(){this._workQueue.addCommand(new s(this._flushBufferReport,this))},n.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[m];if(t){var n=t.sessionData.sessionId();this._reportBuffer[n]=this._reportBuffer[n]||[],this._reportBuffer[n].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var r={};r[g]=!0,r[_]=1,this._channel.command(v,r)}}},n.prototype._flushBufferReport=function(){function e(e){if(e)for(var n=0;n<e.length;n++){var r=e[n],i=r.sessionData.sessionId();t._tsHistory[i]=t._tsHistory[i]||{};var a=r.eventData.type()+"."+(r.assetData.type()==d.TYPE_AD?r.assetData.adData().adId():r.assetData.videoId());t._tsHistory[i].hasOwnProperty(a)&&r.eventData.prevTs(t._tsHistory[i][a]),t._tsHistory[i][a]=r.eventData.ts()}}if(!this._isDestroyed){var t=this;for(var n in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(n)){var o=a(i(r(this._reportBuffer[n])));e(o);for(var s=0;s<o.length;s++){var c=o[s],l={};l[m]=c,this._channel.trigger(new u(h,l))}}this._reportBuffer={};var p=this._channel.request(I),f=this._tsHistory[p]||{};this._tsHistory={},this._tsHistory[p]=f,this._isBufferingInProgress=!1}},n.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new s(this._bufferReport,this,[t]))},n.prototype._onClockFlushFilterTick=function(){this.flush()},n.prototype._installEventListeners=function(){this._channel.on(p,this._onContextReportAvailable,this),this._channel.on(f,this._onClockFlushFilterTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var p="context:report_available",h="filter:data_available",f="clock:flush_filter.tick",g="reset",m="report",_="repeat_count",v="clock:flush_filter.resume",y=250,b=250,I="session_id",S="ah::ReportFilter";t.filter.ReportFilter=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var r=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){
var r=t[n];switch(r){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!e.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===e.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!e.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+r)}}return!0},n.prototype._fail=function(e){var t=new r("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=n}(e.ADB.va,t),function(e,t){"use strict";function n(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e}var r=t.model.Report;n.prototype.createReportForItem=function(e){return this._logger.debug(i,"Creating report for item: "+e.eventData.type()),new r(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,e)};var i="ah::ReportFactory";t.context.ReportFactory=n}(e.ADB.core,t),function(e,t,n,r){"use strict";function i(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._stashedMainMetadata=null,this._autoComputedStartupTime=0,this._reportingInterval=pe,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new u,this._serviceProviderData=new l,this._userData=new d,this._aamData=new p,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new b(this,this._logger),this._inputDataValidator=new I((function(e){this._logger.error(S,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new s(k,e))}),this),this._trackExternalErrors=!0,this._installEventListeners()}var a=n.md5,o=n.ObjectUtils,s=e.Event,c=r.model.SessionDao,u=r.model.AdobeAnalyticsDao,l=r.model.ServiceProviderDao,d=r.model.UserDao,p=r.model.AudienceManagerDao,h=r.model.EventDao,f=r.model.AssetDao,g=r.model.StreamDao,m=r.model.QoSDao,_=r.model.AdDao,v=r.model.ChapterDao,y=r.model.TrackItem,b=r.context.ReportFactory,I=r.context.InputDataValidator;i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(S,"#destroy()"),this._uninstallEventListeners())},i.prototype._onApiAnalyticsStart=function(e){this._logger.debug(S,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),this._aamData.audienceManagerBlob(t.blob),this._aamData.audienceManagerLocationHint(t.loc_hint),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[D]);n.assetData.adData(null),n.assetData.type(f.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(n)}},i.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(S,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[D]);this._sendHit(n)}},i.prototype._onApiVideoLoad=function(e){var t=e.data;this._logger.debug(S,"#_onApiVideoLoad(rsid="+t.rsid+", aa_trackingServer="+t.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(t,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},i.prototype._onApiVideoUnload=function(){this._logger.debug(S,"#_onApiVideoUnload()"),this._isTrackingSessionActive?this._isTrackingSessionActive=!1:this._logger.debug(S,"#_onApiVideoUnload() > No active tracking session.")},i.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._lastInBandItem=null,this._stashedLastInBandItem=null,this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._serviceProviderData.playerName(t.playerName),this._assetData.adData(null),this._assetData.chapterData(null),this._assetData.videoId(t.videoId),this._assetData.length(t.videoLength),this._assetData.type(f.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var n=t.metaNielsen?o.merge(t.metaVideo,t.metaNielsen):t.metaVideo,r=new y(this,h.EVENT_TYPE_START,t.playhead,n,t._eventData[D]);this._sendHit(r)}},i.prototype._onApiVideoResume=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiVideoResume(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._assetData.videoId(t.videoId),this._assetData.length(t.videoLength),this._assetData.type(f.TYPE_MAIN_CONTENT),this._assetData.name(t.videoName),this._streamData.type(t.streamType);var n=new y(this,h.EVENT_TYPE_RESUME,t.playhead,null,t._eventData[D]);this._sendHit(n)}},i.prototype._onApiVideoSessionEnd=function(e){this._logger.debug(S,"#_onApiVideoSessionEnd()");var t=e.data;if(this._checkCall("_onApiVideoSessionEnd")&&this._inputDataValidator.validateFields(t,["playhead"])){var n=new y(this,h.EVENT_TYPE_END,t.playhead,null,t._eventData[D]);n.assetData.adData(null),n.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(n)}},i.prototype._onApiVideoComplete=function(e){this._logger.debug(S,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var n=new y(this,h.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[D]);this._sendHit(n),this._isVideoComplete=!0}},i.prototype._onApiVideoSkip=function(e){this._logger.debug(S,"#_onApiVideoSkip()");var t=e.data;if(this._checkCall("_onApiVideoSkip")){var n=new y(this,h.EVENT_TYPE_SKIP,t.playhead,null,t._eventData[D]);this._sendHit(n),this._isVideoComplete=!0}},i.prototype._onApiPlay=function(e){this._logger.debug(S,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[D]);this._sendHit(n)}},i.prototype._onApiPause=function(e){this._logger.debug(S,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=t.playheadStalled?h.EVENT_TYPE_STALL:h.EVENT_TYPE_PAUSE,r=new y(this,n,t.playhead,null,t._eventData[D]);t._eventData.hasOwnProperty(N)&&(r.filterReport=t._eventData[N]),this._sendHit(r)}},i.prototype._onApiBufferStart=function(e){this._logger.debug(S,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[D]);this._sendHit(n)}},i.prototype._onApiAdBreakStart=function(e){this._logger.debug(S,"#_onApiAdBreakStart()");var t=e.data;this._checkCall("_onApiAdBreakStart")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._flushLastInbandItem(t),this._updateLastInbandItemToBuffering())},i.prototype._onApiAdBreakComplete=function(e){this._logger.debug(S,"#_onApiAdBreakComplete()");var t=e.data;this._checkCall("_onApiAdBreakComplete")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._flushLastInbandItem(t),this._restoreLastInbandItem())},i.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){var n=new _;n.adId(t.adId),n.adName(t.adName),n.adLength(t.adLength),n.resolver(t.podPlayerName),n.podId(a(this._assetData.videoId())+"_"+t.podPosition),n.podPosition(t.adPosition+""),n.podName(t.podName),n.podOffset(t.podSecond),n.sid(this._generateSessionId()),this._assetData.adData(n),this._assetData.type(f.TYPE_AD),this._updateQoSInfo(t);var r=o.merge(t.metaVideo,t.metaAd);r=t.metaNielsen?o.merge(r,t.metaNielsen):r,r=t.metaAdNielsen?o.merge(r,t.metaAdNielsen):r;var i=new y(this,h.EVENT_TYPE_START,t.playhead,r,t._eventData[D]);if(this._sendHit(i),this._restoreLastInbandItem(),t.adGranularTracking){var s=t.adTrackingInterval?t.adTrackingInterval:this._reportingInterval;this._updateReportingInterval(s,!0)}}},i.prototype._onApiAdComplete=function(e){this._logger.debug(S,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=f.TYPE_AD)return void this._logger.warn(S,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[D]);this._sendHit(n),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},i.prototype._onApiAdSkip=function(e){this._logger.debug(S,"#_onApiAdSkip()");var t=e.data;if(this._checkCall("_onApiAdSkip")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=f.TYPE_AD)return void this._logger.warn(S,"#_onApiAdSkip() > Ignoring the ad skip event, because we are no longer in an ad.");this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_SKIP,t.playhead,null,t._eventData[D]);this._sendHit(n),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},i.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var n=new v;n.id(a(this._assetData.videoId())+"_"+t.chapterPosition),n.name(t.chapterName),n.length(t.chapterLength),n.position(t.chapterPosition),n.offset(t.chapterOffset),n.sid(this._generateSessionId()),this._assetData.chapterData(n),this._updateQoSInfo(t);var r=o.merge(t.metaVideo,t.metaChapter),i=new y(this,h.EVENT_TYPE_CHAPTER_START,t.playhead,r,t._eventData[D]);i.assetData.adData(null),i.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(i)}},i.prototype._onApiChapterComplete=function(e){this._logger.debug(S,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(S,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[D]);n.assetData.adData(null),n.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(n),this._assetData.chapterData(null)}},i.prototype._onApiChapterSkip=function(e){this._logger.debug(S,"#_onApiChapterSkip()");var t=e.data;if(this._checkCall("_onApiChapterSkip")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(S,"#_onApiChapterSkip() > Ignoring the chapter skip event, because we are no longer in a chapter.");this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_CHAPTER_SKIP,t.playhead,null,t._eventData[D]);n.assetData.adData(null),n.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(n),this._assetData.chapterData(null)}},i.prototype._onApiBitrateChange=function(e){this._logger.debug(S,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[D]);this._sendHit(n)}},i.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),this._isTrackingSessionActive){if(this._trackExternalErrors||t._eventData.source===E){this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_ERROR,0,null,t._eventData[D]);n.eventData.id(t._eventData.error_id),n.eventData.source(t._eventData.source),this._sendHit(n)}}else this._logger.warn(S,"#_onApiTrackError() > No active tracking session.")},i.prototype._onApiTrackInternalError=function(e){var t=e.data;this._logger.debug(S,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")"),this._updateQoSInfo(t);var n=new y(this,h.EVENT_TYPE_ERROR,0);n.eventData.id(t.error_id),n.eventData.source(t.source),this._sendHit(n)},i.prototype._onApiQuantumEnd=function(e){this._logger.debug(S,"#_onApiQuantumEnd(interval="+this._channel.request(w)+")");var t=e.data;if(this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])){var n=this._lastInBandItem;if(n){this._updateQoSInfo(t);var r=new y(this,n.eventData.type(),t.playhead,n.meta,n.callback);r.filterReport=n.filterReport,this._sendHit(r,!0)}}},i.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[x],this._reportingInterval=t[R],this._reportingInterval||(this._reportingInterval=pe),this._logger.debug(S,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},i.prototype._onResetSessionId=function(){var e=this._generateSessionId();this._sessionData=new c,this._sessionData.sessionId(e),this._logger.debug(S,"#_resetSessionId(new sessionId="+e+")")},i.prototype._installEventListeners=function(){this._channel.on(V,this._onApiAnalyticsStart,this),this._channel.on(j,this._onApiAnalyticsAdStart,this),this._channel.on(B,this._onApiVideoLoad,this),this._channel.on(F,this._onApiVideoUnload,this),this._channel.on(U,this._onApiVideoStart,this),this._channel.on(q,this._onApiVideoComplete,this),this._channel.on(H,this._onApiVideoSkip,this),this._channel.on(Y,this._onApiVideoResume,this),this._channel.on(K,this._onApiVideoSessionEnd,this),this._channel.on(G,this._onApiAdBreakStart,this),this._channel.on(W,this._onApiAdBreakComplete,this),this._channel.on(z,this._onApiAdStart,this),this._channel.on(Q,this._onApiAdComplete,this),this._channel.on(J,this._onApiAdSkip,this),this._channel.on($,this._onApiPlay,this),this._channel.on(X,this._onApiPause,this),this._channel.on(Z,this._onApiBufferStart,this),this._channel.on(ee,this._onApiChapterStart,this),this._channel.on(te,this._onApiChapterComplete,this),this._channel.on(ne,this._onApiChapterSkip,this),this._channel.on(ae,this._onApiBitrateChange,this),this._channel.on(re,this._onApiTrackError,this),this._channel.on(ie,this._onApiTrackInternalError,this),this._channel.on(oe,this._onApiQuantumEnd,this),this._channel.on(ce,this._onNetworkCheckStatusComplete,this),this._channel.on(C,this._onResetSessionId,this),this._channel.reply(P,(function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null}),this)},i.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},i.prototype._resetInternalState=function(){this._logger.debug(S,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._streamData=new g,this._qosData=new m,this._sessionData=new c,this._assetData=new f,this._cuserData=null},i.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},i.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},i.prototype._checkCall=function(e){return this._isTrackingSessionActive?!this._isVideoComplete||"_onApiVideoSessionEnd"===e||(this._logger.warn(S,"#"+e+"() > The video content already completed."),!1):(this._logger.warn(S,"#"+e+"() > No active tracking session."),!1)},i.prototype._updateReportingInterval=function(e,t){var n={};n[L]=!!t,n[R]=e,this._channel.trigger(new s(ue,n))},i.prototype._updateLastInBandItem=function(e){var t=this._lastInBandItem,n=(new Date).getTime(),r=t.assetData.type()===f.TYPE_AD||e.assetData.type()===f.TYPE_AD,i=1e3*Math.abs(e.eventData.playhead()-t.eventData.playhead()),a=Math.abs(n-t.eventData.ts()),o=Math.abs(i-a),s=a;s>le?(this._logger.warn(S," Resetting duration in lastInBandItem["+t.assetData.type()+":"+t.eventData.type()+"] call to 0 as calculated duration ("+s+")exceeds 10mins"),s=0):t.eventData.type()==h.EVENT_TYPE_PLAY&&!r&&!this._doNotOverrideEventDuration&&o>de&&(s=Math.min(i,a),this._logger.warn(S," Resetting duration in lastInBandItem["+t.assetData.type()+":"+t.eventData.type()+"] call to "+s+" as calculated error delta ("+o+")exceeds 2sec")),this._doNotOverrideEventDuration=!1,t.eventData.duration(s),t.eventData.ts(n),t.eventData.playhead(e.eventData.playhead()),t.qosData.startupTime(e.qosData.startupTime()),t.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},i.prototype._updateLastInbandItemToBuffering=function(){this._stashedLastInBandItem=this._lastInBandItem;var e=0;null!=this._lastInBandItem&&(this._lastInBandItem.assetData.type()==f.TYPE_MAIN_CONTENT&&this._lastInBandItem.eventData.type()==h.EVENT_TYPE_START&&(this._stashedMainMetadata=this._lastInBandItem.meta),e=this._lastInBandItem.eventData.playhead());var t=new y(this,h.EVENT_TYPE_BUFFER,e,null,null);t.assetData.adData(null),t.assetData.type(f.TYPE_MAIN_CONTENT),this._lastInBandItem=t},i.prototype._restoreLastInbandItem=function(){if(null!=this._stashedLastInBandItem){var e=null;this._stashedLastInBandItem.eventData.type()==h.EVENT_TYPE_START&&(this._lastInBandItem.assetData.type()==f.TYPE_AD?e=this._lastInBandItem.meta:(e=this._stashedMainMetadata,this._stashedMainMetadata=null));var t=new y(this,this._stashedLastInBandItem.eventData.type(),this._stashedLastInBandItem.eventData.playhead(),e,this._stashedLastInBandItem.callback);t.filterReport=this._stashedLastInBandItem.filterReport,this._lastInBandItem=t,this._stashedLastInBandItem=null}},i.prototype._flushLastInbandItem=function(e){if(this._lastInBandItem){this._updateQoSInfo(e);var t=new y(this,this._lastInBandItem.eventData.type(),e.playhead,this._lastInBandItem.meta,this._lastInBandItem.callback);this._sendHit(t,!0)}},i.prototype._createAndSendReport=function(e){var t=this._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(this._autoComputedStartupTime);var n={};if(n[M]=t,this._channel.trigger(new s(se,n)),t.eventData.type()==h.EVENT_TYPE_START||t.eventData.type()==h.EVENT_TYPE_PLAY||t.eventData.type()==h.EVENT_TYPE_PAUSE||t.eventData.type()==h.EVENT_TYPE_STALL||t.eventData.type()==h.EVENT_TYPE_BUFFER){var r={};r[O]=!0,this._channel.command(T,r)}},i.prototype._sendHit=function(e,t){switch(e.eventData.type()){case h.EVENT_TYPE_START:case h.EVENT_TYPE_PLAY:case h.EVENT_TYPE_PAUSE:case h.EVENT_TYPE_STALL:case h.EVENT_TYPE_BUFFER:this._lastInBandItem?(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==h.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==f.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),this._createAndSendReport(this._lastInBandItem),t&&this._lastInBandItem.eventData.type()==e.eventData.type()||this._createAndSendReport(e)):this._createAndSendReport(e),this._lastInBandItem=e;break;case h.EVENT_TYPE_COMPLETE:case h.EVENT_TYPE_SKIP:if(this._lastInBandItem&&(this._updateLastInBandItem(e),this._createAndSendReport(this._lastInBandItem)),e.eventData.type()!==h.EVENT_TYPE_SKIP&&this._createAndSendReport(e),e.assetData.type()==f.TYPE_MAIN_CONTENT){this._lastInBandItem=null,this._stashedLastInBandItem=null;var n={};n[O]=!0,this._channel.command(A,n)}else e.assetData.type()==f.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(f.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case h.EVENT_TYPE_CHAPTER_START:case h.EVENT_TYPE_CHAPTER_COMPLETE:case h.EVENT_TYPE_CHAPTER_SKIP:this._lastInBandItem&&(this._updateLastInBandItem(e),this._createAndSendReport(this._lastInBandItem)),e.eventData.type()!==h.EVENT_TYPE_CHAPTER_SKIP&&this._createAndSendReport(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==h.EVENT_TYPE_CHAPTER_START?new v(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),this._createAndSendReport(this._lastInBandItem));break;default:this._createAndSendReport(e)}};var S="ah::Context",E="sourceErrorSDK",k="error",T="clock:reporting.resume",A="clock:reporting.pause",w="reporting_interval",P="session_id",C="reset_session_id",D="callback",N="filter_report",M="report",O="reset",x="track_external_errors",R="reporting_interval",L="do_not_override_interval",V="api:aa_start",j="api:aa_ad_start",B="api:video_load",F="api:video_unload",U="api:video_start",q="api:video_complete",H="api:video_skip",Y="api:video_resume",K="api:video_session_end",G="api:adbreak_start",W="api:adbreak_complete",z="api:ad_start",Q="api:ad_complete",J="api:ad_skip",$="api:play",X="api:pause",Z="api:buffer_start",ee="api:chapter_start",te="api:chapter_complete",ne="api:chapter_skip",re="api:track_error",ie="api:track_internal_error",ae="api:bitrate_change",oe="api:quantum_end",se="context:report_available",ce="net:check_status_complete",ue="reporting:update_interval",le=6e5,de=2e3,pe=10;r.context.Context=i}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";function t(e,t){this.trackingServer=e,this.publisher=t,this.ssl=!1,this.ovp=n,this.sdk=n,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var n="unknown";e.AdobeHeartbeatPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(){},t.prototype.onTrackingDisabled=function(){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,n){"use strict";function r(e){r.__super__.constructor.call(this,m),this._radio=new c(this._logger),this._channel=this._radio.channel(k),this._delegate=e,this._context=new d(this._channel,this._logger),this._filter=new p(this._channel,this._logger),this._network=new h(this._channel,this._logger),this._setupDataResolver()}var i=e.Event,a=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,c=e.radio.Radio,u=t.ErrorInfo,l=t.Version,d=n.context.Context,p=n.filter.ReportFilter,h=n.network.Network,f=n.clock.Clock,g=n.AdobeHeartbeatPluginConfig;e.extend(r,o),r.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",n={};n[se]=this._config.trackingServer,n[ce]=t,n[ue]=this._config.publisher,n[le]=this._config.quietMode,n[de]=this._config.ssl,this._channel.trigger(new i(me,n)),this._isConfigured=!0},r.prototype.bootstrap=function(e){r.__super__.bootstrap.call(this,e),this._channel.on(T,this._onError,this),this._clock=new f(this._pluginManager,this._channel,this._logger),this._channel.command(Ue),this._channel.trigger(new i(ze)),this._channel.on(he,this._onCheckStatusComplete,this),this._registerCommands(),this._registerBehaviours()},r.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},r.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):r.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},r.prototype._cmdAnalyticsError=function(){this._errorInfo||(this._errorInfo=new u("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(T,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},r.prototype._cmdAnalyticsStart=function(e){this._canProcess()&&this._channel.trigger(new i(fe,e))},r.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new i(ge,e))},r.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new i(ve,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new i(_e,e)),this._isTrackingSessionActive=!0)},r.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new i(ve,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},r.prototype._cmdBeginReporting=function(){this._canProcess()&&this._channel.trigger(new i(Be,{}))},r.prototype._cmdVideoSessionEnd=function(e){this._canProcess()&&this._channel.trigger(new i(Ee,e))},r.prototype._cmdVideoStart=function(e){this._canProcess()&&(this._channel.trigger(new i(ye,e)),this._filter.flush())},r.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new i(be,e))},r.prototype._cmdVideoSkip=function(e){this._canProcess()&&this._channel.trigger(new i(Ie,e))},r.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new i(Se,e))},r.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},r.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new i(De,e)),this._isPaused=!0,this._runIdleTimer(!0))},r.prototype._cmdAdBreakStart=function(e){this._canProcess()&&this._channel.trigger(new i(ke,e))},r.prototype._cmdAdBreakComplete=function(e){this._canProcess()&&(this._channel.trigger(new i(Te,e)),this._resumePlaybackIfPossible(e))},r.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new i(Ae,e)),this._resumePlaybackIfPossible(e))},r.prototype._cmdAdComplete=function(e){this._canProcess()&&this._channel.trigger(new i(we,e))},r.prototype._cmdAdSkip=function(e){this._canProcess()&&this._channel.trigger(new i(Pe,e))},r.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new i(Ne,e)),this._isBuffering=!0,this._runIdleTimer(!0))},r.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._isPaused?this._channel.trigger(new i(De,e)):this._resumePlaybackIfPossible(e))},r.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new i(De,e)),this._isSeeking=!0,this._runIdleTimer(!0))},
r.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._isSeeking=!1,this._resumePlaybackIfPossible(e))},r.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new i(Me,e))},r.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new i(Oe,e))},r.prototype._cmdChapterSkip=function(e){this._canProcess()&&this._channel.trigger(new i(xe,e))},r.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new i(Ve,e))},r.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new i(Re,e))},r.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new i(je,e))},r.prototype._onCheckStatusComplete=function(e){if(this._canProcess()){var t=!1;e&&e.data&&e.data[pe]&&(t=e.data[pe]),this._logger.debug(this._logTag,"#_onCheckStatusComplete(trackingDisabled="+t+")"),t&&this._delegate&&this._delegate.onTrackingDisabled()}},r.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(ee),this._channel.trigger(new i(Ee,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(X))},r.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[ae]=Fe,t[oe]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new i(Le,t)),this._runReportingTimer(!1),this._trigger(T,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},r.prototype._runIdleTimer=function(e){var t={};t[ie]=!0,e?this._channel.command(Ge,t):this._channel.command(We,t)},r.prototype._runFlushFilterTimer=function(e){var t={};t[ie]=!0,e?this._channel.command(Ye,t):this._channel.command(Ke,t)},r.prototype._runReportingTimer=function(e){var t={};t[ie]=!0,e?this._channel.command(qe,t):this._channel.command(He,t)},r.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleBeginReporting",this._cmdBeginReporting),this._pluginManager.comply(this,"handleVideoSessionEnd",this._cmdVideoSessionEnd),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoSkip",this._cmdVideoSkip),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdBreakStart",this._cmdAdBreakStart),this._pluginManager.comply(this,"handleAdBreakComplete",this._cmdAdBreakComplete),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleAdSkip",this._cmdAdSkip),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleChapterSkip",this._cmdChapterSkip),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},r.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new a(y,P),this,"handleVideoLoad",[new s(v,"rsid","rsid"),new s(v,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new a(y,C),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new a(y,te),this,"handleBeginReporting"),this._pluginManager.registerBehaviour(new a(y,D),this,"handleVideoSessionEnd",[new s(y,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new a(y,N),this,"handleVideoStart",[new s(y,"video.id","videoId"),new s(y,"video.name","videoName"),new s(y,"video.length","videoLength"),new s(y,"video.playhead","playhead"),new s(y,"video.playerName","playerName"),new s(y,"video.streamType","streamType"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime"),new s(v,"rsid","rsid"),new s(v,"tracking_server","trackingServer"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(v,"ssl","useSsl"),new s(b,"meta","metaNielsen"),new s(_,"publisher","publisher"),new s(_,"sdk","sdk"),new s(_,"ovp","ovp"),new s(_,"version","version"),new s(_,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new a(y,O),this,"handleVideoComplete",[new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,x),this,"handleVideoSkip",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,M),this,"handleVideoResume",[new s(y,"video.id","videoId"),new s(y,"video.name","videoName"),new s(y,"video.length","videoLength"),new s(y,"video.playhead","playhead"),new s(y,"video.playerName","playerName"),new s(y,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new a(y,R),this,"handlePlay",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,L),this,"handlePause",[new s(y,"video.playhead","playhead"),new s(y,"video.playheadStalled","playheadStalled"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,j),this,"handleAdBreakStart",[new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,B),this,"handleAdBreakComplete",[new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,F),this,"handleAdStart",[new s(y,"video.playhead","playhead"),new s(y,"ad.id","adId"),new s(y,"ad.name","adName"),new s(y,"ad.length","adLength"),new s(y,"ad.position","adPosition"),new s(y,"ad.granularTracking","adGranularTracking"),new s(y,"ad.trackingInterval","adTrackingInterval"),new s(y,"pod.name","podName"),new s(y,"pod.playerName","podPlayerName"),new s(y,"pod.position","podPosition"),new s(y,"pod.startTime","podSecond"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.ad.*","metaAd"),new s(b,"meta","metaNielsen"),new s(b,"metaAd","metaAdNielsen")]),this._pluginManager.registerBehaviour(new a(y,U),this,"handleAdComplete",[new s(y,"video.playhead","playhead"),new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,q),this,"handleAdSkip",[new s(y,"video.playhead","playhead"),new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,H),this,"handleBufferStart",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,Y),this,"handleBufferComplete",[new s(y,"video.playhead","playhead"),new s(y,"video.playheadStalled","playheadStalled"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,K),this,"handleSeekStart",[new s(y,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new a(y,G),this,"handleSeekComplete",[new s(y,"video.playhead","playhead"),new s(y,"ad.isInAd","isInAd"),new s(y,"ad.id","adId"),new s(y,"ad.position","adPosition"),new s(y,"pod.playerName","podPlayerName"),new s(y,"pod.position","podPosition"),new s(y,"chapter.isInChapter","isInChapter"),new s(y,"chapter.position","chapterPosition"),new s(y,"chapter.name","chapterName"),new s(y,"chapter.length","chapterLength"),new s(y,"chapter.startTime","chapterOffset"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,W),this,"handleChapterStart",[new s(y,"video.playhead","playhead"),new s(y,"chapter.position","chapterPosition"),new s(y,"chapter.name","chapterName"),new s(y,"chapter.length","chapterLength"),new s(y,"chapter.startTime","chapterOffset"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.chapter.*","metaChapter"),new s(b,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new a(y,z),this,"handleChapterComplete",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,Q),this,"handleChapterSkip",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,J),this,"handleBitrateChange",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,$),this,"handleTrackError"),this._pluginManager.registerBehaviour(new a(I,ne),this,"handleClockReportingTick",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(y,V),this,"handleClockReportingTick",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(I,re),this,"handleIdleTick",[new s(y,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new a(_,ee),this,"handleClockReportingTick",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(v,T),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new a(v,A),this,"handleAnalyticsStart",[new s(v,"vid","vid"),new s(v,"aid","aid"),new s(v,"mid","mid"),new s(v,"customerIDs","customerIDs"),new s(v,"blob","blob"),new s(v,"loc_hint","loc_hint"),new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(v,w),this,"handleAnalyticsAdStart",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")])},r.prototype._setupDataResolver=function(){var e={},t=this;e.version=function(){return l.getVersion()},e.api_level=function(){return l.getApiLevel()},e.tracking_server=function(){return t._config?t._config.trackingServer:null},e.publisher=function(){return t._config?t._config.publisher:null},e.quiet_mode=function(){return!!t._config&&t._config.quietMode},e.ovp=function(){return t._config?t._config.ovp:null},e.sdk=function(){return t._config?t._config.sdk:null},e.is_primetime=function(){return!!t._config&&t._config.__isPrimetime},e.psdk_version=function(){return t._config?t._config.__psdkVersion:null},e.session_id=function(){return t._channel.request(S)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];(n=n||{})[i]=e.hasOwnProperty(i)?e[i].call(this):null}return n}},r.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle?(this._isVideoIdle=!1,this._resumePlaybackFromIdle()):this._channel.trigger(new i(Ce,e)),this._runIdleTimer(!1))},r.prototype._resumePlaybackFromIdle=function(){this._trigger(ee),this._filter.clear(),this._channel.trigger(new i(E)),this._trigger(Z),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var m="adobe-heartbeat",_=m,v="adobe-analytics",y="player",b="nielsen",I="service.clock",S="session_id",E="reset_session_id",k="heartbeat-channel",T="error",A="aa_start",w="sc_ad_start",P="video_load",C="video_unload",D="video_session_end",N="video_start",M="video_resume",O="video_complete",x="video_skip",R="play",L="pause",V="content_start",j="adbreak_start",B="adbreak_complete",F="ad_start",U="ad_complete",q="ad_skip",H="buffer_start",Y="buffer_complete",K="seek_start",G="seek_complete",W="chapter_start",z="chapter_complete",Q="chapter_skip",J="bitrate_change",$="track_error",X="video_idle_start",Z="video_idle_resume",ee="quantum_close",te="video_begin_reporting",ne="heartbeat.reporting.tick",re="heartbeat.idle.tick",ie="reset",ae="source",oe="error_id",se="tracking_server",ce="check_status_server",ue="publisher",le="quiet_mode",de="ssl",pe="tracking_disabled",he="net:check_status_complete",fe="api:aa_start",ge="api:aa_ad_start",me="api:config",_e="api:video_load",ve="api:video_unload",ye="api:video_start",be="api:video_complete",Ie="api:video_skip",Se="api:video_resume",Ee="api:video_session_end",ke="api:adbreak_start",Te="api:adbreak_complete",Ae="api:ad_start",we="api:ad_complete",Pe="api:ad_skip",Ce="api:play",De="api:pause",Ne="api:buffer_start",Me="api:chapter_start",Oe="api:chapter_complete",xe="api:chapter_skip",Re="api:track_error",Le="api:track_internal_error",Ve="api:bitrate_change",je="api:quantum_end",Be="api:video_begin_reporting",Fe="sourceErrorHeartbeat",Ue="clock:check_status.resume",qe="clock:reporting.resume",He="clock:reporting.pause",Ye="clock:flush_filter.resume",Ke="clock:flush_filter.pause",Ge="clock:idle.resume",We="clock:idle.pause",ze="clock:check_status.get_settings";n.AdobeHeartbeatPlugin=r}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),function(e){if(void 0===t)var t={};!function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var r=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var r=t[n];switch(r){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"mediaType":if(!e.hasOwnProperty("mediaType"))return this._fail("The media type for the main video must be specified.");if("string"!=typeof e.mediaType)return this._fail("The media type for the main video must be a String.");if(""===e.mediaType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+r)}}return!0},n.prototype._fail=function(e){var t=new r("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=n}(e.ADB.va,t),function(e){"use strict";function t(){this.channel=n,this.debugLogging=!1}var n="";e.AdobeAnalyticsPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,n,r){"use strict";function i(e){this._aaPlugin=e}function a(e,t){if(a.__super__.constructor.call(this,v),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");if(e.unsupportedBrowser)throw new Error("AppMeasurement is not supported in current browser.");this._appMeasurement=e,this._appMeasurementBridge=new i(this),this._delegate=t,this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._appMeasurementReady=!1,this._beginReporting=!1,this._workQueue=new d(!0,E),this._inputDataValidator=new _((function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails());var t=this;setTimeout((function(){t._trigger(k,e),t._delegate&&t._delegate.onError(t._errorInfo)}),0)}),this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var o=e.Trigger,s=e.plugin.BasePlugin,c=e.plugin.ParamMapping,u=e.radio.Channel,l=e.radio.Command,d=e.radio.CommandQueue,p=t.ErrorInfo,h=n.md5,f=n.StringUtils,g=n.ObjectUtils,m=r.AdobeAnalyticsPluginConfig,_=r.InputDataValidator;i.prototype.onAppMeasurementReady=function(){this._aaPlugin&&this._aaPlugin._onAppMeasurementReady()},i.prototype.release=function(){this._aaPlugin=null},e.extend(a,s),a.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof m))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},a.prototype.bootstrap=function(e){a.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},a.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this._appMeasurementBridge,this._appMeasurementBridge.onAppMeasurementReady,[]),a.__super__.setup.call(this)},a.prototype.setVideoMetadata=function(e){this._videoMetadata=g.clone(e)},a.prototype.setAdMetadata=function(e){this._adMetadata=g.clone(e)},a.prototype.setChapterMetadata=function(e){this._chapterMetadata=g.clone(e)},a.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._appMeasurementBridge.release()},a.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):a.__super__._canProcess.call(this)},a.prototype._cmdVideoLoad=function(){this._errorInfo=null},a.prototype._cmdBeginReporting=function(){this._logger.debug(this._logTag,"#_cmdBeginReporting()"),this._beginReporting=!0,this._resumeWorkQueue()},a.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new l(this._executeOpen,this,[e]))},a.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new l(this._executeOpenAd,this,[e]))},a.prototype._cmdHeartbeatPluginError=function(){this._errorInfo||(this._errorInfo=new p("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(k,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},a.prototype._track=function(e){try{var t=this._appMeasurement.linkTrackVars;this._appMeasurement.linkTrackVars="",this._appMeasurement.track(e),this._appMeasurement.linkTrackVars=t}catch(e){this._logger.warn(this._logTag,"appMeasurement.track() call threw an exception.")}},a.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", mediaType="+e.mediaType+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","mediaType","streamType","videoLength","playerName"])){var t={};for(var n in e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(t[n]=e.metaVideo[n]);if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(t[n]=e.metaNielsen[n]);t["a.contentType"]=e.streamType,t["a.media.name"]=e.videoId,t["a.media.friendlyName"]=e.videoName||"",t["a.media.length"]=Math.floor(e.videoLength)||"0.0",t["a.media.playerName"]=e.playerName,t["a.media.channel"]=e.channel||"",t["a.media.view"]=!0,t["a.media.vsid"]=e.sessionId;var r={};r.contextData=t,"audio"===e.mediaType?(r.pev3=w,r.ms_a="1"):r.pev3=T,r.pe=e.isPrimetime?D:C,this._track(r);var i=this;setTimeout((function(){i._trigger(O,e)}),0)}},a.prototype._executeOpenAd=function(e){var t=h(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", mediaType="+e.mediaType+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","mediaType","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond;var n={};for(r in e.metaVideo)e.metaVideo.hasOwnProperty(r)&&(n[r]=e.metaVideo[r]);for(r in e.metaAd)e.metaAd.hasOwnProperty(r)&&(n[r]=e.metaAd[r]);if(e.metaNielsen)for(var r in e.metaNielsen)e.metaNielsen.hasOwnProperty(r)&&(n[r]=e.metaNielsen[r]);n["a.contentType"]=e.streamType,n["a.media.name"]=e.videoId,n["a.media.playerName"]=e.playerName,n["a.media.channel"]=e.channel||"",n["a.media.vsid"]=e.sessionId,n["a.media.friendlyName"]=e.videoName||"",n["a.media.length"]=Math.floor(e.videoLength)||"0.0",n["a.media.ad.name"]=e.adId,n["a.media.ad.friendlyName"]=e.adName||"",n["a.media.ad.podFriendlyName"]=e.podName||"",n["a.media.ad.length"]=Math.floor(e.adLength)||"0.0",n["a.media.ad.playerName"]=e.podPlayerName,n["a.media.ad.pod"]=t,n["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0.0",n["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0.0",n["a.media.ad.view"]=!0;var i={};i.contextData=n,"audio"===e.mediaType?(i.pev3=P,i.ms_a="1"):i.pev3=A,i.pe=e.isPrimetime?M:N,this._track(i);var a=this;setTimeout((function(){a._trigger(x,e)}),0)}},a.prototype._setupDataResolver=function(){var e={},t=this;e.rsid=function(){return t._appMeasurement.account},e.tracking_server=function(){return t._appMeasurement.ssl&&t._appMeasurement.trackingServerSecure?t._appMeasurement.trackingServerSecure:t._appMeasurement.trackingServer},e.ssl=function(){return t._appMeasurement.ssl},e.vid=function(){return t._appMeasurement.visitorID},e.aid=function(){return t._appMeasurement.analyticsVisitorID},e.mid=function(){return t._appMeasurement.marketingCloudVisitorID},e.blob=function(){return t._appMeasurement.audienceManagerBlob},e.loc_hint=function(){return t._appMeasurement.audienceManagerLocationHint?parseInt(t._appMeasurement.audienceManagerLocationHint):""},e.customerIDs=function(){var e={},n=t._appMeasurement.visitor.getCustomerIDs();for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];if("object"==typeof i){for(var a in i)i.hasOwnProperty(a)&&("authState"==a?e[r+".as"]=i[a]:e[r+"."+a]=i[a]);e[r+".as"]||(e[r+".as"]="0")}}return e},e.channel=function(){return t._config?t._config.channel:null},e.meta=function(e){var n=e.split(".");if(n.length<2)return null;var r=n.shift();switch(e=n.join("."),r){case"video":return e==u.WILDCARD?t._videoMetadata:t._videoMetadata[e];case"ad":return e==u.WILDCARD?t._adMetadata:t._adMetadata[e];case"chapter":return e==u.WILDCARD?t._chapterMetadata:t._chapterMetadata[e];default:return null}},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];n=n||{},f.startsWith(i,"meta.")?n[i]=e.meta(i.split("meta.")[1]):n[i]=e.hasOwnProperty(i)?e[i].call(this):null}return n}},a.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleBeginReporting",this._cmdBeginReporting),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},a.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new o(I,R),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new o(I,j),this,"handleBeginReporting"),this._pluginManager.registerBehaviour(new o(I,L),this,"handleVideoStart",[new c(I,"video.id","videoId"),new c(I,"video.mediaType","mediaType"),new c(I,"video.streamType","streamType"),new c(I,"video.name","videoName"),new c(I,"video.length","videoLength"),new c(I,"video.playerName","playerName"),new c(I,"video.streamType","streamType"),new c(S,"is_primetime","isPrimetime"),new c(S,"session_id","sessionId"),new c(y,"channel","channel"),new c(y,"meta.video.*","metaVideo"),new c(b,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new o(I,V),this,"handleAdStart",[new c(I,"video.id","videoId"),new c(I,"video.mediaType","mediaType"),new c(I,"video.streamType","streamType"),new c(I,"video.playhead","playhead"),new c(I,"video.playerName","playerName"),new c(I,"video.name","videoName"),new c(I,"video.length","videoLength"),new c(I,"ad.id","adId"),new c(I,"ad.length","adLength"),new c(I,"ad.position","adPosition"),new c(I,"ad.name","adName"),new c(I,"pod.name","podName"),new c(I,"pod.position","podPosition"),new c(I,"pod.playerName","podPlayerName"),new c(I,"pod.startTime","podSecond"),new c(S,"is_primetime","isPrimetime"),new c(S,"session_id","sessionId"),new c(y,"channel","channel"),new c(y,"meta.video.*","metaVideo"),new c(y,"meta.ad.*","metaAd"),new c(b,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new o(S,k),this,"handleHeartbeatPluginError")},a.prototype._onAppMeasurementReady=function(){this._logger.debug(this._logTag,"#_onAppMeasurementReady"),this._appMeasurementReady=!0,this._resumeWorkQueue()},a.prototype._resumeWorkQueue=function(){this._appMeasurementReady&&this._beginReporting&&(this._logger.debug(this._logTag,"#_resumeWorkQueue"),this._workQueue.resume())};var v="adobe-analytics",y=v,b="nielsen",I="player",S="adobe-heartbeat",E=2e3,k="error",T="video",A="videoAd",w="audio",P="audioAd",C="ms_s",D="msp_s",N="msa_s",M="mspa_s",O="aa_start",x="sc_ad_start",R="video_load",L="video_start",V="ad_start",j="video_begin_reporting";r.AdobeAnalyticsPlugin=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";var t={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},n={ARTIST:"a.media.artist",ALBUM:"a.media.album",LABEL:"a.media.label",AUTHOR:"a.media.author",STATION:"a.media.station",PUBLISHER:"a.media.publisher"},r={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};e.VideoMetadataKeys=t,e.AudioMetadataKeys=n,e.AdMetadataKeys=r}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this),function(e,t){"use strict";function n(){this._processAction=!0,this._store={}}function r(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._rules=[]}n.prototype.setRuleName=function(e){this._ruleName=e},n.prototype.getRuleName=function(){return this._ruleName},n.prototype.setData=function(e,t){this._store[e]=t},n.prototype.getData=function(e){return this._store[e]},n.prototype.shouldProcessAction=function(){return this._processAction},n.prototype.stopProcessingAction=function(){this._processAction=!1},n.prototype.startProcessingAction=function(){this._processAction=!0},r.createContext=function(){return new n},r.createPredicate=function(e,t,n){return{fn:e,expectedValue:t,msg:n}},r.prototype.registerRule=function(e,t,n,r,i){this._rules.push({name:e,desc:t,preconditions:n,actions:r,scope:i})},r.prototype.registerEnterExitAction=function(e,t){this._enterAction=e,this._exitAction=t},r.prototype._handleFailure=function(e,t){this._logger.error(i,e.desc+" -  "+t.msg)},r.prototype._getRule=function(e){for(var t=0;t<this._rules.length;++t)if(this._rules[t].name===e)return this._rules[t];return null},
r.prototype.processRule=function(e,t){var n=!0,a=this._getRule(e);if(a){var o=a.scope;t||(t=r.createContext()),t.setRuleName(e);for(var s=!1,c=0;c<a.preconditions.length;++c){var u=a.preconditions[c];if(s=!!u.fn.call(o,t)!==u.expectedValue){this._handleFailure(a,u);break}}if(s)n=!1;else{for(t.startProcessingAction(),this._enterAction&&this._enterAction.call(o,t),c=0;c<a.actions.length;++c){var l=a.actions[c];if(!t.shouldProcessAction()){this._logger.info(i,"Stopping actions for "+a.desc);break}l.call(o,t)}this._exitAction&&t.shouldProcessAction()&&this._exitAction.call(o,t)}}else this._logger.warn(i,"No registered event found for ruleName "+e),n=!1;return n};var i="RuleEngine";t._RuleEngine=r}((e=this).ADB.core,e.ADB.va),function(e,t){"use strict";function n(e,t,n){this.taskFn=e,this.scope=t,this.interval=n,this.remainingInterval=n}function r(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._tasks=[],this._pausedTasks=[]}n.prototype.elapsedTime=function(e){this.remainingInterval-=e},n.prototype.shouldExecute=function(){return this.remainingInterval<=0},n.prototype.execute=function(){this.taskFn.call(this.scope)},r.prototype._getCurrentTimeInMS=function(){return(new Date).getTime()},r.prototype._runTasksForTime=function(e){var t=[],n=e-this._lastTickTime;this._lastTickTime=e;for(var r=0;r<this._tasks.length;){var i=this._tasks[r];i.elapsedTime(n),i.shouldExecute()?(t.push(i),this._tasks.splice(r,1)):++r}for(this._checkStopTimer(),r=0;r<t.length;++r)t[r].execute()},r.prototype._onTick=function(){var e=this._getCurrentTimeInMS();this._runTasksForTime(e)},r.prototype._startTimer=function(){var e=this;this._timer||(this._logger.info(i,"#startTimer()"),e._lastTickTime=this._getCurrentTimeInMS(),this._timer=window.setInterval((function(){e._onTick()}),a))},r.prototype._stopTimer=function(){this._timer&&(this._logger.info(i,"#stopTimer()"),window.clearInterval(this._timer),this._timer=null)},r.prototype._checkStartTimer=function(){this._tasks.length>0&&this._startTimer()},r.prototype._checkStopTimer=function(){0===this._tasks.length&&this._stopTimer()},r.prototype._removeTask=function(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return e.splice(n,1),!0;return!1},r.prototype.scheduleTask=function(e,t,r){if(this._logger.info(i,"#scheduleTask()"),!e)throw new Error("Reference to the taskFn cannot be NULL");var a=new n(e,t,r);return this._tasks.push(a),this._checkStartTimer(),a},r.prototype.cancelTask=function(e){this._logger.info(i,"#cancelTask()"),this._removeTask(this._tasks,e),this._checkStopTimer()},r.prototype.pauseTask=function(e){this._logger.info(i,"#pauseTask()"),this._removeTask(this._tasks,e)&&this._pausedTasks.push(e),this._checkStopTimer()},r.prototype.resumeTask=function(e){this._logger.info(i,"#resumeTask()"),this._removeTask(this._pausedTasks,e)&&this._tasks.push(e),this._checkStartTimer()},r.prototype.clearTasks=function(){this._stopTimer(),this._tasks=[],this._pausedTasks=[]};var i="TaskScheduler",a=250;t._TaskScheduler=r}(e.ADB.core,e.ADB.va),function(e){"use strict";function t(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}e.MediaHeartbeatConfig=t,e.MediaHeartbeatConfig.sharedInstance=new t}(e.ADB.va),function(e){"use strict";function t(){this.data={}}var n=e.plugins.videoplayer.VideoInfo,r=e.plugins.videoplayer.AdBreakInfo,i=e.plugins.videoplayer.AdInfo,a=e.plugins.videoplayer.ChapterInfo,o=e.plugins.videoplayer.QoSInfo;t.MEDIAINFO_KEY_NAME="a.name",t.MEDIAINFO_KEY_VIDEOID="a.videoId",t.MEDIAINFO_KEY_ADID="a.adId",t.MEDIAINFO_KEY_LENGTH="a.length",t.MEDIAINFO_KEY_PLAYHEAD="a.playhead",t.MEDIAINFO_KEY_MEDIATYPE="a.mediaType",t.MEDIAINFO_KEY_STREAMTYPE="a.streamType",t.MEDIAINFO_KEY_POSITION="a.position",t.MEDIAINFO_KEY_STARTTIME="a.startTime",t.MEDIAINFO_KEY_BITRATE="a.bitrate",t.MEDIAINFO_KEY_FPS="a.fps",t.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",t.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",t.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",t.prototype.setValue=function(e,t){this.data[e]=t},t.prototype.getValue=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},t.prototype.createVideoInfo=function(){var e=new n;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_VIDEOID)?this.getValue(t.MEDIAINFO_KEY_VIDEOID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.playhead=null!=this.getValue(t.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(t.MEDIAINFO_KEY_PLAYHEAD):0,e.mediaType=null!=this.getValue(t.MEDIAINFO_KEY_MEDIATYPE)?this.getValue(t.MEDIAINFO_KEY_MEDIATYPE):"",e.streamType=null!=this.getValue(t.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(t.MEDIAINFO_KEY_STREAMTYPE):"",e},t.prototype.createAdBreakInfo=function(){var e=new r;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e},t.prototype.createAdInfo=function(){var e=new i;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_ADID)?this.getValue(t.MEDIAINFO_KEY_ADID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createChapterInfo=function(){var e=new a;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createQoSInfo=function(){var e=new o;return e.bitrate=null!=this.getValue(t.MEDIAINFO_KEY_BITRATE)?this.getValue(t.MEDIAINFO_KEY_BITRATE):0,e.fps=null!=this.getValue(t.MEDIAINFO_KEY_FPS)?this.getValue(t.MEDIAINFO_KEY_FPS):0,e.droppedFrames=null!=this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES):0,e.startupTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(t.MEDIAINFO_KEY_STARTUPTIME):0,e},t.prototype.isEqual=function(e){if(this===e)return!0;if(!e||"object"!=typeof e||"function"!=typeof e.getValue)return!1;for(var n=[t.MEDIAINFO_KEY_NAME,t.MEDIAINFO_KEY_VIDEOID,t.MEDIAINFO_KEY_ADID,t.MEDIAINFO_KEY_LENGTH,t.MEDIAINFO_KEY_PLAYHEAD,t.MEDIAINFO_KEY_STREAMTYPE,t.MEDIAINFO_KEY_MEDIATYPE,t.MEDIAINFO_KEY_POSITION,t.MEDIAINFO_KEY_STARTTIME,t.MEDIAINFO_KEY_BITRATE,t.MEDIAINFO_KEY_FPS,t.MEDIAINFO_KEY_DROPPEDFRAMES,t.MEDIAINFO_KEY_STARTUPTIME,t.MEDIAINFO_KEY_TIMEDMETADATA],r=0;r<n.length;++r){var i=n[r];if(this.getValue(i)!==e.getValue(i))return!1}return!0},e.MediaObject=t}(e.ADB.va),function(e){"use strict";function t(e,n){if(!n)throw new Error("Visitor instance cannot be NULL");this._visitor=n,this._logger=e,this._status=t.OPT_UNKNOWN,this._optInFetchPermissionsCallback=this._optInFetchPermissionsCallback.bind(this)}var n="PrivacyManager";t.prototype.getStatus=function(){return this._status},t.prototype.configure=function(e){this.reset(),this._callback=e,this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0,this._optIn&&this._optIn.doesOptInApply?(this._logger.info(n,"OptIn service enabled"),this._waitingForOptInCallback=!0,this._optInMediaApproved=!1):this._logger.info(n,"OptIn service does not apply"),this._waitingForVisitorCallback=!0,this._visitorOptOut=!1,this._fetchVisitorOptOut(),this._fetchOptIn(),this._updateStatus()},t.prototype.reset=function(){this._unsubscribeOptIn(),this._status=t.OPT_UNKNOWN,this._callback=null},t.prototype._fetchVisitorOptOut=function(){this._logger.info(n,"Fetching Visitor.isOptedOut");try{var e=this;this._visitor.isOptedOut((function(t){e._logger.info(n,"Visitor.isOptedOut : "+t),e._waitingForVisitorCallback=!1,e._visitorOptOut=t,e._updateStatus()}),void 0,!0)}catch(e){this._logger.warn(n,"Error fetching Visitor.isOptedOut"),this._waitingForVisitorCallback=!1}},t.prototype._fetchOptIn=function(){try{if(!this._optIn||!this._optIn.doesOptInApply)return;this._logger.info(n,"Fetching permissions from OptIn service"),this._optInListenerRegistered||(this._optIn.fetchPermissions(this._optInFetchPermissionsCallback,!0),this._optInListenerRegistered=!0)}catch(e){this._logger.warn(n,"Error fetching permissions from OptIn service"),this._waitingForOptInCallback=!1}},t.prototype._unsubscribeOptIn=function(){try{this._optIn&&this._optInListenerRegistered&&(this._optIn.off("complete",this._optInFetchPermissionsCallback),this._optInListenerRegistered=!1)}catch(e){this._logger.error(n,"Error unsubscribing from OptIn service")}},t.prototype._optInFetchPermissionsCallback=function(){this._waitingForOptInCallback=!1;var e=this._optIn.isApproved(this._optIn.Categories.ECID),t=this._optIn.isApproved(this._optIn.Categories.ANALYTICS),r=void 0===this._optIn.Categories.MEDIA_ANALYTICS||this._optIn.isApproved(this._optIn.Categories.MEDIA_ANALYTICS);this._optInMediaApproved=e&&t&&r,this._logger.info(n,"OptIn fetchPermissions ECID : "+e+" Analytics : "+t+" Media : "+r),this._updateStatus()},t.prototype._updateStatus=function(){if(!(this._waitingForVisitorCallback||this._optIn&&this._optIn.doesOptInApply&&this._waitingForOptInCallback)){var e=this._visitorOptOut||this._optIn&&this._optIn.doesOptInApply&&!this._optInMediaApproved?t.OPT_OUT:t.OPT_IN;if(this._status!==e){this._logger.info(n,"Privacy changed from "+this._status+" to "+e),this._status=e;var r=this;setTimeout((function(){try{r._callback&&r._callback(e)}catch(e){}}),0)}}},t.OPT_OUT="optout",t.OPT_IN="optin",t.OPT_UNKNOWN="optunknown",e._PrivacyManager=t}(e.ADB.va),function(e,t){"use strict";function n(e){n.__super__.constructor.call(this),this._heartbeat=e}function r(e){r.__super__.constructor.call(this),this._heartbeat=e}function i(e){i.__super__.constructor.call(this),this._heartbeat=e}function a(e){a.__super__.constructor.call(this),this._heartbeat=e}e.extend(n,t.plugins.aa.AdobeAnalyticsPluginDelegate),n.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},e.extend(r,t.plugins.ah.AdobeHeartbeatPluginDelegate),r.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},r.prototype.onTrackingDisabled=function(){this._heartbeat&&this._heartbeat._onDelegateTrackingDisabled()},e.extend(i,t.HeartbeatDelegate),i.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},e.extend(a,t.plugins.videoplayer.VideoPlayerPluginDelegate),a.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},a.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},a.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},a.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},a.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var e=this._heartbeat._delegate.getQoSObject();if(e&&"object"==typeof e&&e.setValue)return e.createQoSInfo()}return null},t._MediaAnalyticsPluginDelegate=n,t._MediaHeartbeatPluginDelegate=r,t._ADBMediaHeartbeatDelegate=i,t._MediaHeartbeatVideoPlayerPluginDelegate=a}(e.ADB.core,e.ADB.va),function(e,t){"use strict";function n(e,r){n.__super__.constructor.call(this),this._heartbeat=e,this._logger=r,this._validator=new t.plugins.nielsen.MetadataValidator(r)}var r="MediaHeartbeatNielsenPluginDelegate",i={NielsenContentMetadata:"media_nielsen_content_metadata",NielsenChannelMetadata:"media_nielsen_channel_metadata",NielsenAdMetadata:"media_nielsen_ad_metadata"};t.plugins.nielsen&&e.extend(n,t.plugins.nielsen.NielsenPluginDelegate),n.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var e=this._heartbeat._currentMediaObject.getValue(i.NielsenContentMetadata);if(e&&"object"==typeof e)return this._validator.validateContentMetadata(e,"MediaHeartbeat.NielsenContentMetadataKeys"),e;this._logger.warn(r,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenContentMetadata in MediaObject")}return null},n.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdObject){var e=this._heartbeat._currentAdObject.getValue(i.NielsenAdMetadata);if(e&&"object"==typeof e)return this._validator.validateAdMetadata(e,"MediaHeartbeat.NielsenAdMetadataKeys"),e;this._logger.warn(r,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenAdMetadata in MediaObject")}return null},n.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var e=this._heartbeat._currentMediaObject.getValue(i.NielsenChannelMetadata);if(e&&"object"==typeof e)return this._validator.validateChannelMetadata(e,"MediaHeartbeat.NielsenChannelMetadataKeys"),e;this._logger.warn(r,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenChannelMetadata in MediaObject")}return null},n.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},t.plugins.nielsen&&(t._NielsenObjectKey=i,t._NielsenPluginDelegate=n)}(e.ADB.core,e.ADB.va),function(t,n){"use strict";function r(){}function i(t,r,i){if(this._appMeasurement=i||e.s,!this._appMeasurement)throw new Error("MediaHeartbeat needs a valid AppMeasurement instance.");if(!this._appMeasurement.visitor||!this._appMeasurement.visitor.marketingCloudOrgID)throw new Error("MediaHeartbeat needs a valid visitor instance with marketingCloudOrgId set.");if(!t)throw new Error("MediaHeartbeat needs a valid delegate object.");if(!r||"object"!=typeof r||!r.trackingServer)throw new Error("MediaHeartbeat needs a valid config object with trackingServer set.");this._config=r,this._delegate=t,this._debugLogging=n.MediaHeartbeat._debugLogging||this._config.debugLogging,this._logger=new a,this._debugLogging?this._logger.enable():this._logger.disable(),this._ruleEngine=new y(this._logger),this._taskScheduler=new b(this._logger),this._privacyManager=new I(this._logger,this._appMeasurement.visitor),this._resetState(),this._setupRules()}var a=t.Logger,o=n.MediaObject,s=n.Heartbeat,c=n.HeartbeatConfig,u=n._ADBMediaHeartbeatDelegate,l=n.plugins.videoplayer.VideoPlayerPlugin,d=n.plugins.videoplayer.VideoPlayerPluginConfig,p=n._MediaHeartbeatVideoPlayerPluginDelegate,h=n.plugins.aa.AdobeAnalyticsPlugin,f=n.plugins.aa.AdobeAnalyticsPluginConfig,g=n._MediaAnalyticsPluginDelegate,m=n.plugins.ah.AdobeHeartbeatPlugin,_=n.plugins.ah.AdobeHeartbeatPluginConfig,v=n._MediaHeartbeatPluginDelegate,y=n._RuleEngine,b=n._TaskScheduler,I=n._PrivacyManager,S=n.utils.ObjectUtils,E=n.utils.VersionUtils;if(r.prototype.getCurrentPlaybackTime=function(){return null},r.prototype.getQoSObject=function(){return null},i.MediaType={Video:"video",Audio:"audio"},i.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},i.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear",PODCAST:"podcast",AUDIOBOOK:"audiobook",AOD:"aod"},i.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardMediaMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed",MediaResumed:"resumed",PrerollTrackingWaitingTime:"preroll_tracking_waiting_time"},i.VideoMetadataKeys=n.plugins.aa.VideoMetadataKeys,i.AudioMetadataKeys=n.plugins.aa.AudioMetadataKeys,i.AdMetadataKeys=n.plugins.aa.AdMetadataKeys,i.createMediaObject=function(e,t,n,r,a){var s=new o;s.setValue(o.MEDIAINFO_KEY_VIDEOID,t),s.setValue(o.MEDIAINFO_KEY_NAME,e),s.setValue(o.MEDIAINFO_KEY_LENGTH,n),s.setValue(o.MEDIAINFO_KEY_PLAYHEAD,0);var c=r||i.StreamType.VOD;return s.setValue(o.MEDIAINFO_KEY_STREAMTYPE,c),("string"!=typeof a||a!=i.MediaType.Video&&a!=i.MediaType.Audio)&&(a=i.MediaType.Video),s.setValue(o.MEDIAINFO_KEY_MEDIATYPE,a),s},i.createAdBreakObject=function(e,t,n){var r=new o;return r.setValue(o.MEDIAINFO_KEY_NAME,e),r.setValue(o.MEDIAINFO_KEY_POSITION,t),r.setValue(o.MEDIAINFO_KEY_STARTTIME,n),r},i.createAdObject=function(e,t,n,r){var i=new o;return i.setValue(o.MEDIAINFO_KEY_NAME,e),i.setValue(o.MEDIAINFO_KEY_ADID,t),i.setValue(o.MEDIAINFO_KEY_POSITION,n),i.setValue(o.MEDIAINFO_KEY_LENGTH,r),i},i.createChapterObject=function(e,t,n,r){var i=new o;return i.setValue(o.MEDIAINFO_KEY_NAME,e),i.setValue(o.MEDIAINFO_KEY_POSITION,t),i.setValue(o.MEDIAINFO_KEY_LENGTH,n),i.setValue(o.MEDIAINFO_KEY_STARTTIME,r),i},i.createQoSObject=function(e,t,n,r){var i=new o;return i.setValue(o.MEDIAINFO_KEY_BITRATE,e),i.setValue(o.MEDIAINFO_KEY_FPS,n),i.setValue(o.MEDIAINFO_KEY_DROPPEDFRAMES,r),i.setValue(o.MEDIAINFO_KEY_STARTUPTIME,t),i},i.createTimedMetadataObject=function(e){var t=new o;return t.setValue(o.MEDIAINFO_KEY_TIMEDMETADATA,e),t},i.version=function(){return n.Version.getVersion()},i.prototype.trackSessionStart=function(e,t){this._logger.info(C,"#::trackSessionStart()");var n=y.createContext();n.setData(D,e),n.setData(R,this._cleanContextData(t)),this._processRule(w.SessionStart,n)},i.prototype.trackPlay=function(){this._logger.info(C,"#::trackPlay()"),this._processRule(w.Play)},i.prototype.trackPause=function(){this._logger.info(C,"#::trackPause()"),this._processRule(w.Pause)},i.prototype.trackComplete=function(){this._logger.info(C,"#::trackComplete()"),this._processRule(w.VideoComplete)},i.prototype.trackSessionEnd=function(){this._logger.info(C,"#::trackSessionEnd()"),this._processRule(w.SessionEnd)},i.prototype.trackError=function(e){this._logger.info(C,"#::trackError()");var t=y.createContext();t.setData(L,e),this._processRule(w.Error,t)},i.prototype.trackEvent=function(e,t,n){this._logger.info(C,"#::trackEvent() - "+e);var r,a=y.createContext();switch(e){case i.Event.AdBreakStart:a.setData(N,t),a.setData(R,this._cleanContextData(n)),r=w.AdBreakStart;break;case i.Event.AdBreakComplete:r=w.AdBreakComplete;break;case i.Event.AdStart:a.setData(M,t),a.setData(R,this._cleanContextData(n)),r=w.AdStart;break;case i.Event.AdComplete:r=w.AdComplete;break;case i.Event.AdSkip:r=w.AdSkip;break;case i.Event.SeekStart:r=w.SeekStart;break;case i.Event.SeekComplete:r=w.SeekComplete;break;case i.Event.ChapterStart:a.setData(O,t),a.setData(R,this._cleanContextData(n)),r=w.ChapterStart;break;case i.Event.ChapterComplete:r=w.ChapterComplete;break;case i.Event.ChapterSkip:r=w.ChapterSkip;break;case i.Event.BufferStart:r=w.BufferStart;break;case i.Event.BufferComplete:r=w.BufferComplete;break;case i.Event.BitrateChange:r=w.BitrateChange;break;case i.Event.TimedMetadataUpdate:r=w.TimedMetadataUpdate,a.setData(x,t);break;default:return void this._logger.error(C,"Incorrect event name.")}this._processRule(r,a)},n.plugins.nielsen){var k=n.MediaHeartbeatConfig;k.prototype.nielsenConfigKey=void 0,k.prototype.nielsenAppInfo=void 0;var T=n._NielsenObjectKey;i.MediaObjectKey.NielsenContentMetadata=T.NielsenContentMetadata,i.MediaObjectKey.NielsenAdMetadata=T.NielsenAdMetadata,i.MediaObjectKey.NielsenChannelMetadata=T.NielsenChannelMetadata,i.NielsenContentMetadataKeys=n.plugins.nielsen.ContentMetadataKeys,i.NielsenChannelMetadataKeys=n.plugins.nielsen.ChannelMetadataKeys,i.NielsenAdMetadataKeys=n.plugins.nielsen.AdMetadataKeys,i.prototype.nielsenLoadMetadata=function(e){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(e)}}i.prototype._setState=function(e,t){this._mediaState[e]=t},i.prototype._isInState=function(e){return this._mediaState[e]},i.prototype._isTrackingDisabled=function(){return this._mediaHeartbeatDisabled},i.prototype._isInSession=function(){return this._isInState(A.Session)},i.prototype._isInMedia=function(){return this._isInState(A.Media)},i.prototype._isInAd=function(){return this._isInState(A.Ad)},i.prototype._isInAdBreak=function(){return this._isInState(A.AdBreak)},i.prototype._isInChapter=function(){return this._isInState(A.Chapter)},i.prototype._isInPlay=function(){return this._isInState(A.PlayPause)},i.prototype._isInPause=function(){return!this._isInState(A.PlayPause)},i.prototype._isInBuffer=function(){return this._isInState(A.Buffer)},i.prototype._isInSeek=function(){return this._isInState(A.Seek)},i.prototype._isPlatformTrackingSupported=function(){return!this._appMeasurement.unsupportedBrowser},i.prototype._isAudioTrackingSupported=function(e){return e.getData(D).getValue(o.MEDIAINFO_KEY_MEDIATYPE)!==i.MediaType.Audio||E.isGreaterThanEqual(this._appMeasurement.version,"2.11.0")},i.prototype._isValidMediaObject=function(e){var t=e.getData(D);if(t&&t instanceof o){var n=t.getValue(i.MediaObjectKey.MediaResumed);null!=n&&"boolean"!=typeof n&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.MediaResumed in MediaObject as we expect a boolean value");var r=t.getValue(i.MediaObjectKey.PrerollTrackingWaitingTime);null!=r&&(("string"==typeof r||"number"==typeof r)&&!isNaN(r)||this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.PrerollTrackingWaitingTime in MediaObject as we expect a valid duration as number in milliseconds."));var a=t.getValue(i.MediaObjectKey.StandardMediaMetadata);return null!=a&&"object"!=typeof a&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardMediaMetadata in MediaObject as we expect a valid object with kv pairs."),!0}return!1},i.prototype._isValidAdBreakObject=function(e){var t=e.getData(N);return t&&t instanceof o},i.prototype._isDifferentAdBreakObject=function(e){var t=e.getData(N);return!(this._currentAdBreakObject&&this._currentAdBreakObject.isEqual(t))},i.prototype._isValidAdObject=function(e){var t=e.getData(M);if(t&&t instanceof o){var n=t.getValue(B);null!=n&&"boolean"!=typeof n&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.GranularAdTracking in AdObject as we expect a boolean value.");var r=t.getValue(i.MediaObjectKey.StandardAdMetadata);return null!=r&&"object"!=typeof r&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardAdMetadata in AdObject as we expect a valid object with kv pairs."),!0}return!1},i.prototype._isDifferentAdObject=function(e){var t=e.getData(M);return!(this._currentAdObject&&this._currentAdObject.isEqual(t))},i.prototype._isValidChapterObject=function(e){var t=e.getData(O);return t&&t instanceof o},i.prototype._isDifferentChapterObject=function(e){var t=e.getData(O);return!(this._currentChapterObject&&this._currentChapterObject.isEqual(t))},i.prototype._isValidTimedMetadataObject=function(e){var t=e.getData(x);if(t&&t instanceof o){var n=t.getValue(o.MEDIAINFO_KEY_TIMEDMETADATA);return n&&"string"==typeof n}return!1},i.prototype._shouldAllowPlayerStateChange=function(){return!(this._isInState(A.AdBreak)&&!this._isInState(A.Ad))},i.prototype._didBeginReporting=function(){return this._isInState(A.Reporting)},i.prototype._deferredTrackPlay=function(){this._prerollWaitEnabled&&(this._logger.info(C,"Executing deferred API:trackPlay."),this._prerollWaitEnabled=!1,this._playTaskHandle=null,this._processRule(w.Play))},i.prototype._cmdEnterAction=function(e){var t=e.getRuleName();if(this._prerollWaitEnabled)if(this._playReceived)switch(t){case w.SeekStart:case w.BufferStart:this._logger.info(C,"Cancelling scheduled API:trackPlay because of SeekStart/BufferStart event"),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null;break;case w.SeekComplete:case w.BufferComplete:this._logger.info(C,"Rescheduled API:trackPlay after SeekComplete/BufferComplete event"),this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime);break;case w.Play:this._logger.info(C,"Dropping API:trackPlay as we already have a API:trackPlay scheduled."),e.stopProcessingAction();break;case w.Pause:this._logger.info(C,"Cancelling scheduled API:trackPlay because of API:trackPause call."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1;break;case w.AdBreakStart:this._logger.info(C,"Received API:trackEvent(AdBreakStart) within "+this._prerollWaitTime+" ms after API:trackPlay. We will track this as preroll AdBreak."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1,this._playAfterAdStart=!0}else switch(t){case w.Play:this._logger.info(C,"Deferring API:trackPlay for "+this._prerollWaitTime+" ms."),this._playReceived=!0,this._playUnhandledFromPrerollWaitTime=!0,this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime),e.stopProcessingAction();break;case w.Pause:this._logger.info(C,"Received trackPause before first trackPlay."),this._prerollWaitEnabled=!1;break;case w.AdBreakStart:this._logger.info(C,"Received trackEvent(AdBreakStart) before first trackPlay."),this._prerollWaitEnabled=!1}},i.prototype._cmdExitAction=function(e){var t=e.getRuleName();this._playAfterAdStart&&(t===w.AdStart?(this._cmdPlay(e),this._playAfterAdStart=!1):t===w.AdBreakComplete&&(this._playAfterAdStart=!1)),t!==w.AdStart||this._isInState(A.FPlayPause)||this._cmdPlay(e),this._prerollWaitEnabled||!this._playUnhandledFromPrerollWaitTime||t!==w.BufferComplete&&t!==w.SeekComplete&&t!==w.AdBreakComplete||this._isInState(A.FPlayPause)||this._isInState(A.Buffer)||this._isInState(A.Seek)||(this._logger.info(C,"Executing pending API:trackPlay. This case most likely happens tracking Preroll AdBreak without any Ads."),this._cmdPlay(e))},i.prototype._cmdConfigure=function(){this._configureAdobeAnalyticsPlugin(),this._configureAdobeHearbeatPlugin(),this._configureVideoPlayerPlugin(),this._configureOtherPlugins(),this._configureHeartbeat(),this._privacyManager.configure(this._onPrivacyChange.bind(this))},i.prototype._cmdBeginReporting=function(){this._playerPlugin&&this._playerPlugin.beginReporting(),this._setState(A.Reporting,!0)},i.prototype._cmdSessionStart=function(e){var t=e.getData(D),n=e.getData(R);this._currentMediaObject=t,this._videoInfo=t.createVideoInfo(),this._videoInfo.playerName=this._config.playerName?this._config.playerName:"";var r=t.getValue(i.MediaObjectKey.StandardMediaMetadata);r&&"object"==typeof r||(r=null);var a=t.getValue(i.MediaObjectKey.MediaResumed);"boolean"==typeof a&&(this._videoInfo.resumed=a);var o=t.getValue(i.MediaObjectKey.PrerollTrackingWaitingTime);"string"!=typeof o&&"number"!=typeof o||isNaN(o)||(this._prerollWaitTime=Number(o),this._prerollWaitTime<=0&&(this._prerollWaitEnabled=!1));var s=this._prepareMetadata(r,n);s[V]=this._videoInfo.mediaType,this._aaPlugin.setVideoMetadata(s),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart(),this._setState(A.Session,!0),this._setState(A.Media,!0)},i.prototype._destroyHeartbeat=function(e,t){e&&e.trackVideoUnload(),t&&t.destroy()},i.prototype._cmdVideoEnd=function(e){var t=e.getRuleName()===w.VideoComplete;if(this._isInState(A.Reporting)){var n=this,r=this._heartbeat,i=this._playerPlugin;this._playerPlugin.trackComplete((function(){n._destroyHeartbeat(i,r)}),t)}else this._destroyHeartbeat(this._playerPlugin,this._heartbeat);this._setState(A.Media,!1)},i.prototype._cmdHandleMediaComplete=function(e){this._isInMedia(e)||(this._logger.info(C,"API:trackComplete has already cleaned up Heartbeat instance."),this._cmdSessionEnd(e),e.stopProcessingAction())},i.prototype._cmdSessionEnd=function(){this._setState(A.Session,!1),this._resetState()},i.prototype._cmdDisableTracking=function(){this._logger.info(C,"#_cmdDisableTracking: ADBMediaHeartbeat Tracking Disabled Remotely."),this._mediaHeartbeatDisabled=!0},i.prototype._cmdBufferStart=function(){this._playerPlugin.trackBufferStart(),this._setState(A.Buffer,!0)},i.prototype._cmdBufferComplete=function(){this._isInState(A.Buffer)&&this._playerPlugin.trackBufferComplete(),this._setState(A.Buffer,!1)},i.prototype._cmdSeekStart=function(){this._playerPlugin.trackSeekStart(),this._setState(A.Seek,!0)},i.prototype._cmdSeekComplete=function(){this._isInState(A.Seek)&&this._playerPlugin.trackSeekComplete(),this._setState(A.Seek,!1)},i.prototype._cmdPlay=function(){this._playerPlugin.trackPlay(),this._setState(A.PlayPause,!0),this._setState(A.FPlayPause,!0),this._playUnhandledFromPrerollWaitTime=!1},i.prototype._cmdPause=function(){this._playerPlugin.trackPause(),this._setState(A.PlayPause,!1),this._setState(A.FPlayPause,!0)},i.prototype._cmdAdBreakStart=function(e){var t=e.getData(N);this._currentAdBreakObject=t,this._adBreakInfo=t.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:"",this._playerPlugin.trackAdBreakStart(),this._setState(A.AdBreak,!0)},i.prototype._cmdAdBreakComplete=function(){this._currentAdBreakObject=null,this._adBreakInfo=null,this._isInState(A.AdBreak)&&this._playerPlugin.trackAdBreakComplete(),this._setState(A.AdBreak,!1)},i.prototype._cmdAdStart=function(e){var t=e.getData(M),n=e.getData(R);this._currentAdObject=t,this._adInfo=t.createAdInfo();var r=t.getValue(B);"boolean"==typeof r&&(this._adInfo.granularTracking=r);var a=t.getValue(i.MediaObjectKey.StandardAdMetadata);a&&"object"==typeof a||(a=null);var o=this._prepareMetadata(a,n);this._aaPlugin.setAdMetadata(o),this._playerPlugin.trackAdStart(),this._setState(A.Ad,!0)},i.prototype._cmdAdComplete=function(){this._currentAdObject=null,this._adInfo=null,this._isInState(A.Ad)&&this._playerPlugin.trackAdComplete(),this._setState(A.Ad,!1)},i.prototype._cmdAdSkip=function(){this._currentAdObject=null,this._adInfo=null,this._isInState(A.Ad)&&this._playerPlugin.trackAdSkip(),this._setState(A.Ad,!1)},i.prototype._cmdChapterStart=function(e){var t=e.getData(O),n=e.getData(R);this._currentChapterObject=t,this._chapterInfo=t.createChapterInfo();var r=this._prepareMetadata(null,n);this._aaPlugin.setChapterMetadata(r),this._playerPlugin.trackChapterStart(),this._setState(A.Chapter,!0)},i.prototype._cmdChapterComplete=function(){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(A.Chapter)&&this._playerPlugin.trackChapterComplete(),this._setState(A.Chapter,!1)},i.prototype._cmdChapterSkip=function(){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(A.Chapter)&&this._playerPlugin.trackChapterSkip(),this._setState(A.Chapter,!1)},i.prototype._cmdError=function(e){var t=e.getData(L);t||(t="unknown_error_id"),this._playerPlugin.trackVideoPlayerError(t)},i.prototype._cmdBitrate=function(){this._playerPlugin.trackBitrateChange()},i.prototype._cmdTimedMetadataUpdate=function(e){var t=e.getData(x).getValue(o.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin.trackTimedMetadata(t)},i.prototype._processRule=function(e,t){return this._ruleEngine.processRule(e,t)},i.prototype._setupRules=function(){this._ruleEngine.registerEnterExitAction(this._cmdEnterAction,this._cmdExitAction),this._ruleEngine.registerRule(w.SessionStart,"API:trackSessionStart",[y.createPredicate(this._isPlatformTrackingSupported,!0,P.ErrUnSupportedPlatform),y.createPredicate(this._isTrackingDisabled,!1,P.ErrTrackingDisabled),y.createPredicate(this._isInSession,!1,P.ErrInSession),y.createPredicate(this._isValidMediaObject,!0,P.ErrInvalidMediaObject),y.createPredicate(this._isAudioTrackingSupported,!0,P.ErrAudioTrackingNotSupported)],[this._cmdConfigure,this._cmdSessionStart],this),this._ruleEngine.registerRule(w.SessionEnd,"API:trackSessionEnd",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession)],[this._cmdHandleMediaComplete,this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd,this._cmdSessionEnd],this),this._ruleEngine.registerRule(w.VideoComplete,"API:trackComplete",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd],this),
this._ruleEngine.registerRule(w.Error,"API:trackError",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia)],[this._cmdError],this),this._ruleEngine.registerRule(w.Play,"API:trackPlay",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,P.ErrInvalidPlayerState)],[this._cmdSeekComplete,this._cmdBufferComplete,this._cmdPlay],this),this._ruleEngine.registerRule(w.Pause,"API:trackPause",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,P.ErrInvalidPlayerState),y.createPredicate(this._isInBuffer,!1,P.ErrInBuffer),y.createPredicate(this._isInSeek,!1,P.ErrInSeek)],[this._cmdPause],this),this._ruleEngine.registerRule(w.BufferStart,"API:trackEvent(BufferStart)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,P.ErrInvalidPlayerState),y.createPredicate(this._isInBuffer,!1,P.ErrInBuffer),y.createPredicate(this._isInSeek,!1,P.ErrInSeek)],[this._cmdBufferStart],this),this._ruleEngine.registerRule(w.BufferComplete,"API:trackEvent(BufferComplete)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,P.ErrInvalidPlayerState),y.createPredicate(this._isInBuffer,!0,P.ErrNotInBuffer)],[this._cmdBufferComplete],this),this._ruleEngine.registerRule(w.SeekStart,"API:trackEvent(SeekStart)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,P.ErrInvalidPlayerState),y.createPredicate(this._isInSeek,!1,P.ErrInSeek),y.createPredicate(this._isInBuffer,!1,P.ErrInBuffer)],[this._cmdSeekStart],this),this._ruleEngine.registerRule(w.SeekComplete,"API:trackEvent(SeekComplete)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,P.ErrInvalidPlayerState),y.createPredicate(this._isInSeek,!0,P.ErrNotInSeek)],[this._cmdSeekComplete],this),this._ruleEngine.registerRule(w.AdBreakStart,"API:trackEvent(AdBreakStart)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isValidAdBreakObject,!0,P.ErrInvalidAdBreakObject),y.createPredicate(this._isDifferentAdBreakObject,!0,P.ErrDuplicateAdBreakObject)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdAdBreakStart],this),this._ruleEngine.registerRule(w.AdBreakComplete,"API:trackEvent(AdBreakComplete)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,P.ErrNotInAdBreak)],[this._cmdAdSkip,this._cmdAdBreakComplete],this),this._ruleEngine.registerRule(w.AdStart,"API:trackEvent(AdStart)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,P.ErrNotInAdBreak),y.createPredicate(this._isValidAdObject,!0,P.ErrInvalidAdObject),y.createPredicate(this._isDifferentAdObject,!0,P.ErrDuplicateAdObject)],[this._cmdAdSkip,this._cmdAdStart],this),this._ruleEngine.registerRule(w.AdComplete,"API:trackEvent(AdComplete)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,P.ErrNotInAdBreak),y.createPredicate(this._isInAd,!0,P.ErrNotInAd)],[this._cmdAdComplete],this),this._ruleEngine.registerRule(w.AdSkip,"API:trackEvent(AdSkip)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,P.ErrNotInAdBreak),y.createPredicate(this._isInAd,!0,P.ErrNotInAd)],[this._cmdAdSkip],this),this._ruleEngine.registerRule(w.ChapterStart,"API:trackEvent(ChapterStart)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isValidChapterObject,!0,P.ErrInvalidChapterObject),y.createPredicate(this._isDifferentChapterObject,!0,P.ErrDuplicateChapterObject)],[this._cmdChapterSkip,this._cmdChapterStart],this),this._ruleEngine.registerRule(w.ChapterComplete,"API:trackEvent(ChapterComplete)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isInChapter,!0,P.ErrNotInChapter)],[this._cmdChapterComplete],this),this._ruleEngine.registerRule(w.ChapterSkip,"API:trackEvent(ChapterSkip)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isInChapter,!0,P.ErrNotInChapter)],[this._cmdChapterSkip],this),this._ruleEngine.registerRule(w.BitrateChange,"API:trackEvent(BitrateChange)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia)],[this._cmdBitrate],this),this._ruleEngine.registerRule(w.TimedMetadataUpdate,"API:trackEvent(TimedMetadataUpdate)",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._isValidTimedMetadataObject,!0,P.ErrInvalidTimedMetadataObject)],[this._cmdTimedMetadataUpdate],this),this._ruleEngine.registerRule(w.DisableTracking,"Internal::DisableTracking",[y.createPredicate(this._isTrackingDisabled,!1,P.ErrTrackingDisabled)],[this._cmdDisableTracking],this),this._ruleEngine.registerRule(w.BeginReporting,"Internal::BeginReporting",[y.createPredicate(this._isInSession,!0,P.ErrNotInSession),y.createPredicate(this._isInMedia,!0,P.ErrNotInMedia),y.createPredicate(this._didBeginReporting,!1,P.ErrBeginReporting)],[this._cmdBeginReporting],this)},i.prototype._configureAdobeAnalyticsPlugin=function(){this._aaPlugin=new h(this._appMeasurement,new g(this));var e=new f;e.channel=this._config.channel?this._config.channel:"",e.debugLogging=n.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(e),this._plugins.push(this._aaPlugin)},i.prototype._configureAdobeHearbeatPlugin=function(){var e=this._appMeasurement.visitor?this._appMeasurement.visitor.marketingCloudOrgID:"";this._ahPlugin=new m(new v(this));var t=new _(this._config.trackingServer,e);t.debugLogging=n.MediaHeartbeat._debugLogging||this._config.debugLogging,t.ovp=this._config.ovp?this._config.ovp:"",t.ssl=this._config.ssl,t.sdk=this._config.appVersion?this._config.appVersion:"";var r=this._primetimeTVSDKVersion();r&&r.length>0&&(t.__primetime=!0,t.__psdkVersion=r),this._ahPlugin.configure(t),this._plugins.push(this._ahPlugin)},i.prototype._configureVideoPlayerPlugin=function(){this._playerPlugin=new l(new p(this));var e=new d;e.debugLogging=n.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(e),this._plugins.push(this._playerPlugin)},i.prototype._configureOtherPlugins=function(){if(n.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new n.plugins.nielsen.NielsenPlugin(new n._NielsenPluginDelegate(this,this._logger));var e=new n.plugins.nielsen.NielsenPluginConfig;e.debugLogging=n.MediaHeartbeat._debugLogging||this._config.debugLogging,e.appInfo=this._config.nielsenAppInfo,e.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(e),this._plugins.push(this._nielsenPlugin)}},i.prototype._configureHeartbeat=function(){var e=new c;e.debugLogging=n.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new s(new u(this),this._plugins),this._heartbeat.configure(e)},i.prototype._resetState=function(){this._taskScheduler.clearTasks(),this._privacyManager.reset(),this._mediaState={},this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._heartbeat=null,this._currentMediaObject=null,this._currentAdBreakObject=null,this._currentAdObject=null,this._currentChapterObject=null,this._videoInfo=null,this._adBreakInfo=null,this._adInfo=null,this._chapterInfo=null,this._prerollWaitEnabled=!0,this._prerollWaitTime=F,this._playReceived=!1,this._playUnhandledFromPrerollWaitTime=!1,this._playTaskHandle=null,this._playAfterAdStart=!1},i.prototype._primetimeTVSDKVersion=function(){return this._currentMediaObject?this._currentMediaObject.getValue(j):null},i.prototype._cleanContextData=function(e){if(null==e||"object"!=typeof e)return null;var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"number"!=typeof r&&"string"!=typeof r&&"boolean"!=typeof r||(t[n]=r)}return t},i.prototype._prepareMetadata=function(e,t){var n={};if(t&&S.append(n,t),e){var r=this._cleanContextData(e);S.append(n,r)}return delete n[V],n},i.prototype._onDelegateError=function(e){this._logger.error(C,e.getMessage()+" | "+e.getDetails())},i.prototype._onDelegateTrackingDisabled=function(){this._processRule(w.SessionEnd),this._processRule(w.DisableTracking)},i.prototype._onPrivacyChange=function(e){this._logger.info(C,"#_onPrivacyChange: Privacy Status: "+e),e===I.OPT_IN?this._processRule(w.BeginReporting):e===I.OPT_OUT&&this._processRule(w.SessionEnd)};var A={Session:0,Media:1,AdBreak:2,Ad:3,Chapter:4,PlayPause:5,Buffer:6,Seek:7,FPlayPause:8,Reporting:9},w={SessionStart:0,SessionEnd:1,VideoComplete:2,Play:3,Pause:4,Error:5,AdBreakStart:6,AdBreakComplete:7,AdStart:8,AdComplete:9,AdSkip:10,ChapterStart:11,ChapterComplete:12,ChapterSkip:13,SeekStart:14,SeekComplete:15,BufferStart:16,BufferComplete:17,BitrateChange:18,TimedMetadataUpdate:19,DisableTracking:20,BeginReporting:21},P={ErrUnSupportedPlatform:"MediaHeartbeat does not support tracking due to AppMeasurement or VisitorAPI not supporting the browser.",ErrNotInSession:'MediaHeartbeat is not in active tracking session, call "API:trackSessionStart" to begin a new tracking session.',ErrInSession:'MediaHeartbeat is in active tracking session, call "API:trackSessionEnd" to end current tracking session.',ErrNotInMedia:'MediaHeartbeat has completed tracking session, call "API:trackSessionEnd" first to end current session and then begin a new tracking session.',ErrInBuffer:'MediaHeartbeat is tracking buffer events, call "API:trackEvent(BufferComplete)" first to stop tracking buffer events.',ErrNotInBuffer:'MediaHeartbeat is not tracking buffer events, call "API:trackEvent(BufferStart)" before "API:trackEvent(BufferComplete)".',ErrInSeek:'MediaHeartbeat is tracking seek events, call "API:trackEvent(SeekComplete)" first to stop tracking seek events.',ErrNotInSeek:'MediaHeartbeat is not tracking seek events, call "API:trackEvent(SeekStart)" before "API:trackEvent(SeekComplete)".',ErrNotInAdBreak:'MediaHeartbeat is not tracking any AdBreak, call "API:trackEvent(AdBreakStart)" to begin tracking AdBreak',ErrNotInAd:'MediaHeartbeat is not tracking any Ad, call "API:trackEvent(AdStart)" to begin tracking Ad',ErrNotInChapter:'MediaHeartbeat is not tracking any Chapter, call "API:trackEvent(ChapterStart)" to begin tracking Chapter',ErrInvalidMediaObject:'MediaInfo passed into "API:trackSessionStart" is invalid.',ErrInvalidAdBreakObject:'AdBreakInfo passed into "API:trackEvent(AdBreakStart)" is invalid.',ErrDuplicateAdBreakObject:'MediaHeartbeat is currently tracking the AdBreak passed into "API:trackEvent(AdBreakStart)".',ErrInvalidAdObject:'AdInfo passed into "API:trackEvent(AdStart)" is invalid.',ErrDuplicateAdObject:'MediaHeartbeat is currently tracking the Ad passed into "API:trackEvent(AdStart)".',ErrInvalidChapterObject:'ChapterInfo passed into "API:trackEvent(ChapterStart)" is invalid.',ErrDuplicateChapterObject:'MediaHeartbeat is currently tracking the Chapter passed into "API:trackEvent(ChapterStart)".',ErrInvalidTimedMetadataObject:'TimedMetadata passed into "API:trackEvent(TimedMetadataUpdate)" is invalid.',ErrInvalidPlayerState:"MediaHeartbeat is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",ErrAudioTrackingNotSupported:"Upgrade your AppMeasurement library to version >= '2.11.0' to support tracking audio content.",ErrTrackingDisabled:"MediaHeartbeat tracking is disabled for this publisher. Please contact Adobe Representative to enable tracking.",ErrBeginReporting:"MediaHeartbeat has already started reporting."},C="MediaHeartbeat",D="key_media_object",N="key_adbreak_object",M="key_ad_object",O="key_chapter_object",x="key_timed_metadata_object",R="key_custom_metadata",L="key_error_id",V="a.media.streamType",j="a.__pttvsdkVersion",B="granular_ad_tracking",F=250;n._MediaHeartbeatRule=w,n._MediaHeartbeatErrorMessage=P,n.MediaHeartbeatDelegate=r,n.MediaHeartbeat=i,n.MediaHeartbeat._debugLogging=!1}(e.ADB.core,e.ADB.va),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=core),e.ADB.va||(e.ADB.va=va),e.ADB.va.plugins||(e.ADB.va.plugins={})}).call(t),e.va=t.ADB.va,e.core=t.ADB.core},"function"==typeof define&&define.amd?define(["exports"],r):"object"==typeof t&&"string"!=typeof t.nodeName?r(t):r(n.ADB={})}},"adobe-video-analytics/src/lib/helpers/mediaHeartbeat.js":{script:function(e,t,n){"use strict";var r=n("../codeLibrary/MediaSDK.min"),i=n("./deepFreeze"),a=r.va.MediaHeartbeat,o=(r.va.MediaHeartbeatDelegate,{Event:a.Event,MediaType:a.MediaType,StreamType:a.StreamType,MediaObjectKey:a.MediaObjectKey,VideoMetadataKeys:a.VideoMetadataKeys,AudioMetadataKeys:a.AudioMetadataKeys,AdMetadataKeys:a.AdMetadataKeys,version:a.version,createMediaObject:a.createMediaObject,createAdBreakObject:a.createAdBreakObject,createAdObject:a.createAdObject,createChapterObject:a.createChapterObject,createQoSObject:a.createQoSObject});e.exports=i(o)}},"adobe-video-analytics/src/lib/helpers/exportGlobal.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-window"),a=n("@adobe/reactor-object-assign"),o=n("./deepFreeze"),s=n("../codeLibrary/MediaSDK.min"),c=n("./getInstance"),u=n("./mediaHeartbeat"),l=s.va.MediaHeartbeatDelegate;e.exports=function(e){try{var t=e&&e.exportNamespace;if(t){var n={MediaHeartbeat:a({getInstance:c},u),MediaHeartbeatDelegate:l};if(void 0===i[t]||"object"==typeof i[t]&&!i[t])i[t]=o(n);else{var s='Exporting APIs to Browser window["'+t+'"] failed as it is not null/undefined.';r.logger.error(s)}}}catch(e){s='Exporting APIs to Browser window["'+t+'"] failed with reason'+e.message+".",r.logger.error(s)}}}},"adobe-video-analytics/src/lib/helpers/deepFreeze.js":{script:function(e){"use strict";function t(e){return Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];"object"==typeof r&&null!==r&&t(r)})),Object.freeze(e)}e.exports=t}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var n=e.elementProperty;return"text"===n?t.innerText||t.textContent:n in t?t[n]:t.getAttribute?t.getAttribute(n):void 0}}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return r.location.href;case"hostname":return r.location.hostname;case"pathname":return r.location.pathname;case"protocol":return r.location.protocol;case"referrer":return r.referrer;case"title":return r.title}}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var r=n("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),i=n("@adobe/reactor-query-string");e.exports=function(e){var t=i.parse(r.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),a=Object.keys(t),o=0;o<a.length;o++){var s=a[o];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-cookie");e.exports=function(e){return r.get(e.name)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),i=n("../helpers/textMatch");e.exports=function(e){var t=r.location.hostname;return e.subdomains.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return i(t,n)}))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,r){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=i[e];if(n){var a={identifier:e,detail:t};n.forEach((function(e){e(a)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),r.logger.log.apply(r.logger,o)}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=i[e.identifier];n||(n=i[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),i=n("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname+r.location.search;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return i(t,n)}))}}},"core/src/lib/events/mediaPlay.js":{name:"media-play",displayName:"Media Play",script:function(e,t,n){"use strict";var r=n("./helpers/createBubbly")();document.addEventListener("play",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,r){"use strict";var i,a,o,s,c=n("@adobe/reactor-document"),u=n("@adobe/reactor-promise"),l=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),h=n("./helpers/unescapeHtmlCode"),f=n("../helpers/findPageScript").getTurbine,g=(a=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return i&&"script"===t&&(e.attrs.nonce=i),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=h(e.attrs[t])})),e.src&&(e.src=h(e.src))),e},error:function(e){r.logger.error(e.msg)}})},o=[],s=function(){if(c.body)for(;o.length;)a(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),m=function(){if(c.currentScript)return c.currentScript.async;var e=f();return!e||e.async}();e.exports=function(e,t){var n;i=r.getExtensionSettings().cspNonce;var a={settings:e,event:t},o=a.settings.source;if(o)return a.settings.isExternal?d(o).then((function(e){return e?(n=l(a,e),g(n.code),n.promise):u.resolve()})):(n=l(a,o),m||"loading"!==c.readyState?g(n.code):c.write&&!1===r.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):g(n.code),n.promise)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var r=n("../helpers/stringAndNumberUtils").isString,i=n("../helpers/stringAndNumberUtils").isNumber,a=n("../helpers/stringAndNumberUtils").castToStringIfNumber,o=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&r(e)?e.toLowerCase():e},c=function(e){return function(t,n,i){return t=a(t),n=a(n),r(t)&&r(n)&&e(t,n,i)}},u=function(e){return function(t,n){return t=o(t),n=o(n),i(t)&&i(n)&&e(t,n)}},l=function(e){return function(t,n,r){return e(s(t,r),s(n,r))}},d={equals:l((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(l((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(l((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(l((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:u((function(e,t){return e<t})),lessThanOrEqual:u((function(e,t){return e<=t})),greaterThan:u((function(e,t){return e>t})),greaterThanOrEqual:u((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),i=n("./helpers/createBubbly")(),a=new(n("./helpers/weakMap")),o=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==o)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var i=t.getAttribute("href"),a=t.getAttribute("target");return i&&(!a||"_self"===a||"_top"===a&&r.top===r||a===r.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",i.evaluateEvent,!0),e.exports=function(e,t){i.addListener(e,(function(n){var i=n.nativeEvent;if(!i.s_fe){var o=s(e.anchorDelay);if(o&&!a.has(i)){var u=c(i);u&&(i.preventDefault(),setTimeout((function(){r.location=u.href}),o)),a.set(i,!0)}t(n)}}))},e.exports.__reset=i.__reset}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/conditions/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-cookie"),i=n("../helpers/textMatch");e.exports=function(e){var t=r.get(e.name);return!!t&&(Array.isArray(e.cookieValues)?e.cookieValues:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}]).some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return i(t,n)}))}}},"core/src/lib/conditions/landingPage.js":{name:"landing-page",displayName:"Landing Page",script:function(e,t,n){"use strict";var r=n("../helpers/visitorTracking"),i=n("../helpers/textMatch");e.exports=function(e){var t=r.getLandingPage();return!!t&&(Array.isArray(e.landingPages)?e.landingPages:[{value:e.page,pageIsRegex:Boolean(e.pageIsRegex)}]).some((function(e){var n=e.pageIsRegex?new RegExp(e.value,"i"):e.value;return i(t,n)}))}}},"core/src/lib/events/mediaEnded.js":{name:"media-ended",displayName:"Media Ended",script:function(e,t,n){"use strict";var r=n("./helpers/createBubbly")();document.addEventListener("ended",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,t)}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),r=e,i=0,a=n.length;i<a;i++){if(null==r)return;r=r[n[i]]}return r}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),a=-1!==r.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",u=[c,s,o],l=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};u.forEach((function(e){d[e]=[]}));var p=function(e,t){u.slice(0,f(e)+1).forEach((function(e){g(t,e)}))},h=function(){return"complete"===i.readyState?o:"interactive"===i.readyState?a?null:s:void 0},f=function(e){return u.indexOf(e)},g=function(e,t){d[t].forEach((function(t){m(e,t)})),d[t]=[]},m=function(e,t){var n=t.trigger,r=t.syntheticEventFn;n(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=p.bind(null,c),i.addEventListener("DOMContentLoaded",p.bind(null,s),!0),r.addEventListener("load",p.bind(null,o),!0),r.setTimeout((function(){var e=h();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:l.bind(null,i)})},registerWindowLoadedTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:l.bind(null,r)})}}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var r=n("./weakMap"),i=n("./matchesProperties"),a=n("./matchesSelector");e.exports=function(){var e=[],t=new r,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,r){if(e.length&&!t.has(n)){for(var o=n.target,s=!1;o;){for(var c=!1,u=!1,l=0;l<e.length;l++){var d=e[l],p=d.settings.elementSelector,h=d.settings.elementProperties;if((!1!==d.settings.bubbleFireIfChildFired||!s)&&(o===n.target||!1!==d.settings.bubbleFireIfParent)&&(o===n.target||p||h&&Object.keys(h).length)&&(!p||a(o,p))&&(!h||i(o,h))){var f={};r?Object.keys(n).forEach((function(e){f[e]=n[e]})):f.nativeEvent=n,f.element=o,f.target=n.target,!1!==d.callback(f)&&(u=!0,d.settings.bubbleStop&&(c=!0))}}if(c)break;u&&(s=!0),o=o.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window").WeakMap;if(void 0===r){var i=Object.defineProperty,a=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+a+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:i(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=r}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var r=n("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=i(e,t.name),a=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return r(n,a)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,r){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var r=n("./decorators/decorateGlobalJavaScriptCode"),i=n("./decorators/decorateNonGlobalJavaScriptCode"),a={javascript:function(e,t){return e.settings.global?r(e,t):i(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return a[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise"),i=n("./getSourceByUrl"),a=r.resolve();e.exports=function(e){var t=new r((function(t){var n=i(e);r.all([n,a]).then((function(e){var n=e[0];t(n)}))}));return a=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,r;n=this,r=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(1));e.exports=i.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(){}function o(){var e=f.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function r(e){e=n.beforeWrite(e),g.write(e),n.afterWrite(e)}(g=new l.default(e,n)).id=h++,g.name=n.name||g.id,c.streams[g.name]=g;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};u(i,{close:a,open:a,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join("")+"\n")}});var d=g.win.onerror||a;return g.win.onerror=function(e,t,r){n.error({msg:e+" - "+t+": "+r}),d.apply(g.win,[e,t,r])},g.write(t,(function(){u(i,s),g.win.onerror=d,n.done(),g=null,o()})),g}function c(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return f=[],g=null,void(h=0);n=d.defaults(n,p);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=a}},n.beforeEnqueue(r),f.push(r),g||o(),e.postscribe}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var l=i(n(2)),d=r(n(4)),p={afterAsync:a,afterDequeue:a,afterStreamStart:a,afterWrite:a,autoFix:!0,beforeEnqueue:a,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:a,error:function(e){throw new Error(e.msg)},releaseAsync:!1},h=0,f=[],g=null;u(c,{streams:{},queue:f,WriteStream:l.default})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=p+t,r=e.getAttribute(n);return l.existy(r)?String(r):r}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=p+t;l.existy(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=i(n(3)),l=r(n(4)),d=!1,p="data-ps-",h="ps-style",f="ps-script",g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new u.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){
this.parser.append(e);for(var t=void 0,n=void 0,r=void 0,i=[];(t=this.parser.readToken())&&!(n=l.isScript(t))&&!(r=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);i.length>0&&this._writeStaticTokens(i),n&&this._handleScriptToken(t),r&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],r=[],i=[],a=e.length,o=0;o<a;o++){var s=e[o],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var u=t++;r.push(c.replace(/(\/?>)/," "+p+"id="+u+" $1")),s.attrs.id!==f&&s.attrs.id!==h&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+u+(s.unary?" />":">"))}}else r.push(c),i.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:r.join(""),proxy:i.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!o(e,"proxyof")){n&&(this.actuals[o(e,"id")]=e,s(e,"id"));var r=e.parentNode&&o(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,h),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),r=this._shouldRelease(n),i=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,r?i:function(){t(),i()}));try{this._insertCursor(n,f),n.src&&!r||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function r(){n(),null!=t&&t(),t=null}function i(e){n(),o(e),null!=t&&t(),t=null}function a(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var o=this.options.error;a(e,"load"),a(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){i({msg:"onload handler failed "+t+" @ "+e.src})}r()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void i({msg:"onerror handler failed "+t+" @ "+e.src})}i({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&r()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=g},function(e){var t;t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(1));e.exports=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(n(2)),s=i(n(3)),c=r(n(6)),u=n(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.stream=n;var i=!1,s={};for(var u in o)o.hasOwnProperty(u)&&(r.autoFix&&(s[u+"Fix"]=!0),i=i||s[u+"Fix"]);i?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,u.escapeQuotes)(e[n],null));return t},d.supports=o,o)o.hasOwnProperty(p)&&(d.browserHasFlaw=d.browserHasFlaw||!o[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,r=!1,i=window.document.createElement("div");try{var a="<P><I></P></I>";i.innerHTML=a,t.tagSoup=n=i.innerHTML!==a}catch(e){t.tagSoup=n=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=r=2===i.childNodes.length}catch(e){t.selfClose=r=!1}i=null,t.tagSoup=n,t.selfClose=r},function(e,t,n){"use strict";function r(e){var t=e.indexOf("-->");if(t>=0)return new u.CommentToken(e.substr(4,t-1),t+3)}function i(e){var t=e.indexOf("<");return new u.CharsToken(t>=0?t:e.length)}function a(e){var t,n,r;if(-1!==e.indexOf(">")){var i=e.match(l.startTag);if(i){var a=(t={},n={},r=i[2],i[2].replace(l.attr,(function(e,i){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[i]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(i)&&i||"":t[i]="",r=r.replace(e,"")})),{v:new u.StartTagToken(i[1],i[0].length,t,n,!!i[3],r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":c(a)))return a.v}}}function o(e){var t=a(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new u.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}}function s(e){var t=e.match(l.endTag);if(t)return new u.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=r,t.chars=i,t.startTag=a,t.atomicTag=o,t.endTag=s;var u=n(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=n(5),a=(t.Token=function e(t,n){r(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){r(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){r(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,i,a,o){r(this,e),this.type=t,this.length=i,this.text="",this.tagName=n,this.attrs=a,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){n+=" "+r;var a=e.attrs[r];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[r]||(n+='="'+(0,i.escapeQuotes)(a)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,i,a,o,s){r(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=a,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return a.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,i,a,o){r(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return a.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){r(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function r(e,t){var r=e.stream,i=n(t());return e.stream=r,i}function i(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function a(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=r(e,o);t&&l[t.type]&&l[t.type](t)}var u=a(),l={startTag:function(n){var r=n.tagName;"TR"===r.toUpperCase()&&u.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(r)&&u.containsTagName(r)?u.lastTagNameEq(r)?i(e,u):(e.prepend("</"+n.tagName+">"),s()):n.unary||u.push(n)},endTag:function(n){u.last()?t.tagSoupFix&&!u.lastTagNameEq(n.tagName)?i(e,u):u.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),n(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function r(e){return"function"==typeof e}function i(e,t,n){var r=void 0,i=e&&e.length||0;for(r=0;r<i;r++)t.call(n,e[r],r)}function a(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function o(e,t){return e=e||{},a(t,(function(t,r){n(e[t])||(e[t]=r)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(r){var t=(n=[],i(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function u(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return u(e,"script")}function d(e){return u(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=r,t.each=i,t.eachKey=a,t.defaults=o,t.toArray=s,t.last=c,t.isTag=u,t.isScript=l,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof t?t.postscribe=r():n.postscribe=r()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return r.innerHTML=e,r.textContent||r.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),i=function(e){for(var t=r.querySelectorAll("script"),n=0;n<t.length;n++){var i=t[n];if(e.test(i.src))return i}},a=function(){return i(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:a,byRegexPattern:i}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:r.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise"),i=0;e.exports=function(e,t){var n="_runScript"+ ++i,a=new r((function(t,i){_satellite[n]=function(a){delete _satellite[n],new r((function(t){t(a.call(e.event.element,e.event,e.event.target,r))})).then(t,i)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:a}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-promise"),a=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},u=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return u(e)&&(t=r.replaceTokens(t,e.event)),s(t)?(n=new i((function(e,t){o[String(a)]={resolve:e,reject:t}})),t=c(t,a),a+=1):n=i.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-load-script"),i=n("@adobe/reactor-promise"),a=n("../../helpers/findPageScript").byRegexPattern,o={},s={},c=function(e){return s[e]||(s[e]=r(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var r=new RegExp(".*"+e+".*");n=a(r).getAttribute("src")}o[n]=t},e.exports=function(e){return o[e]?i.resolve(o[e]):new i((function(t){c(e).then((function(){t(o[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},r=function(e){return t(e)?String(e):e},i=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:r,castToNumberIfString:i}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,n){"use strict";var r,i=n("@adobe/reactor-document"),a=n("@adobe/reactor-window"),o=n("./getNamespacedStorage"),s="visitorTracking",c=o("localStorage",s),u=o("sessionStorage",s),l=function(){var e=u.getItem("landingPage");return e||(u.setItem("landingPage",a.location.href),u.setItem("landingTime",(new Date).getTime())),!e},d=function(){return u.getItem("landingPage")},p=function(){return Number(u.getItem("landingTime"))},h=function(){return Number(c.getItem("sessionCount"))},f=function(){return Number(c.getItem("pagesViewed"))},g=function(){var e=(new Date).getTime();return Math.floor((e-p())/1e3/60)},m=function(){return u.getItem("trafficSource")},_=function(){return Number(u.getItem("pagesViewed"))},v=function(){return 1===h()},y=function(e){e&&c.setItem("sessionCount",h()+1)},b=function(){u.setItem("pagesViewed",_()+1)},I=function(){c.setItem("pagesViewed",f()+1)},S=function(){u.getItem("trafficSource")||u.setItem("trafficSource",i.referrer)};r=l(),y(r),I(),b(),S(),e.exports={getLandingPage:d,getLandingTime:p,getMinutesOnSite:g,getSessionCount:h,getLifetimePageViewCount:f,getSessionPageViewCount:_,getTrafficSource:m,getIsNewVisitor:v}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,n,r){"use strict";var i=n("@adobe/reactor-window"),a="com.adobe.reactor.core";e.exports=function(e,t){var n='"'+e+'" is not available on the window object.',o=a+"."+t;return{getItem:function(t){try{return i[e].getItem(o+"."+t)}catch(e){return r.logger.warn(n),null}},setItem:function(t,a){try{return i[e].setItem(o+"."+t,a),!0}catch(e){return r.logger.warn(n),!1}}}}}}}},"extension-dmviewers":{displayName:"Dynamic Media Viewers",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP414d4f4369874f3aa0ea137f5cc78c5e/",settings:{videoTrackerProp:{trackVA:!0}},modules:{"extension-dmviewers/src/lib/sharedModules/dmviewersInstance.js":{name:"dmviewers-instance",shared:!0,script:function(e,t,n,r){"use strict";var i,a,o,s=r.getExtensionSettings(),c=n("../codeLibrary/dmviewersAPI"),u=n("../codeLibrary/dmConstants"),l=(i=c,a={videoTrackerProp:s.videoTrackerProp||u.getDefaultVideoTrackingConfig()},o=i.getInstance(a),r.logger.info("dmviewers Set dmeventnames: "+JSON.stringify(a)),o);void 0!==_satellite&&(_satellite._dmviewers_v001=function(){return l}),e.exports=l}},"extension-dmviewers/src/lib/sharedModules/vaprovider.js":{script:function(e,t,n,r){"use strict";e.exports=function(){function e(e){if(null==e)return 0;var t=parseInt(e);return isNaN(t)?0:Math.round(t/1e3)}var t=r.getSharedModule("adobe-video-analytics","media-heartbeat"),n=r.getSharedModule("adobe-video-analytics","get-instance");if(void 0!==n){var i=function(e){function t(t,n){this._queuedAPICalls=[],this._tracker=null,this._creatingTracker=!0,this._internalError=!1;var r=this;e(t,n).then((function(e){r._creatingTracker=!1,r._tracker=e,r._queuedAPICalls.forEach((function(e){r[e].apply(r._tracker,e.arguments)}))})).catch((function(e){console.log(e),r._internalError=!0}))}return["trackSessionStart","trackSessionEnd","trackComplete","trackPlay","trackPause","trackEvent","trackError"].forEach((function(e){t.prototype[e]=function(){if(!this._internalError)return this._creatingTracker?(r.logger.info("Creating MediaHeartbeat instance. Queuing current API call."),void this._queuedAPICalls.push({name:e,arguments:arguments})):void this._tracker[e].apply(this._tracker,arguments);r.logger.error("Error creating MediaHeartbeat instance. API call is dropped.")}})),t}(n),a=function(n){this._player=n;var r=function(e){this._videoPlayer=e};r.prototype.getCurrentPlaybackTime=function(){return e(this._videoPlayer.getCurrentPlayhead("CURRENT_TIME"))},r.prototype.getQoSObject=function(){return t.createQoSObject()},this._mediaHeartbeat=new i(new r(this._player))};return a.prototype.track=function(e){switch(this.fixTrackingParameters(e)&&this._onUnload(),e.eventType){case"LOAD":case"SWAP":this._onLoad();break;case"METADATA":e.params[1];break;case"PLAY":this._onPlay();break;case"PAUSE":this._onPause();break;case"STOP":this._onComplete(),this._onUnload(),this._onLoad()}},a.prototype.fixTrackingParameters=function(t){var n=!1;return"LOAD"===t.eventType?(t.params.length>2&&(this.playerName=t.params[1]),t.params.length>6&&(this.videoAsset=t.params[6]+"/"+t.params[6])):"METADATA"===t.eventType?"DURATION"===t.params[1]&&(this.videoDuration=e(t.params[2])):"SWAP"===t.eventType&&t.params.length>2&&(this.videoAsset=t.params[2],n=!0),n},a.prototype.getVideoInfo=function(){var e={};return e.id=this.videoAsset,e.name=this.videoAsset,e.length=this.videoDuration,e.streamType=t.StreamType.VOD,e.playerName=this.playerName,e.playhead=this.getCurrentPlayhead(),e},a.prototype.getCurrentPlayhead=function(){return e(this._player.getCurrentPlayhead())},a.prototype.destroy=function(){this._player&&(this._mediaHeartbeat=null,this._player=null,this._uninstallEventListeners())},a.prototype._onLoad=function(){var e={isUserLoggedIn:"false",tvStation:"",programmer:"Adobe Dynamic Media"},n=this.getVideoInfo(),r=t.createMediaObject(n.name,n.id,n.length,t.StreamType.VOD),i={};i[t.VideoMetadataKeys.EPISODE]="",i[t.VideoMetadataKeys.SHOW]="",r.setValue(t.MediaObjectKey.StandardVideoMetadata,i),this.currentInfo={mediaInfo:r,contextData:e},this._mediaHeartbeat.trackSessionStart(r,e)},a.prototype._onUnload=function(){r.logger.info("Player event: VIDEO_UNLOAD"),this._mediaHeartbeat.trackSessionEnd()},a.prototype._onPlay=function(){r.logger.info("Player event: PLAY"),this._mediaHeartbeat.trackPlay()},a.prototype._onPause=function(){r.logger.info("Player event: PAUSE"),this._mediaHeartbeat.trackPause()},a.prototype._onSeekStart=function(){r.logger.info("Player event: SEEK_START"),this._mediaHeartbeat.trackEvent(t.Event.SeekStart)},a.prototype._onSeekComplete=function(){r.logger.info("Player event: SEEK_COMPLETE"),this._mediaHeartbeat.trackEvent(t.Event.SeekComplete)},a.prototype._onBufferStart=function(){r.logger.info("Player event: BUFFER_START"),this._mediaHeartbeat.trackEvent(t.Event.BufferStart)},a.prototype._onBufferComplete=function(){r.logger.info("Player event: BUFFER_COMPLETE"),this._mediaHeartbeat.trackEvent(t.Event.BufferComplete)},a.prototype._onComplete=function(){r.logger.info("Player event: COMPLETE"),this._mediaHeartbeat.trackComplete()},{VAprovider:a}}r.logger.error("Adobe Media Analytics for Audio and Video is not installed.")}()},name:"vaprovider",shared:!0},"extension-dmviewers/src/lib/codeLibrary/dmviewersAPI.js":{script:function(e,t,n,r){"use strict";var i=n("../sharedModules/vaprovider"),a=n("./dmConstants");e.exports=function(){var e=null,t={},n={getInstance:function(t){return t&&(e=t),this}},o=function(e,t,n){this.isReady=!1,this.enableVA=n,this.eventsData=[],this.containerId=e.objID,this.setDataAndInitVA(e,t,n)};o.prototype.setDataAndInitVA=function(e,t,n){this.isReady||"LOAD"!==e.eventType||(this.isReady=!0,a.isVideoClass(e.compClass)&&t&&n&&(this.enableVA=!0,this.vap=new t.VAprovider(this))),this.setData(e)},o.prototype.setData=function(e){if(this.eventsData[e.eventType]=e,this.eventsData.COMMON={objID:e.objID,compClass:e.compClass,instName:e.instName,timeStamp:e.timeStamp,eventName:e.eventName},this.enableVA&&a.isVideoClass(e.compClass)&&this.vap){var t=this;setTimeout((function(){t.vap.track(e)}),0)}},o.prototype.getCurrentPlayhead=function(){var e=this.eventsData.CURRENT_TIME;return e=e&&e.params?e.params[1]:0};var s=function(e,t,n,i,o){var s=o.split(","),c={objID:e,compClass:t,instName:n,timeStamp:i,eventInfo:o,eventType:s[0].toString(),eventName:s[0].toString(),params:[]},u=c[c.eventType]={};if(a.dmEventDataDef[c.eventType]||"CURRENT_TIME"===c.eventType){var l="CURRENT_TIME"!==c.eventType?Object.keys(a.dmEventDataDef[c.eventType]):["curtime"],d=o.split(",");for(var p in d)d.hasOwnProperty(p)&&(c.params.push(decodeURIComponent(d[p])+""),p>0&&l[p-1]&&(u[l[p-1].replace(/ /g,"")]=c.params[c.params.length-1]));return c}r.logger.info("dmviewers parseEventData: unsupported "+c.eventType)};return n.trackingFn=function(n,r,a,c,u){if(e){var l=s(n,r,a,c,u);if(l){var d=t[n];if(null==d||void 0===d?d=t[n]=new o(l,i,e.videoTrackerProp.trackVA):d.isReady?d.setData(l):d.setDataAndInitVA(l,i,e.videoTrackerProp.trackVA),"CURRENT_TIME"!==l.eventType){var p=t.COMMON_TRACK;p?p.setData(l):t.COMMON_TRACK=new o(l,i,!1)}if(d.isReady){var h=new CustomEvent("DM_EXT_"+l.eventType,{detail:{dm:l,eventName:l.eventType,objID:n}});document.dispatchEvent(h)}}}},n.getEventData=function(e,n,r){var i=t[r.detail.objID].eventsData,o=a.dmEventDataDef[e][n],s=null;return void 0!==o?s=i[e]?i[e].eventInfo.split(",")[o]:"":"COMMON"===e&&(s=i[e]?i[e][n]:""),s},n.getRegisteredViewers=function(){return t},n}()}},"extension-dmviewers/src/lib/codeLibrary/dmConstants.js":{script:function(e){"use strict";var t,n;e.exports=(n={VideoPlayer:!0,Video360Player:!0},{dmEventDataDef:t={COMMON:{objID:void 0,compClass:void 0,eventName:void 0,instName:void 0,timeStamp:void 0},BANNER:{asset:1,frame:2,label:3},HREF:{rollover:1},ITEM:{rollover:1},LOAD:{"viewer type":1,"application name":2,"viewer version":3,"sdk version":4,company:5,asset:6},METADATA:{type:1,length:2},MILESTONE:{milestone:1},PAGE:{frame:1,label:2},PAN:{none:0},PAUSE:{timestamp:1},PLAY:{timestamp:1},SPIN:{"frame number":1},STOP:{timestamp:1},SWAP:{swap0:1,asset:2},SWATCH:{"frame ":1,label:2},TARG:{frame:1,label:2},ZOOM:{scale:1},MUTE:{timestamp:1},UNMUTE:{timestamp:1},REPLAY:{timestamp:1},PLAYBACK_COMPLETE:{timestamp:1},PLAYBACK_ERROR:{message:1},SOCIAL_SHARING:{mode:1},FULLSCREEN:{width:1,height:2},UN_FULLSCREEN:{width:1,height:2}},isVideoClass:function(e){return n.hasOwnProperty(e)},getDefaultVideoTrackingConfig:function(){return{trackVA:!0}},config:{getEventNames:function(){return Object.keys(t).filter((function(e){return"COMMON"!==e}))},getConfigEventDataNames:function(e){return Object.keys(t[e])},getConfigEventDataTypes:function(){return Object.keys(t).filter((function(e){return"PAN"!==e}))}}})}}}}},company:{orgId:"39F6555A58A470C30A495EF7@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Gigamon.com",settings:{domains:["gigamon.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PR9a1312dbffa84413a8eaa53803696c7b"},rules:[{id:"RL0e391905c8f44edeaec3cc783c2e1c1a",name:"ContentSquare-Corp-Sitewide",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"register.gigamonvisualyze.com",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"contentsquare/src/lib/actions/uxaInstallation.js",settings:{setPathInput:"",setQueryInput:"",setPathCheckbox:!1,setQueryCheckbox:!1}}]},{id:"RL1218a15dc1814c93b11c7d9ac117f611",name:"Marketo Form Complete",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mrktoFormSubmit"},ruleOrder:50}],conditions:[],actions:[{modulePath:"google-universal-analytics/src/lib/actions/sendEvent.js",settings:{fields:{eventLabel:"%page URL%",eventAction:"Form Submit",eventCategory:"Marketo Form"}}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%content: page name%"},{name:"eVar2",type:"value",value:"%page URL%"},{name:"eVar3",type:"value",value:"%PreviousPage%"},{name:"eVar9",type:"value",value:"%lead: app name%"},{name:"eVar10",type:"value",value:"%event.detail.detail.transactionID%"}],props:[{name:"prop3",type:"alias",value:"eVar3"}],events:[{name:"event16"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Marketo Form Submit",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL19d399c8927e46d594675422df8e86f9",name:"Floodlight-TradeDesk-Corp-ROIDNA-IDCReportDrivingEventSnippet",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/resources/resource-library/analyst-industry-reports/ar-idc-driving-productivity-in-deep-observability.html",valueIsRegex:!0}]}}],actions:[{modulePath:"doubleclick-floodlight/dist/lib/actions/floodlightCounter.js",settings:{params:{cat:{key:"cat",value:"drivi0"},src:{key:"src",value:"12082908"},type:{key:"type",value:"conve0"}},elementTagName:"img",floodlightType:"counter"}}]},{id:"RL31874d53f7044e6e9ff4bd5a2c2b693a",name:"project-engage-video7",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version7",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video7%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video7",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3214ff6694f24d12897b0fe76f927d35",name:"Marketo Form Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%FormId%",rightOperand:"mkto"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\n    MktoForms2.whenReady(function (form) {\n\n      // Add an onSubmit handler\n\n      form.onSuccess(function(){\n\n          // set function calls here, for example to fire google analytics or adobe analytics tracking\n\n          _satellite.track('mrktoFormSubmit');\n\n      });\n\n  });\n",language:"javascript"}}]},{id:"RL32a0833f160b4eadb757022d926b3eb7",name:"project-engage-video1",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"#animation_container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project_engage_video1%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video1",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3335746cd4454a6fabc2d561f3e7f1b2",name:"Sticky Nav Link Clicks",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"div .component-stickynav .sticky-header ul li a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("linkName",$(this).attr("title")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop7",type:"value",value:"%linkName%"},{name:"prop8",type:"value",value:"Sticky Nav"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"}}]},{id:"RL35c44c5cdb3a4e9293f7ab6945fcbbc5",name:"DoubleClick - Global Script",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c82e2088a759/3b64889e0c2d/2b5e95938a2b/RC46d44dbcb5974ed99b3e23a352507af4-source.min.js",language:"html",isExternal:!0}}]},{id:"RL3624bd5d20d347a69ccc754ef6f1357d",name:"6senseAPI-Corp-Sitewide",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"<script>\n\tvar processEpsilonData = function (a) {\n\t\tif (\"\" === a)\n\t\t\tconsole.log(\"6sense company details are not available\");\n\t\telse {\n\t\t\tconsole.info('6sense company details are available');\n\t\t\twindow.localStorage.setItem('_6senseCompanyDetails_ttl', window._ttl);\n\n\t\t\twindow._storagePopulated = true;\n\t\t\tvar b = JSON.parse(a);\n\n\t\t\t//SET VALUES TO EVARS\n            s.eVar22 = b.company.domain;\n\t\t\ts.eVar23 = b.company.name;\n            s.eVar24 = b.company.industry;\n\t\t\ts.eVar25 = b.company.country;\n            s.eVar26 = b.company.employee_range;\n\t\t\ts.eVar27 = b.company.revenue_range;\n            s.eVar30 = b.confidence;\n            s.eVar31 = b.company.sic;\n            s.eVar32 = b.company.naics;\n\t\t\t//s.eVar135 = a.company.region;\n\t\t\t//s.eVar144 = a.company.sic_description;\n\t\t\t//s.eVar146 = a.company.naics_description;\n\t\t\t//DEBUG\n\t\t\tconsole.info('eVar30 = ' + s.eVar30);\n\n\t\t\twindow.dispatchEvent(new CustomEvent('processEpsilonDataEvent'));\n\t\t}\n\t}\n    window._6si = window._6si || [];\n    window.dataLayer = window.dataLayer || [];\n    window._6si.push(['enableEventTracking', true]);\n    window._6si.push(['setToken', '4f8940777f901846f0ca8e9c86cb925a']);\n    window._6si.push(['setEndpoint', 'b.6sc.co']);\n    window._6si.push(['enableRetargeting', true]);\n\tvar epsilonName = \"enableCompanyDetails\", enabled = !0, callback = processEpsilonData, version = 3, ttl = Date.now() + 14400000;\n\tif (window.localStorage.getItem(\"_6senseCompanyDetails_ttl\") !== null && window.localStorage.getItem(\"_6senseCompanyDetails_ttl\") !== \"\" && Date.now() < window.localStorage.getItem(\"_6senseCompanyDetails_ttl\") && window.localStorage.getItem(\"_6senseCompanyDetails\") !== null && window.localStorage.getItem(\"_6senseCompanyDetails\") !== \"\") {\n\t    window._storagePopulated = true;\n\t    window._ttl = window.localStorage.getItem(\"_6senseCompanyDetails_ttl\");\n\t    setTimeout(function () {\n\t        callback(window.localStorage.getItem(\"_6senseCompanyDetails\"))\n\t    }, 1);\n\t} else {\n\t    window._ttl = ttl\n\t    window._6si.push([\"setEpsilonKey\", \"ddf12392dbe4d5adfc648c6b186ba049c40f03c4\"]);\n\t    window._6si.push([epsilonName, enabled, callback, version]);\n\t}\n    (function() {\n        var gd = document.createElement('script');\n        gd.type = 'text/javascript';\n        gd.async = true;\n        gd.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'j.6sc.co/6si.min.js';\n        var s = document.getElementsByTagName('script')[0];\n        s.parentNode.insertBefore(gd, s);\n    })();\n</script>",language:"html"}}]},{id:"RL370830a7df3e47a0b7223788173bc0d3",name:"Map 6sense data to eVars -- [Set Variables]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){var t=0;timer_e=setInterval((function(){console.log("window._storagePopulated analytics"+window._storagePopulated),(window._storagePopulated||500==t)&&(console.log("6sense Response received in: "+t+" ms"),console.log("Trigger Analytics!!!"),clearInterval(timer_e),e()),t++}),1)}},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar22",type:"value",value:"%6sense Domain%"},{name:"eVar23",type:"value",value:"%6sense Company%"},{name:"eVar24",type:"value",value:"%6sense Industry%"},{name:"eVar25",type:"value",value:"%6sense Country%"},{name:"eVar26",type:"value",value:"%6sense Employee Range%"},{name:"eVar27",type:"value",value:"%6sense Revenue Range%"},{name:"eVar28",type:"value",value:"%6sense Employee Count%"},{name:"eVar29",type:"value",value:"%6sense Annual Revenue%"},{name:"eVar30",type:"value",value:"%6sense Confidence%"},{name:"eVar31",type:"value",value:"%6sense sic%"},{name:"eVar32",type:"value",value:"%6sense naics%"}]}}}]},{id:"RL3b0ae5508ec84dd98192d351d978acce",name:"OneTrustCookiesConsentNotice-MOPs-Sitewide",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!-- OneTrust Cookies Consent Notice start for gigamon.com -->\n<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="5fc926c9-20d0-43e4-8b00-fe761c3e5ba6" ></script>\n<script type="text/javascript">\nfunction OptanonWrapper() { }\n</script>\n<!-- OneTrust Cookies Consent Notice end for gigamon.com -->',language:"html"}}]},{id:"RL40325af4921f4a64ba7c82af3d00c379",name:"LayerFive",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c82e2088a759/3b64889e0c2d/2b5e95938a2b/RC29f41d09594e405c8f49a801e69249af-source.min.js",language:"html",isExternal:!0}}]},{id:"RL45bf22f3bae540cd8d32a65ae0dfbe8f",name:"DoubleClick-TradeDesk-Corp-ROIDNA -DeepObsCampaignIMAGEPixel",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/campaigns/deep-observability.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<img height="1" width="1" style="border-style:none;" alt="" src="https://insight.adsrvr.org/track/pxl/?adv=12u1wvk&ct=0:v2ae435&fmt=3"/>',language:"html"}}]},{id:"RL4aca54fdb8974dedba86701c04369bcf",name:"DoubleClick - Site Wide Tag",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"doubleclick-floodlight/dist/lib/actions/floodlightCounter.js",settings:{params:{cat:{key:"cat",value:"gigam0"},src:{key:"src",value:"12082908"},type:{key:"type",value:"conve0"}},elementTagName:"iframe",floodlightType:"counter"}}]},{id:"RL4fcb723c562f45a394d1271c8bc66c3f",name:"project-engage-video8",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version8",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video8%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video8",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL58b92b1c018242538249956ea5202a98",name:"Global Site tag- GA4 (Sitewide)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c82e2088a759/3b64889e0c2d/2b5e95938a2b/RC9e98b75462d942ebb8ca94290788076c-source.min.js",language:"html",isExternal:!0}}]},{id:"RL6364dc35e7ba461083a7dbcafbc38c6e",name:"EIMS UID- Stage2 Lead Pixel",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/thank-you",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar __ldm_rgx = new RegExp('[\\\\?&]uid=([^&#]*)')\nvar __ldm_uid = __ldm_rgx.exec(location.search)\nif (__ldm_uid && __ldm_uid[1]) {\n  var __ldm_img = document.createElement('img')\n  __ldm_img.width = 0\n  __ldm_img.height = 0\n  __ldm_img.src =\n    'https://api.leandigitalmedia.com/v1/sp/ts/' + __ldm_uid[1] + '/2'\n  document.body.insertBefore(__ldm_img, document.body.firstChild)\n}\n</script>",language:"html"}}]},{id:"RL63dee845870844158e7315cf60df3238",name:"Footer Link Clicks",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"div .component-fat-footer .footer-container .section-container ul.sectionLinks li a",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("linkName",$(this).attr("title")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop8",type:"value",value:"Footer"},{name:"prop7",type:"value",value:"%linkName%"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"}}]},{id:"RL67261deeb00e49eaa9b0c3ff17ec0d61",name:"ContentSquare: Adobe Target ttMETA Plugin",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'/*\n *Name: Adobe Target CS Integration (at.js version)\n *Version: 1.0.0\n */\nfunction isEmpty(val) {\n    return val === undefined || val == null || val.length <= 0 ? true : false;\n}\n\nfunction key(obj) {\n    return Object.keys(obj)\n        .map(function (k) {\n            return k + "" + obj[k];\n        })\n        .join("");\n}\n\nfunction distinct(arr) {\n    var result = arr.reduce(function (acc, e) {\n        acc[key(e)] = e;\n        return acc;\n    }, {});\n    return Object.keys(result).map(function (k) {\n        return result[k];\n    });\n}\n\ndocument.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function (e) {\n    window.ttMETA = typeof window.ttMETA != "undefined" ? window.ttMETA : [];\n    var tokens = e.detail.responseTokens;\n    if (isEmpty(tokens)) {\n        return;\n    }\n    var uniqueTokens = distinct(tokens);\n    uniqueTokens.forEach(function (token) {\n        window.ttMETA.push({\n            CampaignName: token["activity.name"],\n            CampaignId: token["activity.id"],\n            RecipeName: token["experience.name"],\n            RecipeId: token["experience.id"],\n            \'OfferId\': token["offer.id"],\n            \'OfferName\': token["offer.name"],\n        });\n    });\n});\n//Adobe Target CS Integration End',language:"javascript"}}]},{id:"RL69954f0051fb4449ba504258ebff2b23",name:"LinkedIn Conversion Tag",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%FormId%",rightOperand:"mkto"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script src=\"https://app-abm.marketo.com/js/forms2/js/forms2.js\"></script>\n<script>\n    MktoForms2.whenReady(function (form) {\n\n      // Add an onSubmit handler\n\n      form.onSuccess(function(){\n\n          // set function calls here for tracking\n\n          window.lintrk('track', { conversion_id: 9866452 });\n\n      });\n\n  });\n</script>",language:"html"}}]},{id:"RL715f6e9f1b6944f88465e037d4c78449",name:"project-engage-video4",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version4",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video4%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video4",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL722010bdae204125bfa8e4641620a332",name:"LinkedIn Insight Tag",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RL7733a4c5e90f4ef29c79bd44f34b77cf",name:"Performance Cookies Blocked",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"OptanonConsent",value:",C0002,",valueIsRegex:!0}}],actions:[]},{id:"RL7869c3fb367f40938bfdd80254b5607e",name:"Hesitant Buyer Forms - capture country",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"use-cases/security",valueIsRegex:!0},{value:"solutions/gigasecure-security-delivery-platform",valueIsRegex:!0},{value:"gigavue-os/inline-bypass",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c82e2088a759/3b64889e0c2d/2b5e95938a2b/RCed2f5ef1204e4342a6bc9a559822e145-source.min.js",language:"html",isExternal:!0}}]},{id:"RL7ca4e407cfd94cc0bb5faff5f2f0bde6",name:"DAM Video Start",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%Video Title%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DAM video play",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL7d65d3a4d54742dcaf652fb9632da103",name:"Salesloft-Website-tracking-MOPS\u2014Sitewide",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script type=\"text/javascript\">\n    (function(i,s,o,g,r,a,m){i['SLScoutObject']=r;i[r]=i[r]||function(){\n    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://scout-cdn.salesloft.com/sl.js','slscout');\n    slscout([\"init\", \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0IjoxMDEzNTB9.WMfPsOO7_onkPSjHoloulOWneH55r0TIi2W9PLjZC8c\"]);\n</script>",language:"html"}}]},{id:"RL7e200580231c4ba794f5ca2263ae9312",name:"GCLID Found",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%gclid%",rightOperand:"[a-zA-Z0-9]{3,}"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar12",type:"value",value:"%gclid%"}]}}}]},{id:"RL7fd3635054554e7daca73ebf0d41cdc8",name:"project-engage-video5",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version5",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video5%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video5",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8e63e3d472344426b6e61cda4c8796b3",name:"DoubleClick-TradeDesk-Corp-ROIDNA-IDCReportDrivingIMAGEPixel",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/resources/resource-library/analyst-industry-reports/ar-idc-driving-productivity-in-deep-observability.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<img height="1" width="1" style="border-style:none;" alt="" src="https://insight.adsrvr.org/track/pxl/?adv=12u1wvk&ct=0:itoqg86&fmt=3"/>',language:"html"}}]},{id:"RL973ec260204c43a08bbddc7c12fa1546",name:"CS_PageEvent_FileDownload",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=$(this).attr("href");return _satellite.setVar("File_Download_Link",e),_satellite.getVar("File_Download_Link"),!0}}}],actions:[{modulePath:"contentsquare/src/lib/actions/pageEvents.js",settings:{events:[{eventName:"%File_Download_Link%"},{eventName:"%filedownload%"}]}}]},{id:"RL98b4c06ab4d24284b487a55ad3949ddd",name:"content: all pages (not Blog)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"blog.gigamon.com",valueIsRegex:!0},{value:"newsletter.gigamon.com",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%content: page name%"},{name:"eVar8",type:"value",value:"%internal campaign: id%"}],props:[{name:"prop1",type:"value",value:"%content: sub section 1%"},{name:"prop2",type:"value",value:"%content: sub section 2%"},{name:"prop4",type:"value",value:"%content: page type%"}],events:[{name:"event1"}],channel:"%content: site section%",campaign:{type:"value",value:"%getCampaignData%"},pageName:"%content: page name%"}}}]},{id:"RL9a237cf6640c42199d99e78537c0f4cf",name:"DoubleClick-TradeDesk-Corp-ROIDNA -Universal pixel",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://js.adsrvr.org/up_loader.1.1.0.js" type="text/javascript"></script>\n        <script type="text/javascript">\n            ttd_dom_ready( function() {\n                if (typeof TTDUniversalPixelApi === \'function\') {\n                    var universalPixelApi = new TTDUniversalPixelApi();\n                    //universalPixelApi.init("saipq4q", ["y0gkr84"], "https://insight.adsrvr.org/track/up");\n                  //** Upddated as per ROIDNA team instructions for TDD pixel changes by Srini **\n                  universalPixelApi.init("12u1wvk", ["kif45b8"], "https://insight.adsrvr.org/track/up");\n                }\n            });\n        </script>',language:"html"}}]},{id:"RL9ed2d334c31b42c6a5026a1321d99dc1",name:"content: all pages - Blog/Newsletter",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"blog.gigamon.com",valueIsRegex:!0},{value:"newsletter.gigamon.com",valueIsRegex:!0}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%blog: page name%"},{name:"eVar8",type:"value",value:"%internal campaign: id%"}],props:[{name:"prop4",type:"value",value:"%blog: page type%"}],events:[{name:"event1"}],channel:"%blog: site section%",campaign:{type:"value",value:"%getCampaignData%"},pageName:"%blog: page name%"}}}]},{id:"RLa5262de12a1840ca8c071e35b7b8713f",name:"Drift-Chatbot-Corp-Sitewide",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"fz=true",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/landingPage.js",settings:{landingPages:[{value:"https://engage.gigamon.com/ph",pageIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"author-prod.gigamon.com",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c82e2088a759/3b64889e0c2d/2b5e95938a2b/RC03da0290f21549f394cf902867bb8571-source.min.js",language:"html",isExternal:!0}}]},{id:"RLaf509fe35eeb4da19774577fcf5ed66a",name:"DAM Video End",events:[{modulePath:"core/src/lib/events/mediaEnded.js",settings:{bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%Video Title%"}],events:[{name:"event9"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DAM video end",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb2834ff165564e679cc451bbe4508522",name:"Engagement Menu Link Clicks",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"div .component-engagement-menu ul.menu li a",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("linkName",$(this).attr("title")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop8",type:"value",value:"Engagement Menu"},{name:"prop7",type:"value",value:"%linkName%"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"}}]},{id:"RLb4b4bddad66d49b382ee77cb4b54094f",name:"lead: start",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar9",type:"value",value:"%lead: app name%"}],events:[{name:"event7"}]}}}]},{id:"RLb88533f8c3874dfea56038924acebc62",name:"project-engage-video2",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version2",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video2%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video2",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLb9b4d2fb655c44df842e169bd6bebcec",name:"project-engage-video3",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version3",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video3%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video3",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLbb6244dbb6714e75ac836c1714b49203",name:"DoubleClick - Deep Observability ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/campaigns/deep-observability.html",valueIsRegex:!0}]}}],actions:[{modulePath:"doubleclick-floodlight/dist/lib/actions/floodlightCounter.js",settings:{params:{cat:{key:"cat",value:"deepo0"},src:{key:"src",value:"12082908"},type:{key:"type",value:"conve0"}},elementTagName:"iframe",floodlightType:"counter"}}]},{id:"RLbd47682c53094d31ab5974039b5c992b",name:"Main Navigation Tracking",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"div.component-sub-menu-wrapper a",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=jQuery(this).text().trim();return _satellite.setVar("navClick",e),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.log("s.prop7 = "+t.prop7)}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%content: page name%"}],props:[{name:"prop7",type:"value",value:"%navClick%"},{name:"prop8",type:"value",value:"Navigation Menu"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"nav link clicked",linkType:"o"}}]},{id:"RLbf33b2b291834d3ca4bdcaed7d14426a",name:"Social Share: Twitter",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a.twitter",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop7",type:"value",value:"Twitter Share"},{name:"prop8",type:"value",value:"Social Share"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Twitter Share",linkType:"o"}}]},{id:"RLccc838933b0a4c6cb107c14c6532129c",name:"Migrated from DTM: Adobe Analytics - Send Beacon on every page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){window.setTimeout((function(){window.s.t()}),5e3)}}}],actions:[]},{id:"RLcd82562d32614086b39bff33d04c1133",name:"Social Share: Facebook",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a.facebook",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop7",type:"value",value:"Facebook Share"},{name:"prop8",type:"value",value:"Social Share"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Facebook Share",linkType:"o"}}]},{id:"RLd4c62ad79b674d67a718ab14af184629",name:"EIMS UID- Stage1 Land Pixel",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar __ldm_rgx = new RegExp('[\\\\?&]uid=([^&#]*)')\nvar __ldm_uid = __ldm_rgx.exec(location.search)\nif (__ldm_uid && __ldm_uid[1]) {\n  var __ldm_img = document.createElement('img')\n  __ldm_img.width = 0\n  __ldm_img.height = 0\n  __ldm_img.src =\n    'https://api.leandigitalmedia.com/v1/sp/ts/' + __ldm_uid[1] + '/1'\n  document.body.insertBefore(__ldm_img, document.body.firstChild)\n}\n</script>",language:"html"}}]},{id:"RLe10130c6e3f34b0bba9cf303d0e1ea0c",name:"Sticky Footer links",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"div.sticky-footer-container a",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("linkName",$(this).attr("title")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop8",type:"value",value:"Sticky Footer"},{name:"prop7",type:"value",value:"%linkName%"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"}}]},{id:"RLe86180dca51144fd832d6488498e8f2c",name:"sent-target-beacon-on-every-page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}}]},{id:"RLedd08ff21b0140feb557205e07d95d03",name:"Social Share: Linkedin",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a span.st_linkedin_custom",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop7",type:"value",value:"LinkedIn Share"},{name:"prop8",type:"value",value:"Social Share"}],events:[{name:"event7"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"LinkedIn Share",linkType:"o"}}]},{id:"RLf485cfe0505b4451be32f39ee4131999",name:"project-engage-video6",events:[{modulePath:"core/src/lib/events/mediaPlay.js",settings:{elementSelector:"video#animation_container_version6",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%project-engage-video6%"}],events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"project-engage-video6",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function r(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function a(e){return Boolean(e&&void 0!==e.length)}function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void d(t.promise,e)}l(t.promise,r)}else(1===e._state?l:d)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void f(s(n,t),e)}e._state=1,e._value=t,p(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}function g(e){return!0===Fe(e)&&"[object Object]"===Object.prototype.toString.call(e)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function v(e){return e.substr(0,e.indexOf("["))}function y(e,t,n){if(e.length&&Ue(t)){var r=e[0];if(1!==e.length){var i=e.slice(1);if(!_(r))return y(i,t[r],n);var a=t[r=v(r)];Array.isArray(a)&&a.forEach((function(e){return y(i,e,n)}))}else t.hasOwnProperty(r)&&"string"==typeof t[r]&&(t[r]=n(t[r]))}}if(window.atob){var b=document,I=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,k=t()?Object.assign:function(t){for(var n,r,i=e(t),a=1;a<arguments.length;a++){
for(var o in n=Object(arguments[a]))S.call(n,o)&&(i[o]=n[o]);if(I){r=I(n);for(var s=0;s<r.length;s++)E.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},T=k,A=window,w=function(e,t,n,r){var i,a=Boolean(t&&Array.isArray(n)),o=Boolean(a&&e),s=document.createElement("a");if(a){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=A.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var u=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw u.code="dynamic_host_not_allowed",u}}var l=function(){if(null!=i)return i;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),i=s.protocol+"//"+e}else i="";return i},d=function(e){return o&&"string"==typeof e?[l(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},p={getTurbineHost:l,decorateWithDynamicHost:d,get isDynamicEnforced(){return a}};return A&&r.onDebugChanged((function(e){e?A.dynamicHostResolver=p:delete A.dynamicHostResolver})),p},P=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},C="debug",D=function(e,t){var n=function(){return"true"===e.getItem(C)},r=function(t){e.setItem(C,t)},i=[],a=function(e){i.push(e)};return t.outputEnabled=n(),{onDebugChanged:a,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,i.forEach((function(t){t(e)})))}}},N="Module did not export a function.",M=function(e,t,n){return function(r,i,a){a=a||[];var o=e.getModuleExports(r.modulePath);if("function"!=typeof o)throw new Error(N);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var u=t(c,i);return o.bind(null,u).apply(null,a)}},O=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},x={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},R="\ud83d\ude80",L=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":R,V=!1,j=function(e){if(V&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(L),e!==x.DEBUG||window.console[e]||(e=x.INFO),window.console[e].apply(window.console,t)}},B=j.bind(null,x.LOG),F=j.bind(null,x.INFO),U=j.bind(null,x.DEBUG),q=j.bind(null,x.WARN),H=j.bind(null,x.ERROR),Y=function(){var e=V;V=!0,j.apply(null,Array.prototype.concat(x.WARN,Array.prototype.slice.call(arguments))),e||(V=!1)},K={log:B,info:F,debug:U,warn:q,error:H,deprecation:Y,get outputEnabled(){return V},set outputEnabled(e){V=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:B.bind(null,t),info:F.bind(null,t),debug:U.bind(null,t),warn:q.bind(null,t),error:H.bind(null,t)}}},G="com.adobe.reactor.",W=function(e,t){var n=G+(t||"");return{getItem:function(t){try{return A[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return A[e].setItem(n+t,r),!0}catch(e){return!1}}}},z="dataElements.",Q=W("sessionStorage",z),J=W("localStorage",z),$={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},X={},Z=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,n){var r;switch(t){case $.PAGEVIEW:return void(X[e]=n);case $.SESSION:return void((r=Z(n))&&Q.setItem(e,r));case $.VISITOR:return void((r=Z(n))&&J.setItem(e,r))}},getValue:function(e,t){var n;switch(t){case $.PAGEVIEW:return X.hasOwnProperty(e)?X[e]:null;case $.SESSION:return null===(n=Q.getItem(e))?n:JSON.parse(n);case $.VISITOR:return null===(n=J.getItem(e))?n:JSON.parse(n)}}},te=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},ne=function(e,t,n,r,i){return function(a,o){var s=t(a);if(!s)return r?"":void 0;var c,u,l=s.storageDuration;try{c=e.getModuleExports(s.modulePath),u=e.getModuleDefinition(s.modulePath)}catch(e){return void K.error(te(s,a,e.message,e.stack))}if("function"==typeof c){var d,p=s.settings||{};!s.hasTransformedFilePaths&&u.filePaths&&(i(p,u.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(p,o),o)}catch(e){return void K.error(te(s,a,e.message,e.stack))}return l&&(null!=d?ee.setValue(a,l,d):d=ee.getValue(a,l)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=O(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}K.error(te(s,a,"Module did not export a function."))}},re={text:function(e){return e.textContent},cleanText:function(e){return O(e.textContent)}},ie=function(e,t,n){for(var r,i=e,a=0,o=t.length;a<o;a++){if(null==i)return;var s=t[a];if(n&&"@"===s.charAt(0)){var c=s.slice(1);i=re[c](i)}else if(i.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var u=r[1];i=i.getAttribute(u)}else i=i[s]}return i},ae=function(e,t,n){return function(r,i){var a;if(t(r))a=n(r,i);else{var o=r.split("."),s=o.shift();"this"===s?i&&(a=ie(i.element,o,!0)):"event"===s?i&&(a=ie(i,o)):"target"===s?i&&(a=ie(i.target,o)):a=ie(e[s],o)}return a}},oe=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},se=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},ce=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");K.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=se(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,i,a){var o={definition:n,extensionName:r,require:i,turbine:a};o.require=i,e[t]=o},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ue=!1,le=function(e){return function(t,n){var r=e._monitors;r&&(ue||(K.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ue=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},de=function(e,t,n){var r,i,a,o,s=[],c=function(r,i,a){if(!e(i))return r;s.push(i);var o=t(i,a);return s.pop(),null==o&&n?"":o};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},i=function(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var a=r[i],s=e[a];n[a]=o(s,t)}return n},a=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(o(e[r],t));return n},o=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?a(e,t):"object"==typeof e&&null!==e?i(e,t):e},function(e,t){return s.length>10?(K.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},pe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fe=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(o);return u(this,new h(e,t,n)),n},c.prototype.finally=i,c.all=function(e){return new c((function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){r(e,t)}),n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}if(!a(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,s=0;s<i.length;s++)r(s,i[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!a(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){fe(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ge=n(Object.freeze({__proto__:null,default:c})),me="undefined"!=typeof window&&window.Promise||void 0!==he&&he.Promise||ge.default||ge,_e=function(e,t,n){return function(r,i,a,o){return o.then((function(){var o,s=r.delayNext;return new me((function(t,n){var i=e(r,a,[a]);if(!s)return t();var c=r.timeout,u=new me((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));me.race([i,u]).then(t,n)})).catch((function(e){return clearTimeout(o),e=t(e),n(r,i,e),me.reject(e)})).then((function(){clearTimeout(o)}))}))}},ve=function(e,t,n,r,i){return function(a,o,s,c){return c.then((function(){var c;return new me((function(t,n){var r=e(a,s,[s]),i=a.timeout,o=new me((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+i/1e3+" seconds to complete. "))}),i)}));me.race([r,o]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(a,o,e),me.reject(e)})).then((function(e){if(clearTimeout(c),!n(a,e))return i(a,o),me.reject()}))}))}},ye=me.resolve(),be=function(e,t,n){return function(r,i){return r.conditions&&r.conditions.forEach((function(t){ye=e(t,r,i,ye)})),r.actions&&r.actions.forEach((function(e){ye=t(e,r,i,ye)})),ye=(ye=ye.then((function(){n(r)}))).catch((function(){}))}},Ie=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Se=function(e,t,n,r){return function(i,a){var o;if(i.conditions)for(var s=0;s<i.conditions.length;s++){o=i.conditions[s];try{var c=e(o,a,[a]);if(Ie(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,c))return n(o,i),!1}catch(e){return r(o,i,e),!1}}return!0}},Ee=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},ke=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},Te=function(e){return function(t){var n=t.rule,r=t.event,i=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+i,$rule:{id:n.id,name:n.name}}}},Ae=function(e,t,n,r,i,a){return function(o,s){var c=s.rule,u=s.event;u.settings=u.settings||{};try{var l=i(s);t(u,null,[function(t){var r=n(l,t);o((function(){e(r,c)}))}])}catch(e){a.error(r(u,c,e))}}},we=function(e,t,n,r){return function(i,a,o){var s=t(i);n.error(e(s,a.name,o)),r("ruleActionFailed",{rule:a,action:i})}},Pe=function(e,t,n,r){return function(i,a,o){var s=t(i);n.error(e(s,a.name,o)),r("ruleConditionFailed",{rule:a,condition:i})}},Ce=function(e,t,n){return function(r,i){var a=e(r);t.log('Condition "'+a+'" for rule "'+i.name+'" was not met.'),n("ruleConditionFailed",{rule:i,condition:r})}},De=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Ne=function(e,t,n){return function(r,i){var a;if(r.actions)for(var o=0;o<r.actions.length;o++){a=r.actions[o];try{e(a,i,[i])}catch(e){return void t(a,r,e)}}n(r)}},Me=function(e,t,n,r){return function(i,a){r("ruleTriggered",{rule:a}),e?n(a,i):t(a,i)}},Oe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},xe=function(e,t){return t&&!e.negate||!t&&e.negate},Re=[],Le=!1,Ve=function(e){Le?e():Re.push(e)},je=function(e,t,n){e(t).forEach((function(e){n(Ve,e)})),Le=!0,Re.forEach((function(e){e()})),Re=[]},Be=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Fe=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ue=function(e){var t,n;return!1!==g(e)&&("function"==typeof(t=e.constructor)&&(!1!==g(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},qe=function(e,t){return Ue(t=t||{})?t=T({},t,e):T(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return K.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},He=function(e,t){return function(n,r){var i=e[n];if(i){var a=i.modules;if(a)for(var o=Object.keys(a),s=0;s<o.length;s++){var c=o[s],u=a[c];if(u.shared&&u.name===r)return t.getModuleExports(c)}}}},Ye=function(e,t){return function(){return t?e(t):{}}},Ke=function(e,t,n){return function(r){if(n){var i=r.split(".");i.splice(i.length-1||1,0,"min"),r=i.join(".")}return e(t)+r}},Ge=".js",We=function(e){return e.substr(0,e.lastIndexOf("/"))},ze=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Qe=function(e,t){ze(t,Ge)||(t+=Ge);var n=t.split("/"),r=We(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},Je=r((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,r=window.Cookies=t();r.noConflict=function(){return window.Cookies=n,r}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n((function(){}))}))})),$e={get:Je.get,set:Je.set,remove:Je.remove},Xe=function(e,t){return new me((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},Ze=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Xe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},et=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var c=0;c<s;++c){var u,l,d,p,h=e[c].replace(a,"%20"),f=h.indexOf(n);f>=0?(u=h.substr(0,f),l=h.substr(f+1)):(u=h,l=""),d=decodeURIComponent(u),p=decodeURIComponent(l),m(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},nt=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var i=encodeURIComponent(tt(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return i+encodeURIComponent(tt(e))})).join(t):i+encodeURIComponent(tt(e[r]))})).join(t):r?encodeURIComponent(tt(r))+n+encodeURIComponent(tt(e)):""},rt=r((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=nt})),it="@adobe/reactor-",at={cookie:$e,document:b,"load-script":Ze,"object-assign":T,promise:me,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),rt.parse(e)},stringify:function(e){return rt.stringify(e)}},window:A},ot=function(e){return function(t){if(0===t.indexOf(it)){var n=t.substr(it.length),r=at[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,n,r,i,a,o){var s=e.extensions,c=e.buildInfo,u=e.environment,l=e.property.settings;if(s){var d=He(s,t);Object.keys(s).forEach((function(p){var h=s[p],f=h.settings;Array.isArray(h.filePaths)&&(f=a(f,h.filePaths));var g=Ye(r,f);if(h.modules){var m=K.createPrefixedLogger(h.displayName),_=Ke(o,h.hostedLibFilesBaseUrl,c.minified),v={buildInfo:c,environment:u,property:{name:e.property.name,id:e.property.id},getDataElementValue:i,getExtensionSettings:g,getHostedLibFileUrl:_,getSharedModule:d,logger:m,propertySettings:l,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(h.modules).forEach((function(e){var n=h.modules[e],r=ot((function(n){var r=Qe(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,p,r,v)}))}})),t.hydrateCache()}return t},ct=function(e,t,n,r,i){var a=K.createPrefixedLogger("Custom Script");e.track=function(e){K.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=a,e.notify=function(e,t){switch(K.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:a.info(e);break;case 4:a.warn(e);break;case 5:a.error(e);break;default:a.log(e)}},e.getVar=r,e.setVar=i,e.setCookie=function(e,t,n){var r="",i={};n&&(r=", { expires: "+n+" }",i.expires=n);var a='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";K.deprecation(a),$e.set(e,t,i)},e.readCookie=function(e){return K.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),$e.get(e)},e.removeCookie=function(e){K.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),$e.remove(e)},e.cookie=$e,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(K.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},ut=function(e,t){return function(n,r,i){return e&&Ue(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=i&&/^core\/.*actions.*\/customCode\.js$/.test(i))&&"source"===e&&!n.isExternal||y(e.split("."),n,t)})),n):n}},lt=window._satellite;if(lt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var dt=lt.container;delete lt.container;var pt=T({},dt.buildInfo);Object.defineProperty(pt,"environment",{get:function(){return K.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),dt.environment.stage}}),dt.buildInfo=pt;var ht,ft=D(W("localStorage"),K),gt="";b.currentScript&&b.currentScript.getAttribute("src")&&(gt=b.currentScript.getAttribute("src"));try{ht=w(gt,Boolean(dt.company.dynamicCdnEnabled),dt.company.cdnAllowList,ft)}catch(e){throw K.warn("Please review the following error:"),e}var mt,_t=ut(ht.isDynamicEnforced,ht.decorateWithDynamicHost),vt=ce(),yt=dt.property.settings.undefinedVarsReturnEmpty,bt=dt.property.settings.ruleComponentSequencingEnabled,It=dt.dataElements||{},St=function(e){return It[e]},Et=function(){return mt.apply(null,arguments)},kt=ne(vt,St,Et,yt,_t),Tt={},At=pe(Tt),wt=oe(Tt,St),Pt=ae(Tt,St,kt);mt=de(wt,Pt,yt),ct(lt,dt,ft.setDebugEnabled,Pt,At),st(dt,vt,ft,mt,kt,_t,ht.decorateWithDynamicHost);var Ct=le(lt),Dt=M(vt,mt,_t),Nt=ke(vt),Mt=Ce(Nt,K,Ct),Ot=Pe(Oe,Nt,K,Ct),xt=we(Oe,Nt,K,Ct),Rt=De(K,Ct),Lt=Ae(Me(bt,Ee(Se(Dt,xe,Mt,Ot),Ne(Dt,xt,Rt)),be(ve(Dt,Be,xe,Ot,Mt),_e(Dt,Be,xt),Rt),Ct),Dt,qe,Oe,Te(vt),K);je(P,dt.rules||[],Lt)}return lt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();